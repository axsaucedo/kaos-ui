var UI=Object.defineProperty;var jw=e=>{throw TypeError(e)};var HI=(e,t,n)=>t in e?UI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ws=(e,t,n)=>HI(e,typeof t!="symbol"?t+"":t,n),Qh=(e,t,n)=>t.has(e)||jw("Cannot "+n);var re=(e,t,n)=>(Qh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>t.has(e)?jw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Le=(e,t,n,r)=>(Qh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Jt=(e,t,n)=>(Qh(e,t,"access private method"),n);var Uu=(e,t,n,r)=>({set _(o){Le(e,t,o,n)},get _(){return re(e,t,r)}});function WI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xC={exports:{}},pm={},yC={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),KI=Symbol.for("react.portal"),qI=Symbol.for("react.fragment"),YI=Symbol.for("react.strict_mode"),GI=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),QI=Symbol.for("react.context"),JI=Symbol.for("react.forward_ref"),ZI=Symbol.for("react.suspense"),eD=Symbol.for("react.memo"),tD=Symbol.for("react.lazy"),Nw=Symbol.iterator;function nD(e){return e===null||typeof e!="object"?null:(e=Nw&&e[Nw]||e["@@iterator"],typeof e=="function"?e:null)}var vC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wC=Object.assign,bC={};function ol(e,t,n){this.props=e,this.context=t,this.refs=bC,this.updater=n||vC}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jC(){}jC.prototype=ol.prototype;function by(e,t,n){this.props=e,this.context=t,this.refs=bC,this.updater=n||vC}var jy=by.prototype=new jC;jy.constructor=by;wC(jy,ol.prototype);jy.isPureReactComponent=!0;var Cw=Array.isArray,NC=Object.prototype.hasOwnProperty,Ny={current:null},CC={key:!0,ref:!0,__self:!0,__source:!0};function SC(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)NC.call(t,r)&&!CC.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ou,type:e,key:a,ref:i,props:o,_owner:Ny.current}}function rD(e,t){return{$$typeof:ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cy(e){return typeof e=="object"&&e!==null&&e.$$typeof===ou}function sD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sw=/\/+/g;function Jh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sD(""+e.key):t.toString(36)}function Dd(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ou:case KI:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Jh(i,0):r,Cw(o)?(n="",e!=null&&(n=e.replace(Sw,"$&/")+"/"),Dd(o,t,n,"",function(u){return u})):o!=null&&(Cy(o)&&(o=rD(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Sw,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Cw(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Jh(a,l);i+=Dd(a,t,n,c,o)}else if(c=nD(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Jh(a,l++),i+=Dd(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hu(e,t,n){if(e==null)return e;var r=[],o=0;return Dd(e,r,"","",function(a){return t.call(n,a,o++)}),r}function oD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Ld={transition:null},aD={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:Ny};function kC(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Hu,forEach:function(e,t,n){Hu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hu(e,function(){t++}),t},toArray:function(e){return Hu(e,function(t){return t})||[]},only:function(e){if(!Cy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=ol;Be.Fragment=qI;Be.Profiler=GI;Be.PureComponent=by;Be.StrictMode=YI;Be.Suspense=ZI;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aD;Be.act=kC;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wC({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ny.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)NC.call(t,c)&&!CC.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ou,type:e.type,key:o,ref:a,props:r,_owner:i}};Be.createContext=function(e){return e={$$typeof:QI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XI,_context:e},e.Consumer=e};Be.createElement=SC;Be.createFactory=function(e){var t=SC.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:JI,render:e}};Be.isValidElement=Cy;Be.lazy=function(e){return{$$typeof:tD,_payload:{_status:-1,_result:e},_init:oD}};Be.memo=function(e,t){return{$$typeof:eD,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=Ld.transition;Ld.transition={};try{e()}finally{Ld.transition=t}};Be.unstable_act=kC;Be.useCallback=function(e,t){return wn.current.useCallback(e,t)};Be.useContext=function(e){return wn.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};Be.useEffect=function(e,t){return wn.current.useEffect(e,t)};Be.useId=function(){return wn.current.useId()};Be.useImperativeHandle=function(e,t,n){return wn.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return wn.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return wn.current.useReducer(e,t,n)};Be.useRef=function(e){return wn.current.useRef(e)};Be.useState=function(e){return wn.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return wn.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return wn.current.useTransition()};Be.version="18.3.1";yC.exports=Be;var x=yC.exports;const te=su(x),Sy=WI({__proto__:null,default:te},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD=x,lD=Symbol.for("react.element"),cD=Symbol.for("react.fragment"),uD=Object.prototype.hasOwnProperty,dD=iD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fD={key:!0,ref:!0,__self:!0,__source:!0};function EC(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)uD.call(t,r)&&!fD.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:lD,type:e,key:a,ref:i,props:o,_owner:dD.current}}pm.Fragment=cD;pm.jsx=EC;pm.jsxs=EC;xC.exports=pm;var s=xC.exports,PC={exports:{}},Xn={},MC={exports:{}},RC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,I){var A=_.length;_.push(I);e:for(;0<A;){var B=A-1>>>1,U=_[B];if(0<o(U,I))_[B]=I,_[A]=U,A=B;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var I=_[0],A=_.pop();if(A!==I){_[0]=A;e:for(var B=0,U=_.length,O=U>>>1;B<O;){var q=2*(B+1)-1,ne=_[q],se=q+1,z=_[se];if(0>o(ne,A))se<U&&0>o(z,ne)?(_[B]=z,_[se]=A,B=se):(_[B]=ne,_[q]=A,B=q);else if(se<U&&0>o(z,A))_[B]=z,_[se]=A,B=se;else break e}}return I}function o(_,I){var A=_.sortIndex-I.sortIndex;return A!==0?A:_.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,d=null,m=3,h=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=_)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function C(_){if(g=!1,w(_),!y)if(n(c)!==null)y=!0,L(N);else{var I=n(u);I!==null&&F(C,I.startTime-_)}}function N(_,I){y=!1,g&&(g=!1,p(P),P=-1),h=!0;var A=m;try{for(w(I),d=n(c);d!==null&&(!(d.expirationTime>I)||_&&!k());){var B=d.callback;if(typeof B=="function"){d.callback=null,m=d.priorityLevel;var U=B(d.expirationTime<=I);I=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(c)&&r(c),w(I)}else r(c);d=n(c)}if(d!==null)var O=!0;else{var q=n(u);q!==null&&F(C,q.startTime-I),O=!1}return O}finally{d=null,m=A,h=!1}}var j=!1,S=null,P=-1,M=5,E=-1;function k(){return!(e.unstable_now()-E<M)}function T(){if(S!==null){var _=e.unstable_now();E=_;var I=!0;try{I=S(!0,_)}finally{I?D():(j=!1,S=null)}}else j=!1}var D;if(typeof v=="function")D=function(){v(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=T,D=function(){$.postMessage(null)}}else D=function(){b(T,0)};function L(_){S=_,j||(j=!0,D())}function F(_,I){P=b(function(){_(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,L(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var A=m;m=I;try{return _()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,I){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=m;m=_;try{return I()}finally{m=A}},e.unstable_scheduleCallback=function(_,I,A){var B=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?B+A:B):A=B,_){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,_={id:f++,callback:I,priorityLevel:_,startTime:A,expirationTime:U,sortIndex:-1},A>B?(_.sortIndex=A,t(u,_),n(c)===null&&_===n(u)&&(g?(p(P),P=-1):g=!0,F(C,A-B))):(_.sortIndex=U,t(c,_),y||h||(y=!0,L(N))),_},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(_){var I=m;return function(){var A=m;m=I;try{return _.apply(this,arguments)}finally{m=A}}}})(RC);MC.exports=RC;var mD=MC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=x,Yn=mD;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TC=new Set,yc={};function Oa(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(yc[e]=t,e=0;e<t.length;e++)TC.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,pD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kw={},Ew={};function gD(e){return kg.call(Ew,e)?!0:kg.call(kw,e)?!1:pD.test(e)?Ew[e]=!0:(kw[e]=!0,!1)}function xD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yD(e,t,n,r){if(t===null||typeof t>"u"||xD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Ey(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ky,Ey);Gt[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ky,Ey);Gt[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ky,Ey);Gt[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Py(e,t,n,r){var o=Gt.hasOwnProperty(t)?Gt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yD(t,n,o,r)&&(n=null),r||o===null?gD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vs=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Mg=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),IC=Symbol.for("react.offscreen"),Pw=Symbol.iterator;function Rl(e){return e===null||typeof e!="object"?null:(e=Pw&&e[Pw]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Zh;function ql(e){if(Zh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zh=t&&t[1]||""}return`
`+Zh+e}var ep=!1;function tp(e,t){if(!e||ep)return"";ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ep=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ql(e):""}function vD(e){switch(e.tag){case 5:return ql(e.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return e=tp(e.type,!1),e;case 11:return e=tp(e.type.render,!1),e;case 1:return e=tp(e.type,!0),e;default:return""}}function Rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Za:return"Fragment";case Ja:return"Portal";case Eg:return"Profiler";case My:return"StrictMode";case Pg:return"Suspense";case Mg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _C:return(e.displayName||"Context")+".Consumer";case AC:return(e._context.displayName||"Context")+".Provider";case Ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ty:return t=e.displayName||null,t!==null?t:Rg(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return Rg(e(t))}catch{}}return null}function wD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(t);case 8:return t===My?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bD(e){var t=DC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ku(e){e._valueTracker||(e._valueTracker=bD(e))}function LC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=DC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tg(e,t){var n=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OC(e,t){t=t.checked,t!=null&&Py(e,"checked",t,!1)}function Ag(e,t){OC(e,t);var n=Ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_g(e,t.type,n):t.hasOwnProperty("defaultValue")&&_g(e,t.type,Ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _g(e,t,n){(t!=="number"||cf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yl=Array.isArray;function gi(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ao(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ig(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(Yl(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ao(n)}}function $C(e,t){var n=Ao(t.value),r=Ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Aw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qu,zC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jD=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(e){jD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nc[t]=nc[e]})});function VC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nc.hasOwnProperty(e)&&nc[e]?(""+t).trim():t+"px"}function BC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=VC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ND=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(e,t){if(t){if(ND[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function Ay(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fg=null,xi=null,yi=null;function _w(e){if(e=lu(e)){if(typeof Fg!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=wm(t),Fg(e.stateNode,e.type,t))}}function UC(e){xi?yi?yi.push(e):yi=[e]:xi=e}function HC(){if(xi){var e=xi,t=yi;if(yi=xi=null,_w(e),t)for(e=0;e<t.length;e++)_w(t[e])}}function WC(e,t){return e(t)}function KC(){}var np=!1;function qC(e,t,n){if(np)return e(t,n);np=!0;try{return WC(e,t,n)}finally{np=!1,(xi!==null||yi!==null)&&(KC(),HC())}}function wc(e,t){var n=e.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var zg=!1;if(As)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){zg=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{zg=!1}function CD(e,t,n,r,o,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var rc=!1,uf=null,df=!1,Vg=null,SD={onError:function(e){rc=!0,uf=e}};function kD(e,t,n,r,o,a,i,l,c){rc=!1,uf=null,CD.apply(SD,arguments)}function ED(e,t,n,r,o,a,i,l,c){if(kD.apply(this,arguments),rc){if(rc){var u=uf;rc=!1,uf=null}else throw Error(ce(198));df||(df=!0,Vg=u)}}function $a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iw(e){if($a(e)!==e)throw Error(ce(188))}function PD(e){var t=e.alternate;if(!t){if(t=$a(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Iw(o),e;if(a===r)return Iw(o),t;a=a.sibling}throw Error(ce(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function GC(e){return e=PD(e),e!==null?XC(e):null}function XC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XC(e);if(t!==null)return t;e=e.sibling}return null}var QC=Yn.unstable_scheduleCallback,Dw=Yn.unstable_cancelCallback,MD=Yn.unstable_shouldYield,RD=Yn.unstable_requestPaint,Mt=Yn.unstable_now,TD=Yn.unstable_getCurrentPriorityLevel,_y=Yn.unstable_ImmediatePriority,JC=Yn.unstable_UserBlockingPriority,ff=Yn.unstable_NormalPriority,AD=Yn.unstable_LowPriority,ZC=Yn.unstable_IdlePriority,gm=null,rs=null;function _D(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(gm,e,void 0,(e.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:LD,ID=Math.log,DD=Math.LN2;function LD(e){return e>>>=0,e===0?32:31-(ID(e)/DD|0)|0}var Yu=64,Gu=4194304;function Gl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=Gl(l):(a&=i,a!==0&&(r=Gl(a)))}else i=n&~o,i!==0?r=Gl(i):a!==0&&(r=Gl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mr(t),o=1<<n,r|=e[n],t&=~o;return r}function OD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $D(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Mr(a),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=OD(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Bg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eS(){var e=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),e}function rp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function au(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mr(t),e[t]=n}function FD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Mr(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Qe=0;function tS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nS,Dy,rS,sS,oS,Ug=!1,Xu=[],jo=null,No=null,Co=null,bc=new Map,jc=new Map,ao=[],zD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(t.pointerId)}}function Al(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=lu(t),t!==null&&Dy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function VD(e,t,n,r,o){switch(t){case"focusin":return jo=Al(jo,e,t,n,r,o),!0;case"dragenter":return No=Al(No,e,t,n,r,o),!0;case"mouseover":return Co=Al(Co,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return bc.set(a,Al(bc.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,jc.set(a,Al(jc.get(a)||null,e,t,n,r,o)),!0}return!1}function aS(e){var t=sa(e.target);if(t!==null){var n=$a(t);if(n!==null){if(t=n.tag,t===13){if(t=YC(n),t!==null){e.blockedOn=t,oS(e.priority,function(){rS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Od(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return t=lu(n),t!==null&&Dy(t),e.blockedOn=n,!1;t.shift()}return!0}function Ow(e,t,n){Od(e)&&n.delete(t)}function BD(){Ug=!1,jo!==null&&Od(jo)&&(jo=null),No!==null&&Od(No)&&(No=null),Co!==null&&Od(Co)&&(Co=null),bc.forEach(Ow),jc.forEach(Ow)}function _l(e,t){e.blockedOn===t&&(e.blockedOn=null,Ug||(Ug=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,BD)))}function Nc(e){function t(o){return _l(o,e)}if(0<Xu.length){_l(Xu[0],e);for(var n=1;n<Xu.length;n++){var r=Xu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jo!==null&&_l(jo,e),No!==null&&_l(No,e),Co!==null&&_l(Co,e),bc.forEach(t),jc.forEach(t),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)aS(n),n.blockedOn===null&&ao.shift()}var vi=Vs.ReactCurrentBatchConfig,hf=!0;function UD(e,t,n,r){var o=Qe,a=vi.transition;vi.transition=null;try{Qe=1,Ly(e,t,n,r)}finally{Qe=o,vi.transition=a}}function HD(e,t,n,r){var o=Qe,a=vi.transition;vi.transition=null;try{Qe=4,Ly(e,t,n,r)}finally{Qe=o,vi.transition=a}}function Ly(e,t,n,r){if(hf){var o=Hg(e,t,n,r);if(o===null)mp(e,t,r,pf,n),Lw(e,r);else if(VD(o,e,t,n,r))r.stopPropagation();else if(Lw(e,r),t&4&&-1<zD.indexOf(e)){for(;o!==null;){var a=lu(o);if(a!==null&&nS(a),a=Hg(e,t,n,r),a===null&&mp(e,t,r,pf,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else mp(e,t,r,null,n)}}var pf=null;function Hg(e,t,n,r){if(pf=null,e=Ay(r),e=sa(e),e!==null)if(t=$a(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pf=e,null}function iS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TD()){case _y:return 1;case JC:return 4;case ff:case AD:return 16;case ZC:return 536870912;default:return 16}default:return 16}}var xo=null,Oy=null,$d=null;function lS(){if($d)return $d;var e,t=Oy,n=t.length,r,o="value"in xo?xo.value:xo.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return $d=o.slice(e,1<r?1-r:void 0)}function Fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qu(){return!0}function $w(){return!1}function Qn(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qu:$w,this.isPropagationStopped=$w,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=Qn(al),iu=wt({},al,{view:0,detail:0}),WD=Qn(iu),sp,op,Il,xm=wt({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&e.type==="mousemove"?(sp=e.screenX-Il.screenX,op=e.screenY-Il.screenY):op=sp=0,Il=e),sp)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Fw=Qn(xm),KD=wt({},xm,{dataTransfer:0}),qD=Qn(KD),YD=wt({},iu,{relatedTarget:0}),ap=Qn(YD),GD=wt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=Qn(GD),QD=wt({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JD=Qn(QD),ZD=wt({},al,{data:0}),zw=Qn(ZD),e3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n3[e])?!!t[e]:!1}function Fy(){return r3}var s3=wt({},iu,{key:function(e){if(e.key){var t=e3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fy,charCode:function(e){return e.type==="keypress"?Fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o3=Qn(s3),a3=wt({},xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=Qn(a3),i3=wt({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fy}),l3=Qn(i3),c3=wt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),u3=Qn(c3),d3=wt({},xm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f3=Qn(d3),m3=[9,13,27,32],zy=As&&"CompositionEvent"in window,sc=null;As&&"documentMode"in document&&(sc=document.documentMode);var h3=As&&"TextEvent"in window&&!sc,cS=As&&(!zy||sc&&8<sc&&11>=sc),Bw=" ",Uw=!1;function uS(e,t){switch(e){case"keyup":return m3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function p3(e,t){switch(e){case"compositionend":return dS(t);case"keypress":return t.which!==32?null:(Uw=!0,Bw);case"textInput":return e=t.data,e===Bw&&Uw?null:e;default:return null}}function g3(e,t){if(ei)return e==="compositionend"||!zy&&uS(e,t)?(e=lS(),$d=Oy=xo=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cS&&t.locale!=="ko"?null:t.data;default:return null}}var x3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x3[e.type]:t==="textarea"}function fS(e,t,n,r){UC(r),t=gf(t,"onChange"),0<t.length&&(n=new $y("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oc=null,Cc=null;function y3(e){NS(e,0)}function ym(e){var t=ri(e);if(LC(t))return e}function v3(e,t){if(e==="change")return t}var mS=!1;if(As){var ip;if(As){var lp="oninput"in document;if(!lp){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),lp=typeof Ww.oninput=="function"}ip=lp}else ip=!1;mS=ip&&(!document.documentMode||9<document.documentMode)}function Kw(){oc&&(oc.detachEvent("onpropertychange",hS),Cc=oc=null)}function hS(e){if(e.propertyName==="value"&&ym(Cc)){var t=[];fS(t,Cc,e,Ay(e)),qC(y3,t)}}function w3(e,t,n){e==="focusin"?(Kw(),oc=t,Cc=n,oc.attachEvent("onpropertychange",hS)):e==="focusout"&&Kw()}function b3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ym(Cc)}function j3(e,t){if(e==="click")return ym(t)}function N3(e,t){if(e==="input"||e==="change")return ym(t)}function C3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:C3;function Sc(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!kg.call(t,o)||!_r(e[o],t[o]))return!1}return!0}function qw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yw(e,t){var n=qw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qw(n)}}function pS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gS(){for(var e=window,t=cf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cf(e.document)}return t}function Vy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S3(e){var t=gS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pS(n.ownerDocument.documentElement,n)){if(r!==null&&Vy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Yw(n,a);var i=Yw(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k3=As&&"documentMode"in document&&11>=document.documentMode,ti=null,Wg=null,ac=null,Kg=!1;function Gw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||ti==null||ti!==cf(r)||(r=ti,"selectionStart"in r&&Vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&Sc(ac,r)||(ac=r,r=gf(Wg,"onSelect"),0<r.length&&(t=new $y("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}function Ju(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ni={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},cp={},xS={};As&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function vm(e){if(cp[e])return cp[e];if(!ni[e])return e;var t=ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xS)return cp[e]=t[n];return e}var yS=vm("animationend"),vS=vm("animationiteration"),wS=vm("animationstart"),bS=vm("transitionend"),jS=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){jS.set(e,t),Oa(t,[e])}for(var up=0;up<Xw.length;up++){var dp=Xw[up],E3=dp.toLowerCase(),P3=dp[0].toUpperCase()+dp.slice(1);zo(E3,"on"+P3)}zo(yS,"onAnimationEnd");zo(vS,"onAnimationIteration");zo(wS,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(bS,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function Qw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ED(r,t,void 0,e),e.currentTarget=null}function NS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;Qw(o,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;Qw(o,l,u),a=c}}}if(df)throw e=Vg,df=!1,Vg=null,e}function lt(e,t){var n=t[Qg];n===void 0&&(n=t[Qg]=new Set);var r=e+"__bubble";n.has(r)||(CS(t,e,2,!1),n.add(r))}function fp(e,t,n){var r=0;t&&(r|=4),CS(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Zu]){e[Zu]=!0,TC.forEach(function(n){n!=="selectionchange"&&(M3.has(n)||fp(n,!1,e),fp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zu]||(t[Zu]=!0,fp("selectionchange",!1,t))}}function CS(e,t,n,r){switch(iS(t)){case 1:var o=UD;break;case 4:o=HD;break;default:o=Ly}n=o.bind(null,t,n,e),o=void 0,!zg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function mp(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=sa(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}qC(function(){var u=a,f=Ay(n),d=[];e:{var m=jS.get(e);if(m!==void 0){var h=$y,y=e;switch(e){case"keypress":if(Fd(n)===0)break e;case"keydown":case"keyup":h=o3;break;case"focusin":y="focus",h=ap;break;case"focusout":y="blur",h=ap;break;case"beforeblur":case"afterblur":h=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=qD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=l3;break;case yS:case vS:case wS:h=XD;break;case bS:h=u3;break;case"scroll":h=WD;break;case"wheel":h=f3;break;case"copy":case"cut":case"paste":h=JD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Vw}var g=(t&4)!==0,b=!g&&e==="scroll",p=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,p!==null&&(C=wc(v,p),C!=null&&g.push(Ec(v,C,w)))),b)break;v=v.return}0<g.length&&(m=new h(m,y,null,n,f),d.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==$g&&(y=n.relatedTarget||n.fromElement)&&(sa(y)||y[_s]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?sa(y):null,y!==null&&(b=$a(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(g=Fw,C="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Vw,C="onPointerLeave",p="onPointerEnter",v="pointer"),b=h==null?m:ri(h),w=y==null?m:ri(y),m=new g(C,v+"leave",h,n,f),m.target=b,m.relatedTarget=w,C=null,sa(f)===u&&(g=new g(p,v+"enter",y,n,f),g.target=w,g.relatedTarget=b,C=g),b=C,h&&y)t:{for(g=h,p=y,v=0,w=g;w;w=Ha(w))v++;for(w=0,C=p;C;C=Ha(C))w++;for(;0<v-w;)g=Ha(g),v--;for(;0<w-v;)p=Ha(p),w--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=Ha(g),p=Ha(p)}g=null}else g=null;h!==null&&Jw(d,m,h,g,!1),y!==null&&b!==null&&Jw(d,b,y,g,!0)}}e:{if(m=u?ri(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=v3;else if(Hw(m))if(mS)N=N3;else{N=b3;var j=w3}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=j3);if(N&&(N=N(e,u))){fS(d,N,n,f);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&_g(m,"number",m.value)}switch(j=u?ri(u):window,e){case"focusin":(Hw(j)||j.contentEditable==="true")&&(ti=j,Wg=u,ac=null);break;case"focusout":ac=Wg=ti=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,Gw(d,n,f);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":Gw(d,n,f)}var S;if(zy)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ei?uS(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(cS&&n.locale!=="ko"&&(ei||P!=="onCompositionStart"?P==="onCompositionEnd"&&ei&&(S=lS()):(xo=f,Oy="value"in xo?xo.value:xo.textContent,ei=!0)),j=gf(u,P),0<j.length&&(P=new zw(P,e,null,n,f),d.push({event:P,listeners:j}),S?P.data=S:(S=dS(n),S!==null&&(P.data=S)))),(S=h3?p3(e,n):g3(e,n))&&(u=gf(u,"onBeforeInput"),0<u.length&&(f=new zw("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=S))}NS(d,t)})}function Ec(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gf(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=wc(e,n),a!=null&&r.unshift(Ec(e,a,o)),a=wc(e,t),a!=null&&r.push(Ec(e,a,o))),e=e.return}return r}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jw(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,o?(c=wc(n,a),c!=null&&i.unshift(Ec(n,c,l))):o||(c=wc(n,a),c!=null&&i.push(Ec(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var R3=/\r\n?/g,T3=/\u0000|\uFFFD/g;function Zw(e){return(typeof e=="string"?e:""+e).replace(R3,`
`).replace(T3,"")}function ed(e,t,n){if(t=Zw(t),Zw(e)!==t&&n)throw Error(ce(425))}function xf(){}var qg=null,Yg=null;function Gg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,_3=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(e){return eb.resolve(null).then(e).catch(I3)}:Xg;function I3(e){setTimeout(function(){throw e})}function hp(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Nc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Nc(t)}function So(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),Zr="__reactFiber$"+il,Pc="__reactProps$"+il,_s="__reactContainer$"+il,Qg="__reactEvents$"+il,D3="__reactListeners$"+il,L3="__reactHandles$"+il;function sa(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_s]||n[Zr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tb(e);e!==null;){if(n=e[Zr])return n;e=tb(e)}return t}e=n,n=e.parentNode}return null}function lu(e){return e=e[Zr]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function wm(e){return e[Pc]||null}var Jg=[],si=-1;function Vo(e){return{current:e}}function ut(e){0>si||(e.current=Jg[si],Jg[si]=null,si--)}function rt(e,t){si++,Jg[si]=e.current,e.current=t}var _o={},an=Vo(_o),Tn=Vo(!1),ba=_o;function zi(e,t){var n=e.type.contextTypes;if(!n)return _o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function An(e){return e=e.childContextTypes,e!=null}function yf(){ut(Tn),ut(an)}function nb(e,t,n){if(an.current!==_o)throw Error(ce(168));rt(an,t),rt(Tn,n)}function SS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ce(108,wD(e)||"Unknown",o));return wt({},n,r)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,ba=an.current,rt(an,e),rt(Tn,Tn.current),!0}function rb(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=SS(e,t,ba),r.__reactInternalMemoizedMergedChildContext=e,ut(Tn),ut(an),rt(an,e)):ut(Tn),rt(Tn,n)}var ks=null,bm=!1,pp=!1;function kS(e){ks===null?ks=[e]:ks.push(e)}function O3(e){bm=!0,kS(e)}function Bo(){if(!pp&&ks!==null){pp=!0;var e=0,t=Qe;try{var n=ks;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ks=null,bm=!1}catch(o){throw ks!==null&&(ks=ks.slice(e+1)),QC(_y,Bo),o}finally{Qe=t,pp=!1}}return null}var oi=[],ai=0,wf=null,bf=0,tr=[],nr=0,ja=null,Ps=1,Ms="";function ea(e,t){oi[ai++]=bf,oi[ai++]=wf,wf=e,bf=t}function ES(e,t,n){tr[nr++]=Ps,tr[nr++]=Ms,tr[nr++]=ja,ja=e;var r=Ps;e=Ms;var o=32-Mr(r)-1;r&=~(1<<o),n+=1;var a=32-Mr(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ps=1<<32-Mr(t)+o|n<<o|r,Ms=a+e}else Ps=1<<a|n<<o|r,Ms=e}function By(e){e.return!==null&&(ea(e,1),ES(e,1,0))}function Uy(e){for(;e===wf;)wf=oi[--ai],oi[ai]=null,bf=oi[--ai],oi[ai]=null;for(;e===ja;)ja=tr[--nr],tr[nr]=null,Ms=tr[--nr],tr[nr]=null,Ps=tr[--nr],tr[nr]=null}var Hn=null,Bn=null,gt=!1,Cr=null;function PS(e,t){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hn=e,Bn=So(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ja!==null?{id:Ps,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hn=e,Bn=null,!0):!1;default:return!1}}function Zg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ex(e){if(gt){var t=Bn;if(t){var n=t;if(!sb(e,t)){if(Zg(e))throw Error(ce(418));t=So(n.nextSibling);var r=Hn;t&&sb(e,t)?PS(r,n):(e.flags=e.flags&-4097|2,gt=!1,Hn=e)}}else{if(Zg(e))throw Error(ce(418));e.flags=e.flags&-4097|2,gt=!1,Hn=e}}}function ob(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hn=e}function td(e){if(e!==Hn)return!1;if(!gt)return ob(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gg(e.type,e.memoizedProps)),t&&(t=Bn)){if(Zg(e))throw MS(),Error(ce(418));for(;t;)PS(e,t),t=So(t.nextSibling)}if(ob(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bn=So(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=Hn?So(e.stateNode.nextSibling):null;return!0}function MS(){for(var e=Bn;e;)e=So(e.nextSibling)}function Vi(){Bn=Hn=null,gt=!1}function Hy(e){Cr===null?Cr=[e]:Cr.push(e)}var $3=Vs.ReactCurrentBatchConfig;function Dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function nd(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ab(e){var t=e._init;return t(e._payload)}function RS(e){function t(p,v){if(e){var w=p.deletions;w===null?(p.deletions=[v],p.flags|=16):w.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function o(p,v){return p=Mo(p,v),p.index=0,p.sibling=null,p}function a(p,v,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<v?(p.flags|=2,v):w):(p.flags|=2,v)):(p.flags|=1048576,v)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,w,C){return v===null||v.tag!==6?(v=jp(w,p.mode,C),v.return=p,v):(v=o(v,w),v.return=p,v)}function c(p,v,w,C){var N=w.type;return N===Za?f(p,v,w.props.children,C,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===so&&ab(N)===v.type)?(C=o(v,w.props),C.ref=Dl(p,v,w),C.return=p,C):(C=Kd(w.type,w.key,w.props,null,p.mode,C),C.ref=Dl(p,v,w),C.return=p,C)}function u(p,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Np(w,p.mode,C),v.return=p,v):(v=o(v,w.children||[]),v.return=p,v)}function f(p,v,w,C,N){return v===null||v.tag!==7?(v=ga(w,p.mode,C,N),v.return=p,v):(v=o(v,w),v.return=p,v)}function d(p,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jp(""+v,p.mode,w),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wu:return w=Kd(v.type,v.key,v.props,null,p.mode,w),w.ref=Dl(p,null,v),w.return=p,w;case Ja:return v=Np(v,p.mode,w),v.return=p,v;case so:var C=v._init;return d(p,C(v._payload),w)}if(Yl(v)||Rl(v))return v=ga(v,p.mode,w,null),v.return=p,v;nd(p,v)}return null}function m(p,v,w,C){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(p,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:return w.key===N?c(p,v,w,C):null;case Ja:return w.key===N?u(p,v,w,C):null;case so:return N=w._init,m(p,v,N(w._payload),C)}if(Yl(w)||Rl(w))return N!==null?null:f(p,v,w,C,null);nd(p,w)}return null}function h(p,v,w,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(w)||null,l(v,p,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Wu:return p=p.get(C.key===null?w:C.key)||null,c(v,p,C,N);case Ja:return p=p.get(C.key===null?w:C.key)||null,u(v,p,C,N);case so:var j=C._init;return h(p,v,w,j(C._payload),N)}if(Yl(C)||Rl(C))return p=p.get(w)||null,f(v,p,C,N,null);nd(v,C)}return null}function y(p,v,w,C){for(var N=null,j=null,S=v,P=v=0,M=null;S!==null&&P<w.length;P++){S.index>P?(M=S,S=null):M=S.sibling;var E=m(p,S,w[P],C);if(E===null){S===null&&(S=M);break}e&&S&&E.alternate===null&&t(p,S),v=a(E,v,P),j===null?N=E:j.sibling=E,j=E,S=M}if(P===w.length)return n(p,S),gt&&ea(p,P),N;if(S===null){for(;P<w.length;P++)S=d(p,w[P],C),S!==null&&(v=a(S,v,P),j===null?N=S:j.sibling=S,j=S);return gt&&ea(p,P),N}for(S=r(p,S);P<w.length;P++)M=h(S,p,P,w[P],C),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?P:M.key),v=a(M,v,P),j===null?N=M:j.sibling=M,j=M);return e&&S.forEach(function(k){return t(p,k)}),gt&&ea(p,P),N}function g(p,v,w,C){var N=Rl(w);if(typeof N!="function")throw Error(ce(150));if(w=N.call(w),w==null)throw Error(ce(151));for(var j=N=null,S=v,P=v=0,M=null,E=w.next();S!==null&&!E.done;P++,E=w.next()){S.index>P?(M=S,S=null):M=S.sibling;var k=m(p,S,E.value,C);if(k===null){S===null&&(S=M);break}e&&S&&k.alternate===null&&t(p,S),v=a(k,v,P),j===null?N=k:j.sibling=k,j=k,S=M}if(E.done)return n(p,S),gt&&ea(p,P),N;if(S===null){for(;!E.done;P++,E=w.next())E=d(p,E.value,C),E!==null&&(v=a(E,v,P),j===null?N=E:j.sibling=E,j=E);return gt&&ea(p,P),N}for(S=r(p,S);!E.done;P++,E=w.next())E=h(S,p,P,E.value,C),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?P:E.key),v=a(E,v,P),j===null?N=E:j.sibling=E,j=E);return e&&S.forEach(function(T){return t(p,T)}),gt&&ea(p,P),N}function b(p,v,w,C){if(typeof w=="object"&&w!==null&&w.type===Za&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:e:{for(var N=w.key,j=v;j!==null;){if(j.key===N){if(N=w.type,N===Za){if(j.tag===7){n(p,j.sibling),v=o(j,w.props.children),v.return=p,p=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===so&&ab(N)===j.type){n(p,j.sibling),v=o(j,w.props),v.ref=Dl(p,j,w),v.return=p,p=v;break e}n(p,j);break}else t(p,j);j=j.sibling}w.type===Za?(v=ga(w.props.children,p.mode,C,w.key),v.return=p,p=v):(C=Kd(w.type,w.key,w.props,null,p.mode,C),C.ref=Dl(p,v,w),C.return=p,p=C)}return i(p);case Ja:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(p,v.sibling),v=o(v,w.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=Np(w,p.mode,C),v.return=p,p=v}return i(p);case so:return j=w._init,b(p,v,j(w._payload),C)}if(Yl(w))return y(p,v,w,C);if(Rl(w))return g(p,v,w,C);nd(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(p,v.sibling),v=o(v,w),v.return=p,p=v):(n(p,v),v=jp(w,p.mode,C),v.return=p,p=v),i(p)):n(p,v)}return b}var Bi=RS(!0),TS=RS(!1),jf=Vo(null),Nf=null,ii=null,Wy=null;function Ky(){Wy=ii=Nf=null}function qy(e){var t=jf.current;ut(jf),e._currentValue=t}function tx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){Nf=e,Wy=ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function dr(e){var t=e._currentValue;if(Wy!==e)if(e={context:e,memoizedValue:t,next:null},ii===null){if(Nf===null)throw Error(ce(308));ii=e,Nf.dependencies={lanes:0,firstContext:e}}else ii=ii.next=e;return t}var oa=null;function Yy(e){oa===null?oa=[e]:oa.push(e)}function AS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Yy(t)):(n.next=o.next,o.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var oo=!1;function Gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _S(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ko(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Is(e,n)}return o=r.interleaved,o===null?(t.next=t,Yy(r)):(t.next=o.next,o.next=t),r.interleaved=t,Is(e,n)}function zd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}function ib(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cf(e,t,n,r){var o=e.updateQueue;oo=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=o.baseState;i=0,f=u=c=null,l=a;do{var m=l.lane,h=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(m=t,h=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(h,d,m);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(h,d,m):y,m==null)break e;d=wt({},d,m);break e;case 2:oo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=h,c=d):f=f.next=h,i|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(f===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Ca|=i,e.lanes=i,e.memoizedState=d}}function lb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ce(191,o));o.call(r)}}}var cu={},ss=Vo(cu),Mc=Vo(cu),Rc=Vo(cu);function aa(e){if(e===cu)throw Error(ce(174));return e}function Xy(e,t){switch(rt(Rc,t),rt(Mc,e),rt(ss,cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dg(t,e)}ut(ss),rt(ss,t)}function Ui(){ut(ss),ut(Mc),ut(Rc)}function IS(e){aa(Rc.current);var t=aa(ss.current),n=Dg(t,e.type);t!==n&&(rt(Mc,e),rt(ss,n))}function Qy(e){Mc.current===e&&(ut(ss),ut(Mc))}var yt=Vo(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gp=[];function Jy(){for(var e=0;e<gp.length;e++)gp[e]._workInProgressVersionPrimary=null;gp.length=0}var Vd=Vs.ReactCurrentDispatcher,xp=Vs.ReactCurrentBatchConfig,Na=0,vt=null,Lt=null,Ut=null,kf=!1,ic=!1,Tc=0,F3=0;function Zt(){throw Error(ce(321))}function Zy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_r(e[n],t[n]))return!1;return!0}function ev(e,t,n,r,o,a){if(Na=a,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vd.current=e===null||e.memoizedState===null?U3:H3,e=n(r,o),ic){a=0;do{if(ic=!1,Tc=0,25<=a)throw Error(ce(301));a+=1,Ut=Lt=null,t.updateQueue=null,Vd.current=W3,e=n(r,o)}while(ic)}if(Vd.current=Ef,t=Lt!==null&&Lt.next!==null,Na=0,Ut=Lt=vt=null,kf=!1,t)throw Error(ce(300));return e}function tv(){var e=Tc!==0;return Tc=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?vt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function fr(){if(Lt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Ut===null?vt.memoizedState:Ut.next;if(t!==null)Ut=t,Lt=e;else{if(e===null)throw Error(ce(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?vt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function Ac(e,t){return typeof t=="function"?t(e):t}function yp(e){var t=fr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=Lt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var l=i=null,c=null,u=a;do{var f=u.lane;if((Na&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=r):c=c.next=d,vt.lanes|=f,Ca|=f}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,_r(r,t.memoizedState)||(Pn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,vt.lanes|=a,Ca|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vp(e){var t=fr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);_r(a,t.memoizedState)||(Pn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function DS(){}function LS(e,t){var n=vt,r=fr(),o=t(),a=!_r(r.memoizedState,o);if(a&&(r.memoizedState=o,Pn=!0),r=r.queue,nv(FS.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,_c(9,$S.bind(null,n,r,o,t),void 0,null),Ht===null)throw Error(ce(349));Na&30||OS(n,t,o)}return o}function OS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $S(e,t,n,r){t.value=n,t.getSnapshot=r,zS(t)&&VS(e)}function FS(e,t,n){return n(function(){zS(t)&&VS(e)})}function zS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_r(e,n)}catch{return!0}}function VS(e){var t=Is(e,1);t!==null&&Rr(t,e,1,-1)}function cb(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:e},t.queue=e,e=e.dispatch=B3.bind(null,vt,e),[t.memoizedState,e]}function _c(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BS(){return fr().memoizedState}function Bd(e,t,n,r){var o=Kr();vt.flags|=e,o.memoizedState=_c(1|t,n,void 0,r===void 0?null:r)}function jm(e,t,n,r){var o=fr();r=r===void 0?null:r;var a=void 0;if(Lt!==null){var i=Lt.memoizedState;if(a=i.destroy,r!==null&&Zy(r,i.deps)){o.memoizedState=_c(t,n,a,r);return}}vt.flags|=e,o.memoizedState=_c(1|t,n,a,r)}function ub(e,t){return Bd(8390656,8,e,t)}function nv(e,t){return jm(2048,8,e,t)}function US(e,t){return jm(4,2,e,t)}function HS(e,t){return jm(4,4,e,t)}function WS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KS(e,t,n){return n=n!=null?n.concat([e]):null,jm(4,4,WS.bind(null,t,e),n)}function rv(){}function qS(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YS(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GS(e,t,n){return Na&21?(_r(n,t)||(n=eS(),vt.lanes|=n,Ca|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=n)}function z3(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=xp.transition;xp.transition={};try{e(!1),t()}finally{Qe=n,xp.transition=r}}function XS(){return fr().memoizedState}function V3(e,t,n){var r=Po(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QS(e))JS(t,n);else if(n=AS(e,t,n,r),n!==null){var o=gn();Rr(n,e,r,o),ZS(n,t,r)}}function B3(e,t,n){var r=Po(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QS(e))JS(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,_r(l,i)){var c=t.interleaved;c===null?(o.next=o,Yy(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=AS(e,t,o,r),n!==null&&(o=gn(),Rr(n,e,r,o),ZS(n,t,r))}}function QS(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function JS(e,t){ic=kf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}var Ef={readContext:dr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},U3={readContext:dr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:dr,useEffect:ub,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bd(4194308,4,WS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var n=Kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V3.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:cb,useDebugValue:rv,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=cb(!1),t=e[0];return e=z3.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,o=Kr();if(gt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),Ht===null)throw Error(ce(349));Na&30||OS(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,ub(FS.bind(null,r,a,e),[e]),r.flags|=2048,_c(9,$S.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Kr(),t=Ht.identifierPrefix;if(gt){var n=Ms,r=Ps;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=F3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H3={readContext:dr,useCallback:qS,useContext:dr,useEffect:nv,useImperativeHandle:KS,useInsertionEffect:US,useLayoutEffect:HS,useMemo:YS,useReducer:yp,useRef:BS,useState:function(){return yp(Ac)},useDebugValue:rv,useDeferredValue:function(e){var t=fr();return GS(t,Lt.memoizedState,e)},useTransition:function(){var e=yp(Ac)[0],t=fr().memoizedState;return[e,t]},useMutableSource:DS,useSyncExternalStore:LS,useId:XS,unstable_isNewReconciler:!1},W3={readContext:dr,useCallback:qS,useContext:dr,useEffect:nv,useImperativeHandle:KS,useInsertionEffect:US,useLayoutEffect:HS,useMemo:YS,useReducer:vp,useRef:BS,useState:function(){return vp(Ac)},useDebugValue:rv,useDeferredValue:function(e){var t=fr();return Lt===null?t.memoizedState=e:GS(t,Lt.memoizedState,e)},useTransition:function(){var e=vp(Ac)[0],t=fr().memoizedState;return[e,t]},useMutableSource:DS,useSyncExternalStore:LS,useId:XS,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nm={isMounted:function(e){return(e=e._reactInternals)?$a(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gn(),o=Po(e),a=Ts(r,o);a.payload=t,n!=null&&(a.callback=n),t=ko(e,a,o),t!==null&&(Rr(t,e,o,r),zd(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gn(),o=Po(e),a=Ts(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ko(e,a,o),t!==null&&(Rr(t,e,o,r),zd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),r=Po(e),o=Ts(n,r);o.tag=2,t!=null&&(o.callback=t),t=ko(e,o,r),t!==null&&(Rr(t,e,r,n),zd(t,e,r))}};function db(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Sc(n,r)||!Sc(o,a):!0}function ek(e,t,n){var r=!1,o=_o,a=t.contextType;return typeof a=="object"&&a!==null?a=dr(a):(o=An(t)?ba:an.current,r=t.contextTypes,a=(r=r!=null)?zi(e,o):_o),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function fb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nm.enqueueReplaceState(t,t.state,null)}function rx(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gy(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=dr(a):(a=An(t)?ba:an.current,o.context=zi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(nx(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Nm.enqueueReplaceState(o,o.state,null),Cf(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Hi(e,t){try{var n="",r=t;do n+=vD(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function wp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K3=typeof WeakMap=="function"?WeakMap:Map;function tk(e,t,n){n=Ts(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mf||(Mf=!0,hx=r),sx(e,t)},n}function nk(e,t,n){n=Ts(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){sx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sx(e,t),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function mb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K3;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=aL.bind(null,e,t,n),t.then(e,e))}function hb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pb(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ts(-1,1),t.tag=2,ko(n,t,1))),n.lanes|=1),e)}var q3=Vs.ReactCurrentOwner,Pn=!1;function fn(e,t,n,r){t.child=e===null?TS(t,null,n,r):Bi(t,e.child,n,r)}function gb(e,t,n,r,o){n=n.render;var a=t.ref;return wi(t,o),r=ev(e,t,n,r,a,o),n=tv(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ds(e,t,o)):(gt&&n&&By(t),t.flags|=1,fn(e,t,r,o),t.child)}function xb(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!dv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rk(e,t,a,r,o)):(e=Kd(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(i,r)&&e.ref===t.ref)return Ds(e,t,o)}return t.flags|=1,e=Mo(a,r),e.ref=t.ref,e.return=t,t.child=e}function rk(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Sc(a,r)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,Ds(e,t,o)}return ox(e,t,n,r,o)}function sk(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ci,Fn),Fn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(ci,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(ci,Fn),Fn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rt(ci,Fn),Fn|=r;return fn(e,t,o,n),t.child}function ok(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ox(e,t,n,r,o){var a=An(n)?ba:an.current;return a=zi(t,a),wi(t,o),n=ev(e,t,n,r,a,o),r=tv(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ds(e,t,o)):(gt&&r&&By(t),t.flags|=1,fn(e,t,n,o),t.child)}function yb(e,t,n,r,o){if(An(n)){var a=!0;vf(t)}else a=!1;if(wi(t,o),t.stateNode===null)Ud(e,t),ek(t,n,r),rx(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=An(n)?ba:an.current,u=zi(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&fb(t,i,r,u),oo=!1;var m=t.memoizedState;i.state=m,Cf(t,r,i,o),c=t.memoizedState,l!==r||m!==c||Tn.current||oo?(typeof f=="function"&&(nx(t,n,f,r),c=t.memoizedState),(l=oo||db(t,n,l,r,m,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_S(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yr(t.type,l),i.props=u,d=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=dr(c):(c=An(n)?ba:an.current,c=zi(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||m!==c)&&fb(t,i,r,c),oo=!1,m=t.memoizedState,i.state=m,Cf(t,r,i,o);var y=t.memoizedState;l!==d||m!==y||Tn.current||oo?(typeof h=="function"&&(nx(t,n,h,r),y=t.memoizedState),(u=oo||db(t,n,u,r,m,y,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ax(e,t,n,r,a,o)}function ax(e,t,n,r,o,a){ok(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&rb(t,n,!1),Ds(e,t,a);r=t.stateNode,q3.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Bi(t,e.child,null,a),t.child=Bi(t,null,l,a)):fn(e,t,l,a),t.memoizedState=r.state,o&&rb(t,n,!0),t.child}function ak(e){var t=e.stateNode;t.pendingContext?nb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nb(e,t.context,!1),Xy(e,t.containerInfo)}function vb(e,t,n,r,o){return Vi(),Hy(o),t.flags|=256,fn(e,t,n,r),t.child}var ix={dehydrated:null,treeContext:null,retryLane:0};function lx(e){return{baseLanes:e,cachePool:null,transitions:null}}function ik(e,t,n){var r=t.pendingProps,o=yt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),rt(yt,o&1),e===null)return ex(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=km(i,r,0,null),e=ga(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=lx(n),t.memoizedState=ix,e):sv(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Y3(e,t,i,r,l,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mo(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Mo(l,a):(a=ga(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?lx(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ix,r}return a=e.child,e=a.sibling,r=Mo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sv(e,t){return t=km({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rd(e,t,n,r){return r!==null&&Hy(r),Bi(t,e.child,null,n),e=sv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y3(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=wp(Error(ce(422))),rd(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=km({mode:"visible",children:r.children},o,0,null),a=ga(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bi(t,e.child,null,i),t.child.memoizedState=lx(i),t.memoizedState=ix,a);if(!(t.mode&1))return rd(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ce(419)),r=wp(a,r,void 0),rd(e,t,i,r)}if(l=(i&e.childLanes)!==0,Pn||l){if(r=Ht,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Is(e,o),Rr(r,e,o,-1))}return uv(),r=wp(Error(ce(421))),rd(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=iL.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Bn=So(o.nextSibling),Hn=t,gt=!0,Cr=null,e!==null&&(tr[nr++]=Ps,tr[nr++]=Ms,tr[nr++]=ja,Ps=e.id,Ms=e.overflow,ja=t),t=sv(t,r.children),t.flags|=4096,t)}function wb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tx(e.return,t,n)}function bp(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function lk(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(fn(e,t,r.children,n),r=yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wb(e,n,t);else if(e.tag===19)wb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(yt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Sf(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),bp(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Sf(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}bp(t,!0,n,null,a);break;case"together":bp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=Mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G3(e,t,n){switch(t.tag){case 3:ak(t),Vi();break;case 5:IS(t);break;case 1:An(t.type)&&vf(t);break;case 4:Xy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;rt(jf,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?ik(e,t,n):(rt(yt,yt.current&1),e=Ds(e,t,n),e!==null?e.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lk(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return t.lanes=0,sk(e,t,n)}return Ds(e,t,n)}var ck,cx,uk,dk;ck=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cx=function(){};uk=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,aa(ss.current);var a=null;switch(n){case"input":o=Tg(e,o),r=Tg(e,r),a=[];break;case"select":o=wt({},o,{value:void 0}),r=wt({},r,{value:void 0}),a=[];break;case"textarea":o=Ig(e,o),r=Ig(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xf)}Lg(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dk=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ll(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X3(e,t,n){var r=t.pendingProps;switch(Uy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return An(t.type)&&yf(),en(t),null;case 3:return r=t.stateNode,Ui(),ut(Tn),ut(an),Jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(td(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(xx(Cr),Cr=null))),cx(e,t),en(t),null;case 5:Qy(t);var o=aa(Rc.current);if(n=t.type,e!==null&&t.stateNode!=null)uk(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return en(t),null}if(e=aa(ss.current),td(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[Pc]=a,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(o=0;o<Xl.length;o++)lt(Xl[o],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":Mw(r,a),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},lt("invalid",r);break;case"textarea":Tw(r,a),lt("invalid",r)}Lg(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ed(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ed(r.textContent,l,e),o=["children",""+l]):yc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&lt("scroll",r)}switch(n){case"input":Ku(r),Rw(r,a,!0);break;case"textarea":Ku(r),Aw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xf)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Zr]=t,e[Pc]=r,ck(e,t,!1,!1),t.stateNode=e;e:{switch(i=Og(n,r),n){case"dialog":lt("cancel",e),lt("close",e),o=r;break;case"iframe":case"object":case"embed":lt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Xl.length;o++)lt(Xl[o],e);o=r;break;case"source":lt("error",e),o=r;break;case"img":case"image":case"link":lt("error",e),lt("load",e),o=r;break;case"details":lt("toggle",e),o=r;break;case"input":Mw(e,r),o=Tg(e,r),lt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=wt({},r,{value:void 0}),lt("invalid",e);break;case"textarea":Tw(e,r),o=Ig(e,r),lt("invalid",e);break;default:o=r}Lg(n,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?BC(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zC(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vc(e,c):typeof c=="number"&&vc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&lt("scroll",e):c!=null&&Py(e,a,c,i))}switch(n){case"input":Ku(e),Rw(e,r,!1);break;case"textarea":Ku(e),Aw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ao(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?gi(e,!!r.multiple,a,!1):r.defaultValue!=null&&gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)dk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=aa(Rc.current),aa(ss.current),td(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,(a=r.nodeValue!==n)&&(e=Hn,e!==null))switch(e.tag){case 3:ed(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ed(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zr]=t,t.stateNode=r}return en(t),null;case 13:if(ut(yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Bn!==null&&t.mode&1&&!(t.flags&128))MS(),Vi(),t.flags|=98560,a=!1;else if(a=td(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Zr]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),a=!1}else Cr!==null&&(xx(Cr),Cr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?$t===0&&($t=3):uv())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return Ui(),cx(e,t),e===null&&kc(t.stateNode.containerInfo),en(t),null;case 10:return qy(t.type._context),en(t),null;case 17:return An(t.type)&&yf(),en(t),null;case 19:if(ut(yt),a=t.memoizedState,a===null)return en(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Ll(a,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sf(e),i!==null){for(t.flags|=128,Ll(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Mt()>Wi&&(t.flags|=128,r=!0,Ll(a,!1),t.lanes=4194304)}else{if(!r)if(e=Sf(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!gt)return en(t),null}else 2*Mt()-a.renderingStartTime>Wi&&n!==1073741824&&(t.flags|=128,r=!0,Ll(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Mt(),t.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),t):(en(t),null);case 22:case 23:return cv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Q3(e,t){switch(Uy(t),t.tag){case 1:return An(t.type)&&yf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),ut(Tn),ut(an),Jy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qy(t),null;case 13:if(ut(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(yt),null;case 4:return Ui(),null;case 10:return qy(t.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var sd=!1,nn=!1,J3=typeof WeakSet=="function"?WeakSet:Set,we=null;function li(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(e,t,r)}else n.current=null}function ux(e,t,n){try{n()}catch(r){jt(e,t,r)}}var bb=!1;function Z3(e,t){if(qg=hf,e=gS(),Vy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==a||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)m=d,d=h;for(;;){if(d===e)break t;if(m===n&&++u===o&&(l=i),m===a&&++f===r&&(c=i),(h=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:e,selectionRange:n},hf=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:yr(t.type,g),b);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(C){jt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return y=bb,bb=!1,y}function lc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&ux(t,n,a)}o=o.next}while(o!==r)}}function Cm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fk(e){var t=e.alternate;t!==null&&(e.alternate=null,fk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[Pc],delete t[Qg],delete t[D3],delete t[L3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mk(e){return e.tag===5||e.tag===3||e.tag===4}function jb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xf));else if(r!==4&&(e=e.child,e!==null))for(fx(e,t,n),e=e.sibling;e!==null;)fx(e,t,n),e=e.sibling}function mx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mx(e,t,n),e=e.sibling;e!==null;)mx(e,t,n),e=e.sibling}var qt=null,jr=!1;function Ys(e,t,n){for(n=n.child;n!==null;)hk(e,t,n),n=n.sibling}function hk(e,t,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(gm,n)}catch{}switch(n.tag){case 5:nn||li(n,t);case 6:var r=qt,o=jr;qt=null,Ys(e,t,n),qt=r,jr=o,qt!==null&&(jr?(e=qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(jr?(e=qt,n=n.stateNode,e.nodeType===8?hp(e.parentNode,n):e.nodeType===1&&hp(e,n),Nc(e)):hp(qt,n.stateNode));break;case 4:r=qt,o=jr,qt=n.stateNode.containerInfo,jr=!0,Ys(e,t,n),qt=r,jr=o;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ux(n,t,i),o=o.next}while(o!==r)}Ys(e,t,n);break;case 1:if(!nn&&(li(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){jt(n,t,l)}Ys(e,t,n);break;case 21:Ys(e,t,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Ys(e,t,n),nn=r):Ys(e,t,n);break;default:Ys(e,t,n)}}function Nb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J3),t.forEach(function(r){var o=lL.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,jr=!1;break e;case 3:qt=l.stateNode.containerInfo,jr=!0;break e;case 4:qt=l.stateNode.containerInfo,jr=!0;break e}l=l.return}if(qt===null)throw Error(ce(160));hk(a,i,o),qt=null,jr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){jt(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pk(t,e),t=t.sibling}function pk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Wr(e),r&4){try{lc(3,e,e.return),Cm(3,e)}catch(g){jt(e,e.return,g)}try{lc(5,e,e.return)}catch(g){jt(e,e.return,g)}}break;case 1:pr(t,e),Wr(e),r&512&&n!==null&&li(n,n.return);break;case 5:if(pr(t,e),Wr(e),r&512&&n!==null&&li(n,n.return),e.flags&32){var o=e.stateNode;try{vc(o,"")}catch(g){jt(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&OC(o,a),Og(l,i);var u=Og(l,a);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?BC(o,d):f==="dangerouslySetInnerHTML"?zC(o,d):f==="children"?vc(o,d):Py(o,f,d,u)}switch(l){case"input":Ag(o,a);break;case"textarea":$C(o,a);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?gi(o,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?gi(o,!!a.multiple,a.defaultValue,!0):gi(o,!!a.multiple,a.multiple?[]:"",!1))}o[Pc]=a}catch(g){jt(e,e.return,g)}}break;case 6:if(pr(t,e),Wr(e),r&4){if(e.stateNode===null)throw Error(ce(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){jt(e,e.return,g)}}break;case 3:if(pr(t,e),Wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(t.containerInfo)}catch(g){jt(e,e.return,g)}break;case 4:pr(t,e),Wr(e);break;case 13:pr(t,e),Wr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(iv=Mt())),r&4&&Nb(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(nn=(u=nn)||f,pr(t,e),nn=u):pr(t,e),Wr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(we=e,f=e.child;f!==null;){for(d=we=f;we!==null;){switch(m=we,h=m.child,m.tag){case 0:case 11:case 14:case 15:lc(4,m,m.return);break;case 1:li(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){jt(r,n,g)}}break;case 5:li(m,m.return);break;case 22:if(m.memoizedState!==null){Sb(d);continue}}h!==null?(h.return=m,we=h):Sb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{o=d.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=VC("display",i))}catch(g){jt(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){jt(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pr(t,e),Wr(e),r&4&&Nb(e);break;case 21:break;default:pr(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mk(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(vc(o,""),r.flags&=-33);var a=jb(e);mx(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=jb(e);fx(e,l,i);break;default:throw Error(ce(161))}}catch(c){jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eL(e,t,n){we=e,gk(e)}function gk(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var o=we,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||sd;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||nn;l=sd;var u=nn;if(sd=i,(nn=c)&&!u)for(we=o;we!==null;)i=we,c=i.child,i.tag===22&&i.memoizedState!==null?kb(o):c!==null?(c.return=i,we=c):kb(o);for(;a!==null;)we=a,gk(a),a=a.sibling;we=o,sd=l,nn=u}Cb(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,we=a):Cb(e)}}function Cb(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||Cm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&lb(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lb(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Nc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}nn||t.flags&512&&dx(t)}catch(m){jt(t,t.return,m)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Sb(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function kb(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cm(4,t)}catch(c){jt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){jt(t,o,c)}}var a=t.return;try{dx(t)}catch(c){jt(t,a,c)}break;case 5:var i=t.return;try{dx(t)}catch(c){jt(t,i,c)}}}catch(c){jt(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var tL=Math.ceil,Pf=Vs.ReactCurrentDispatcher,ov=Vs.ReactCurrentOwner,lr=Vs.ReactCurrentBatchConfig,Ke=0,Ht=null,_t=null,Yt=0,Fn=0,ci=Vo(0),$t=0,Ic=null,Ca=0,Sm=0,av=0,cc=null,En=null,iv=0,Wi=1/0,Ss=null,Mf=!1,hx=null,Eo=null,od=!1,yo=null,Rf=0,uc=0,px=null,Hd=-1,Wd=0;function gn(){return Ke&6?Mt():Hd!==-1?Hd:Hd=Mt()}function Po(e){return e.mode&1?Ke&2&&Yt!==0?Yt&-Yt:$3.transition!==null?(Wd===0&&(Wd=eS()),Wd):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:iS(e.type)),e):1}function Rr(e,t,n,r){if(50<uc)throw uc=0,px=null,Error(ce(185));au(e,n,r),(!(Ke&2)||e!==Ht)&&(e===Ht&&(!(Ke&2)&&(Sm|=n),$t===4&&io(e,Yt)),_n(e,r),n===1&&Ke===0&&!(t.mode&1)&&(Wi=Mt()+500,bm&&Bo()))}function _n(e,t){var n=e.callbackNode;$D(e,t);var r=mf(e,e===Ht?Yt:0);if(r===0)n!==null&&Dw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dw(n),t===1)e.tag===0?O3(Eb.bind(null,e)):kS(Eb.bind(null,e)),_3(function(){!(Ke&6)&&Bo()}),n=null;else{switch(tS(r)){case 1:n=_y;break;case 4:n=JC;break;case 16:n=ff;break;case 536870912:n=ZC;break;default:n=ff}n=Ck(n,xk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xk(e,t){if(Hd=-1,Wd=0,Ke&6)throw Error(ce(327));var n=e.callbackNode;if(bi()&&e.callbackNode!==n)return null;var r=mf(e,e===Ht?Yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tf(e,r);else{t=r;var o=Ke;Ke|=2;var a=vk();(Ht!==e||Yt!==t)&&(Ss=null,Wi=Mt()+500,pa(e,t));do try{sL();break}catch(l){yk(e,l)}while(!0);Ky(),Pf.current=a,Ke=o,_t!==null?t=0:(Ht=null,Yt=0,t=$t)}if(t!==0){if(t===2&&(o=Bg(e),o!==0&&(r=o,t=gx(e,o))),t===1)throw n=Ic,pa(e,0),io(e,r),_n(e,Mt()),n;if(t===6)io(e,r);else{if(o=e.current.alternate,!(r&30)&&!nL(o)&&(t=Tf(e,r),t===2&&(a=Bg(e),a!==0&&(r=a,t=gx(e,a))),t===1))throw n=Ic,pa(e,0),io(e,r),_n(e,Mt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:ta(e,En,Ss);break;case 3:if(io(e,r),(r&130023424)===r&&(t=iv+500-Mt(),10<t)){if(mf(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){gn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Xg(ta.bind(null,e,En,Ss),t);break}ta(e,En,Ss);break;case 4:if(io(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Mr(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tL(r/1960))-r,10<r){e.timeoutHandle=Xg(ta.bind(null,e,En,Ss),r);break}ta(e,En,Ss);break;case 5:ta(e,En,Ss);break;default:throw Error(ce(329))}}}return _n(e,Mt()),e.callbackNode===n?xk.bind(null,e):null}function gx(e,t){var n=cc;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=En,En=n,t!==null&&xx(t)),e}function xx(e){En===null?En=e:En.push.apply(En,e)}function nL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!_r(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function io(e,t){for(t&=~av,t&=~Sm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mr(t),r=1<<n;e[n]=-1,t&=~r}}function Eb(e){if(Ke&6)throw Error(ce(327));bi();var t=mf(e,0);if(!(t&1))return _n(e,Mt()),null;var n=Tf(e,t);if(e.tag!==0&&n===2){var r=Bg(e);r!==0&&(t=r,n=gx(e,r))}if(n===1)throw n=Ic,pa(e,0),io(e,t),_n(e,Mt()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ta(e,En,Ss),_n(e,Mt()),null}function lv(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(Wi=Mt()+500,bm&&Bo())}}function Sa(e){yo!==null&&yo.tag===0&&!(Ke&6)&&bi();var t=Ke;Ke|=1;var n=lr.transition,r=Qe;try{if(lr.transition=null,Qe=1,e)return e()}finally{Qe=r,lr.transition=n,Ke=t,!(Ke&6)&&Bo()}}function cv(){Fn=ci.current,ut(ci)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,A3(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:Ui(),ut(Tn),ut(an),Jy();break;case 5:Qy(r);break;case 4:Ui();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:qy(r.type._context);break;case 22:case 23:cv()}n=n.return}if(Ht=e,_t=e=Mo(e.current,null),Yt=Fn=t,$t=0,Ic=null,av=Sm=Ca=0,En=cc=null,oa!==null){for(t=0;t<oa.length;t++)if(n=oa[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}oa=null}return e}function yk(e,t){do{var n=_t;try{if(Ky(),Vd.current=Ef,kf){for(var r=vt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}kf=!1}if(Na=0,Ut=Lt=vt=null,ic=!1,Tc=0,ov.current=null,n===null||n.return===null){$t=1,Ic=t,_t=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=hb(i);if(h!==null){h.flags&=-257,pb(h,i,l,a,t),h.mode&1&&mb(a,u,t),t=h,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){mb(a,u,t),uv();break e}c=Error(ce(426))}}else if(gt&&l.mode&1){var b=hb(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),pb(b,i,l,a,t),Hy(Hi(c,l));break e}}a=c=Hi(c,l),$t!==4&&($t=2),cc===null?cc=[a]:cc.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=tk(a,c,t);ib(a,p);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eo===null||!Eo.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=nk(a,l,t);ib(a,C);break e}}a=a.return}while(a!==null)}bk(n)}catch(N){t=N,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function vk(){var e=Pf.current;return Pf.current=Ef,e===null?Ef:e}function uv(){($t===0||$t===3||$t===2)&&($t=4),Ht===null||!(Ca&268435455)&&!(Sm&268435455)||io(Ht,Yt)}function Tf(e,t){var n=Ke;Ke|=2;var r=vk();(Ht!==e||Yt!==t)&&(Ss=null,pa(e,t));do try{rL();break}catch(o){yk(e,o)}while(!0);if(Ky(),Ke=n,Pf.current=r,_t!==null)throw Error(ce(261));return Ht=null,Yt=0,$t}function rL(){for(;_t!==null;)wk(_t)}function sL(){for(;_t!==null&&!MD();)wk(_t)}function wk(e){var t=Nk(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?bk(e):_t=t,ov.current=null}function bk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q3(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$t=6,_t=null;return}}else if(n=X3(n,t,Fn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);$t===0&&($t=5)}function ta(e,t,n){var r=Qe,o=lr.transition;try{lr.transition=null,Qe=1,oL(e,t,n,r)}finally{lr.transition=o,Qe=r}return null}function oL(e,t,n,r){do bi();while(yo!==null);if(Ke&6)throw Error(ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(FD(e,a),e===Ht&&(_t=Ht=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||od||(od=!0,Ck(ff,function(){return bi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=lr.transition,lr.transition=null;var i=Qe;Qe=1;var l=Ke;Ke|=4,ov.current=null,Z3(e,n),pk(n,e),S3(Yg),hf=!!qg,Yg=qg=null,e.current=n,eL(n),RD(),Ke=l,Qe=i,lr.transition=a}else e.current=n;if(od&&(od=!1,yo=e,Rf=o),a=e.pendingLanes,a===0&&(Eo=null),_D(n.stateNode),_n(e,Mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mf)throw Mf=!1,e=hx,hx=null,e;return Rf&1&&e.tag!==0&&bi(),a=e.pendingLanes,a&1?e===px?uc++:(uc=0,px=e):uc=0,Bo(),null}function bi(){if(yo!==null){var e=tS(Rf),t=lr.transition,n=Qe;try{if(lr.transition=null,Qe=16>e?16:e,yo===null)var r=!1;else{if(e=yo,yo=null,Rf=0,Ke&6)throw Error(ce(331));var o=Ke;for(Ke|=4,we=e.current;we!==null;){var a=we,i=a.child;if(we.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var f=we;switch(f.tag){case 0:case 11:case 15:lc(8,f,a)}var d=f.child;if(d!==null)d.return=f,we=d;else for(;we!==null;){f=we;var m=f.sibling,h=f.return;if(fk(f),f===u){we=null;break}if(m!==null){m.return=h,we=m;break}we=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}we=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,we=i;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:lc(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,we=p;break e}we=a.return}}var v=e.current;for(we=v;we!==null;){i=we;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,we=w;else e:for(i=v;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cm(9,l)}}catch(N){jt(l,l.return,N)}if(l===i){we=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,we=C;break e}we=l.return}}if(Ke=o,Bo(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(gm,e)}catch{}r=!0}return r}finally{Qe=n,lr.transition=t}}return!1}function Pb(e,t,n){t=Hi(n,t),t=tk(e,t,1),e=ko(e,t,1),t=gn(),e!==null&&(au(e,1,t),_n(e,t))}function jt(e,t,n){if(e.tag===3)Pb(e,e,n);else for(;t!==null;){if(t.tag===3){Pb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){e=Hi(n,e),e=nk(t,e,1),t=ko(t,e,1),e=gn(),t!==null&&(au(t,1,e),_n(t,e));break}}t=t.return}}function aL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gn(),e.pingedLanes|=e.suspendedLanes&n,Ht===e&&(Yt&n)===n&&($t===4||$t===3&&(Yt&130023424)===Yt&&500>Mt()-iv?pa(e,0):av|=n),_n(e,t)}function jk(e,t){t===0&&(e.mode&1?(t=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):t=1);var n=gn();e=Is(e,t),e!==null&&(au(e,t,n),_n(e,n))}function iL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jk(e,n)}function lL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),jk(e,n)}var Nk;Nk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tn.current)Pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pn=!1,G3(e,t,n);Pn=!!(e.flags&131072)}else Pn=!1,gt&&t.flags&1048576&&ES(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ud(e,t),e=t.pendingProps;var o=zi(t,an.current);wi(t,n),o=ev(null,t,r,e,o,n);var a=tv();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,An(r)?(a=!0,vf(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gy(t),o.updater=Nm,t.stateNode=o,o._reactInternals=t,rx(t,r,e,n),t=ax(null,t,r,!0,a,n)):(t.tag=0,gt&&a&&By(t),fn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ud(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=uL(r),e=yr(r,e),o){case 0:t=ox(null,t,r,e,n);break e;case 1:t=yb(null,t,r,e,n);break e;case 11:t=gb(null,t,r,e,n);break e;case 14:t=xb(null,t,r,yr(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yr(r,o),ox(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yr(r,o),yb(e,t,r,o,n);case 3:e:{if(ak(t),e===null)throw Error(ce(387));r=t.pendingProps,a=t.memoizedState,o=a.element,_S(e,t),Cf(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Hi(Error(ce(423)),t),t=vb(e,t,r,n,o);break e}else if(r!==o){o=Hi(Error(ce(424)),t),t=vb(e,t,r,n,o);break e}else for(Bn=So(t.stateNode.containerInfo.firstChild),Hn=t,gt=!0,Cr=null,n=TS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vi(),r===o){t=Ds(e,t,n);break e}fn(e,t,r,n)}t=t.child}return t;case 5:return IS(t),e===null&&ex(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Gg(r,o)?i=null:a!==null&&Gg(r,a)&&(t.flags|=32),ok(e,t),fn(e,t,i,n),t.child;case 6:return e===null&&ex(t),null;case 13:return ik(e,t,n);case 4:return Xy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bi(t,null,r,n):fn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yr(r,o),gb(e,t,r,o,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,rt(jf,r._currentValue),r._currentValue=i,a!==null)if(_r(a.value,i)){if(a.children===o.children&&!Tn.current){t=Ds(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ts(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),tx(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ce(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tx(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}fn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,wi(t,n),o=dr(o),r=r(o),t.flags|=1,fn(e,t,r,n),t.child;case 14:return r=t.type,o=yr(r,t.pendingProps),o=yr(r.type,o),xb(e,t,r,o,n);case 15:return rk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yr(r,o),Ud(e,t),t.tag=1,An(r)?(e=!0,vf(t)):e=!1,wi(t,n),ek(t,r,o),rx(t,r,o,n),ax(null,t,r,!0,e,n);case 19:return lk(e,t,n);case 22:return sk(e,t,n)}throw Error(ce(156,t.tag))};function Ck(e,t){return QC(e,t)}function cL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,t,n,r){return new cL(e,t,n,r)}function dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uL(e){if(typeof e=="function")return dv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ry)return 11;if(e===Ty)return 14}return 2}function Mo(e,t){var n=e.alternate;return n===null?(n=or(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kd(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")dv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Za:return ga(n.children,o,a,t);case My:i=8,o|=8;break;case Eg:return e=or(12,n,t,o|2),e.elementType=Eg,e.lanes=a,e;case Pg:return e=or(13,n,t,o),e.elementType=Pg,e.lanes=a,e;case Mg:return e=or(19,n,t,o),e.elementType=Mg,e.lanes=a,e;case IC:return km(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AC:i=10;break e;case _C:i=9;break e;case Ry:i=11;break e;case Ty:i=14;break e;case so:i=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=or(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function ga(e,t,n,r){return e=or(7,e,r,t),e.lanes=n,e}function km(e,t,n,r){return e=or(22,e,r,t),e.elementType=IC,e.lanes=n,e.stateNode={isHidden:!1},e}function jp(e,t,n){return e=or(6,e,null,t),e.lanes=n,e}function Np(e,t,n){return t=or(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dL(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function fv(e,t,n,r,o,a,i,l,c){return e=new dL(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=or(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(a),e}function fL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sk(e){if(!e)return _o;e=e._reactInternals;e:{if($a(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(An(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(An(n))return SS(e,n,t)}return t}function kk(e,t,n,r,o,a,i,l,c){return e=fv(n,r,!0,e,o,a,i,l,c),e.context=Sk(null),n=e.current,r=gn(),o=Po(n),a=Ts(r,o),a.callback=t??null,ko(n,a,o),e.current.lanes=o,au(e,o,r),_n(e,r),e}function Em(e,t,n,r){var o=t.current,a=gn(),i=Po(o);return n=Sk(n),t.context===null?t.context=n:t.pendingContext=n,t=Ts(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ko(o,t,i),e!==null&&(Rr(e,o,i,a),zd(e,o,i)),i}function Af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mv(e,t){Mb(e,t),(e=e.alternate)&&Mb(e,t)}function mL(){return null}var Ek=typeof reportError=="function"?reportError:function(e){console.error(e)};function hv(e){this._internalRoot=e}Pm.prototype.render=hv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Em(e,t,null,null)};Pm.prototype.unmount=hv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sa(function(){Em(null,e,null,null)}),t[_s]=null}};function Pm(e){this._internalRoot=e}Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=sS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ao.length&&t!==0&&t<ao[n].priority;n++);ao.splice(n,0,e),n===0&&aS(e)}};function pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rb(){}function hL(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var u=Af(i);a.call(u)}}var i=kk(t,r,e,0,null,!1,!1,"",Rb);return e._reactRootContainer=i,e[_s]=i.current,kc(e.nodeType===8?e.parentNode:e),Sa(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Af(c);l.call(u)}}var c=fv(e,0,!1,null,null,!1,!1,"",Rb);return e._reactRootContainer=c,e[_s]=c.current,kc(e.nodeType===8?e.parentNode:e),Sa(function(){Em(t,c,n,r)}),c}function Rm(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=Af(i);l.call(c)}}Em(t,i,e,o)}else i=hL(n,t,e,o,r);return Af(i)}nS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gl(t.pendingLanes);n!==0&&(Iy(t,n|1),_n(t,Mt()),!(Ke&6)&&(Wi=Mt()+500,Bo()))}break;case 13:Sa(function(){var r=Is(e,1);if(r!==null){var o=gn();Rr(r,e,1,o)}}),mv(e,1)}};Dy=function(e){if(e.tag===13){var t=Is(e,134217728);if(t!==null){var n=gn();Rr(t,e,134217728,n)}mv(e,134217728)}};rS=function(e){if(e.tag===13){var t=Po(e),n=Is(e,t);if(n!==null){var r=gn();Rr(n,e,t,r)}mv(e,t)}};sS=function(){return Qe};oS=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};Fg=function(e,t,n){switch(t){case"input":if(Ag(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wm(r);if(!o)throw Error(ce(90));LC(r),Ag(r,o)}}}break;case"textarea":$C(e,n);break;case"select":t=n.value,t!=null&&gi(e,!!n.multiple,t,!1)}};WC=lv;KC=Sa;var pL={usingClientEntryPoint:!1,Events:[lu,ri,wm,UC,HC,lv]},Ol={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gL={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GC(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{gm=ad.inject(gL),rs=ad}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;Xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(t))throw Error(ce(200));return fL(e,t,null,n)};Xn.createRoot=function(e,t){if(!pv(e))throw Error(ce(299));var n=!1,r="",o=Ek;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fv(e,1,!1,null,null,n,!1,r,o),e[_s]=t.current,kc(e.nodeType===8?e.parentNode:e),new hv(t)};Xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=GC(t),e=e===null?null:e.stateNode,e};Xn.flushSync=function(e){return Sa(e)};Xn.hydrate=function(e,t,n){if(!Mm(t))throw Error(ce(200));return Rm(null,e,t,!0,n)};Xn.hydrateRoot=function(e,t,n){if(!pv(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=Ek;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=kk(t,null,e,1,n??null,o,!1,a,i),e[_s]=t.current,kc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Pm(t)};Xn.render=function(e,t,n){if(!Mm(t))throw Error(ce(200));return Rm(null,e,t,!1,n)};Xn.unmountComponentAtNode=function(e){if(!Mm(e))throw Error(ce(40));return e._reactRootContainer?(Sa(function(){Rm(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};Xn.unstable_batchedUpdates=lv;Xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mm(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Rm(e,t,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function Pk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pk)}catch(e){console.error(e)}}Pk(),PC.exports=Xn;var ls=PC.exports;const Mk=su(ls);var Rk,Tb=ls;Rk=Tb.createRoot,Tb.hydrateRoot;const xL=1,yL=1e6;let Cp=0;function vL(){return Cp=(Cp+1)%Number.MAX_SAFE_INTEGER,Cp.toString()}const Sp=new Map,Ab=e=>{if(Sp.has(e))return;const t=setTimeout(()=>{Sp.delete(e),dc({type:"REMOVE_TOAST",toastId:e})},yL);Sp.set(e,t)},wL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ab(n):e.toasts.forEach(r=>{Ab(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},qd=[];let Yd={toasts:[]};function dc(e){Yd=wL(Yd,e),qd.forEach(t=>{t(Yd)})}function bL({...e}){const t=vL(),n=o=>dc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>dc({type:"DISMISS_TOAST",toastId:t});return dc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function $r(){const[e,t]=x.useState(Yd);return x.useEffect(()=>(qd.push(t),()=>{const n=qd.indexOf(t);n>-1&&qd.splice(n,1)}),[e]),{...e,toast:bL,dismiss:n=>dc({type:"DISMISS_TOAST",toastId:n})}}function le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function _b(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tm(...e){return t=>{let n=!1;const r=e.map(o=>{const a=_b(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():_b(e[o],null)}}}}function De(...e){return x.useCallback(Tm(...e),e)}function jL(e,t){const n=x.createContext(t),r=a=>{const{children:i,...l}=a,c=x.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(a){const i=x.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function Xt(e,t=[]){let n=[];function r(a,i){const l=x.createContext(i),c=n.length;n=[...n,i];const u=d=>{var p;const{scope:m,children:h,...y}=d,g=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,b=x.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:b,children:h})};u.displayName=a+"Provider";function f(d,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,y=x.useContext(h);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,f]}const o=()=>{const a=n.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,NL(o,...t)]}function NL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Io(e){const t=SL(e),n=x.forwardRef((r,o)=>{const{children:a,...i}=r,l=x.Children.toArray(a),c=l.find(kL);if(c){const u=c.props.children,f=l.map(d=>d===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:o,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var CL=Io("Slot");function SL(e){const t=x.forwardRef((n,r)=>{const{children:o,...a}=n;if(x.isValidElement(o)){const i=PL(o),l=EL(a,o.props);return o.type!==x.Fragment&&(l.ref=r?Tm(r,i):i),x.cloneElement(o,l)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tk=Symbol("radix.slottable");function Ak(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Tk,t}function kL(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tk}function EL(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...l)=>{const c=a(...l);return o(...l),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function PL(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Am(e){const t=e+"CollectionProvider",[n,r]=Xt(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:p}=g,v=te.useRef(null),w=te.useRef(new Map).current;return s.jsx(o,{scope:b,itemMap:w,collectionRef:v,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Io(l),u=te.forwardRef((g,b)=>{const{scope:p,children:v}=g,w=a(l,p),C=De(b,w.collectionRef);return s.jsx(c,{ref:C,children:v})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",m=Io(f),h=te.forwardRef((g,b)=>{const{scope:p,children:v,...w}=g,C=te.useRef(null),N=De(b,C),j=a(f,p);return te.useEffect(()=>(j.itemMap.set(C,{ref:C,...w}),()=>void j.itemMap.delete(C))),s.jsx(m,{[d]:"",ref:N,children:v})});h.displayName=f;function y(g){const b=a(e+"CollectionConsumer",g);return te.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((j,S)=>w.indexOf(j.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},y,r]}var ML=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=ML.reduce((e,t)=>{const n=Io(`Primitive.${t}`),r=x.forwardRef((o,a)=>{const{asChild:i,...l}=o,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gv(e,t){e&&ls.flushSync(()=>e.dispatchEvent(t))}function St(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function RL(e,t=globalThis==null?void 0:globalThis.document){const n=St(e);x.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var TL="DismissableLayer",yx="dismissableLayer.update",AL="dismissableLayer.pointerDownOutside",_L="dismissableLayer.focusOutside",Ib,_k=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fa=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(_k),[f,d]=x.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),y=De(t,S=>d(S)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=g.indexOf(b),v=f?g.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,C=v>=p,N=DL(S=>{const P=S.target,M=[...u.branches].some(E=>E.contains(P));!C||M||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),j=LL(S=>{const P=S.target;[...u.branches].some(E=>E.contains(P))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return RL(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),x.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ib=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Db(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ib)}},[f,m,n,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Db())},[f,u]),x.useEffect(()=>{const S=()=>h({});return document.addEventListener(yx,S),()=>document.removeEventListener(yx,S)},[]),s.jsx(Pe.div,{...c,ref:y,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,j.onFocusCapture),onBlurCapture:le(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,N.onPointerDownCapture)})});Fa.displayName=TL;var IL="DismissableLayerBranch",Ik=x.forwardRef((e,t)=>{const n=x.useContext(_k),r=x.useRef(null),o=De(t,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Pe.div,{...e,ref:o})});Ik.displayName=IL;function DL(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Dk(AL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function LL(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=x.useRef(!1);return x.useEffect(()=>{const o=a=>{a.target&&!r.current&&Dk(_L,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Db(){const e=new CustomEvent(yx);document.dispatchEvent(e)}function Dk(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gv(o,a):o.dispatchEvent(a)}var OL=Fa,$L=Ik,zt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},FL="Portal",ll=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=x.useState(!1);zt(()=>a(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Mk.createPortal(s.jsx(Pe.div,{...r,ref:t}),i):null});ll.displayName=FL;function zL(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Kt=e=>{const{present:t,children:n}=e,r=VL(t),o=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=De(r.ref,BL(o));return typeof n=="function"||r.isPresent?x.cloneElement(o,{ref:a}):null};Kt.displayName="Presence";function VL(e){const[t,n]=x.useState(),r=x.useRef(null),o=x.useRef(e),a=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=zL(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=id(r.current);a.current=l==="mounted"?u:"none"},[l]),zt(()=>{const u=r.current,f=o.current;if(f!==e){const m=a.current,h=id(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),zt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=h=>{const g=id(r.current).includes(h.animationName);if(h.target===t&&g&&(c("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(a.current=id(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function id(e){return(e==null?void 0:e.animationName)||"none"}function BL(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UL=Sy[" useInsertionEffect ".trim().toString()]||zt;function Ir({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,i]=HL({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:o;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=x.useCallback(f=>{var d;if(l){const m=WL(f)?f(e):f;m!==e&&((d=i.current)==null||d.call(i,m))}else a(f)},[l,e,a,i]);return[c,u]}function HL({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),o=x.useRef(n),a=x.useRef(t);return UL(()=>{a.current=t},[t]),x.useEffect(()=>{var i;o.current!==n&&((i=a.current)==null||i.call(a,n),o.current=n)},[n,o]),[n,r,a]}function WL(e){return typeof e=="function"}var Lk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KL="VisuallyHidden",_m=x.forwardRef((e,t)=>s.jsx(Pe.span,{...e,ref:t,style:{...Lk,...e.style}}));_m.displayName=KL;var qL=_m,xv="ToastProvider",[yv,YL,GL]=Am("Toast"),[Ok]=Xt("Toast",[GL]),[XL,Im]=Ok(xv),$k=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,c]=x.useState(null),[u,f]=x.useState(0),d=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xv}\`. Expected non-empty \`string\`.`),s.jsx(yv.Provider,{scope:t,children:s.jsx(XL,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>f(h=>h+1),[]),onToastRemove:x.useCallback(()=>f(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:i})})};$k.displayName=xv;var Fk="ToastViewport",QL=["F8"],vx="toast.viewportPause",wx="toast.viewportResume",zk=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=QL,label:o="Notifications ({hotkey})",...a}=e,i=Im(Fk,n),l=YL(n),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),d=x.useRef(null),m=De(t,d,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;x.useEffect(()=>{const b=p=>{var w;r.length!==0&&r.every(C=>p[C]||p.code===C)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),x.useEffect(()=>{const b=c.current,p=d.current;if(y&&b&&p){const v=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(vx);p.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(wx);p.dispatchEvent(j),i.isClosePausedRef.current=!1}},C=j=>{!b.contains(j.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",C),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[y,i.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:b})=>{const v=l().map(w=>{const C=w.ref.current,N=[C,...uO(C)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const b=d.current;if(b){const p=v=>{var N,j,S;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const P=document.activeElement,M=v.shiftKey;if(v.target===b&&M){(N=u.current)==null||N.focus();return}const T=g({tabbingDirection:M?"backwards":"forwards"}),D=T.findIndex(R=>R===P);kp(T.slice(D+1))?v.preventDefault():M?(j=u.current)==null||j.focus():(S=f.current)==null||S.focus()}};return b.addEventListener("keydown",p),()=>b.removeEventListener("keydown",p)}},[l,g]),s.jsxs($L,{ref:c,role:"region","aria-label":o.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(bx,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});kp(b)}}),s.jsx(yv.Slot,{scope:n,children:s.jsx(Pe.ol,{tabIndex:-1,...a,ref:m})}),y&&s.jsx(bx,{ref:f,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});kp(b)}})]})});zk.displayName=Fk;var Vk="ToastFocusProxy",bx=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,a=Im(Vk,n);return s.jsx(_m,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});bx.displayName=Vk;var uu="Toast",JL="toast.swipeStart",ZL="toast.swipeMove",eO="toast.swipeCancel",tO="toast.swipeEnd",Bk=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:a,...i}=e,[l,c]=Ir({prop:r,defaultProp:o??!0,onChange:a,caller:uu});return s.jsx(Kt,{present:n||l,children:s.jsx(sO,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:St(e.onPause),onResume:St(e.onResume),onSwipeStart:le(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:le(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});Bk.displayName=uu;var[nO,rO]=Ok(uu,{onClose(){}}),sO=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:h,...y}=e,g=Im(uu,n),[b,p]=x.useState(null),v=De(t,R=>p(R)),w=x.useRef(null),C=x.useRef(null),N=o||g.duration,j=x.useRef(0),S=x.useRef(N),P=x.useRef(0),{onToastAdd:M,onToastRemove:E}=g,k=St(()=>{var $;(b==null?void 0:b.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),i()}),T=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(k,R))},[k]);x.useEffect(()=>{const R=g.viewport;if(R){const $=()=>{T(S.current),u==null||u()},L=()=>{const F=new Date().getTime()-j.current;S.current=S.current-F,window.clearTimeout(P.current),c==null||c()};return R.addEventListener(vx,L),R.addEventListener(wx,$),()=>{R.removeEventListener(vx,L),R.removeEventListener(wx,$)}}},[g.viewport,N,c,u,T]),x.useEffect(()=>{a&&!g.isClosePausedRef.current&&T(N)},[a,N,g.isClosePausedRef,T]),x.useEffect(()=>(M(),()=>E()),[M,E]);const D=x.useMemo(()=>b?Gk(b):null,[b]);return g.viewport?s.jsxs(s.Fragment,{children:[D&&s.jsx(oO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),s.jsx(nO,{scope:n,onClose:k,children:ls.createPortal(s.jsx(yv.ItemSlot,{scope:n,children:s.jsx(OL,{asChild:!0,onEscapeKeyDown:le(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:le(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:le(e.onPointerMove,R=>{if(!w.current)return;const $=R.clientX-w.current.x,L=R.clientY-w.current.y,F=!!C.current,_=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=_?I(0,$):0,B=_?0:I(0,L),U=R.pointerType==="touch"?10:2,O={x:A,y:B},q={originalEvent:R,delta:O};F?(C.current=O,ld(ZL,d,q,{discrete:!1})):Lb(O,g.swipeDirection,U)?(C.current=O,ld(JL,f,q,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs($)>U||Math.abs(L)>U)&&(w.current=null)}),onPointerUp:le(e.onPointerUp,R=>{const $=C.current,L=R.target;if(L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),C.current=null,w.current=null,$){const F=R.currentTarget,_={originalEvent:R,delta:$};Lb($,g.swipeDirection,g.swipeThreshold)?ld(tO,h,_,{discrete:!0}):ld(eO,m,_,{discrete:!0}),F.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),oO=e=>{const{__scopeToast:t,children:n,...r}=e,o=Im(uu,t),[a,i]=x.useState(!1),[l,c]=x.useState(!1);return lO(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ll,{asChild:!0,children:s.jsx(_m,{...r,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",n]})})})},aO="ToastTitle",Uk=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});Uk.displayName=aO;var iO="ToastDescription",Hk=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});Hk.displayName=iO;var Wk="ToastAction",Kk=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(Yk,{altText:n,asChild:!0,children:s.jsx(vv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wk}\`. Expected non-empty \`string\`.`),null)});Kk.displayName=Wk;var qk="ToastClose",vv=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=rO(qk,n);return s.jsx(Yk,{asChild:!0,children:s.jsx(Pe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,o.onClose)})})});vv.displayName=qk;var Yk=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return s.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Gk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),cO(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Gk(r))}}),t}function ld(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gv(o,a):o.dispatchEvent(a)}var Lb=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),a=r>o;return t==="left"||t==="right"?a&&r>n:!a&&o>n};function lO(e=()=>{}){const t=St(e);zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function cO(e){return e.nodeType===e.ELEMENT_NODE}function uO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dO=$k,Xk=zk,Qk=Bk,Jk=Uk,Zk=Hk,e2=Kk,t2=vv;function n2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=n2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function r2(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=n2(e))&&(r&&(r+=" "),r+=t);return r}const Ob=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$b=r2,cl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return $b(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const f=n==null?void 0:n[u],d=a==null?void 0:a[u];if(f===null)return null;const m=Ob(f)||Ob(d);return o[u][m]}),l=n&&Object.entries(n).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:m,...h}=f;return Object.entries(h).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,d,m]:u},[]);return $b(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...mO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:s2("lucide",o),...l},[...i.map(([u,f])=>x.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const n=x.forwardRef(({className:r,...o},a)=>x.createElement(hO,{ref:a,iconNode:t,className:s2(`lucide-${fO(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ye("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ye("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ye("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ye("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ye("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ye("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ye("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ye("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ye("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ye("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ye("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ye("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ye("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ye("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kv="-",_O=e=>{const t=DO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(kv);return l[0]===""&&l.length!==1&&l.shift(),p2(l,t)||IO(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},p2=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?p2(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(kv);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},zb=/^\[(.+)\]$/,IO=e=>{if(zb.test(e)){const t=zb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},DO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return OO(Object.entries(e.classGroups),n).forEach(([a,i])=>{Cx(i,r,a,t)}),r},Cx=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Vb(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(LO(o)){Cx(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,i])=>{Cx(i,Vb(t,a),n,r)})})},Vb=(e,t)=>{let n=e;return t.split(kv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LO=e=>e.isThemeGetter,OO=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,o]}):e,$O=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return o(a,i),i},set(a,i){n.has(a)?n.set(a,i):o(a,i)}}},g2="!",FO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let u=0,f=0,d;for(let b=0;b<l.length;b++){let p=l[b];if(u===0){if(p===o&&(r||l.slice(b,b+a)===t)){c.push(l.slice(f,b)),f=b+a;continue}if(p==="/"){d=b;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(f),h=m.startsWith(g2),y=h?m.substring(1):m,g=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},zO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},VO=e=>({cache:$O(e.cacheSize),parseClassName:FO(e),..._O(e)}),BO=/\s+/,UO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(BO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let y=!!h,g=r(y?m.substring(0,h):m);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=zO(f).join(":"),p=d?b+g2:b,v=p+g;if(a.includes(v))continue;a.push(v);const w=o(g,y);for(let C=0;C<w.length;++C){const N=w[C];a.push(p+N)}l=u+(l.length>0?" "+l:l)}return l};function HO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=x2(t))&&(r&&(r+=" "),r+=n);return r}const x2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=x2(e[r]))&&(n&&(n+=" "),n+=t);return n};function WO(e,...t){let n,r,o,a=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return n=VO(u),r=n.cache.get,o=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=UO(c,n);return o(c,f),f}return function(){return a(HO.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},y2=/^\[(?:([a-z-]+):)?(.+)\]$/i,KO=/^\d+\/\d+$/,qO=new Set(["px","full","screen"]),YO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>ji(e)||qO.has(e)||KO.test(e),Gs=e=>dl(e,"length",a5),ji=e=>!!e&&!Number.isNaN(Number(e)),Ep=e=>dl(e,"number",ji),$l=e=>!!e&&Number.isInteger(Number(e)),ZO=e=>e.endsWith("%")&&ji(e.slice(0,-1)),$e=e=>y2.test(e),Xs=e=>YO.test(e),e5=new Set(["length","size","percentage"]),t5=e=>dl(e,e5,v2),n5=e=>dl(e,"position",v2),r5=new Set(["image","url"]),s5=e=>dl(e,r5,l5),o5=e=>dl(e,"",i5),Fl=()=>!0,dl=(e,t,n)=>{const r=y2.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},a5=e=>GO.test(e)&&!XO.test(e),v2=()=>!1,i5=e=>QO.test(e),l5=e=>JO.test(e),c5=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),r=it("brightness"),o=it("borderColor"),a=it("borderRadius"),i=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),f=it("hueRotate"),d=it("invert"),m=it("gap"),h=it("gradientColorStops"),y=it("gradientColorStopPositions"),g=it("inset"),b=it("margin"),p=it("opacity"),v=it("padding"),w=it("saturate"),C=it("scale"),N=it("sepia"),j=it("skew"),S=it("space"),P=it("translate"),M=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",$e,t],T=()=>[$e,t],D=()=>["",bs,Gs],R=()=>["auto",ji,$e],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",$e],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ji,$e];return{cacheSize:500,separator:":",theme:{colors:[Fl],spacing:[bs,Gs],blur:["none","",Xs,$e],brightness:B(),borderColor:[e],borderRadius:["none","","full",Xs,$e],borderSpacing:T(),borderWidth:D(),contrast:B(),grayscale:I(),hueRotate:B(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[ZO,Gs],inset:k(),margin:k(),opacity:B(),padding:T(),saturate:B(),scale:B(),sepia:I(),skew:B(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),$e]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$l,$e]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",$l,$e]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",$l,$e]},$e]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[$l,$e]},$e]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ep]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",ji,Ep]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,Gs]}],"underline-offset":[{"underline-offset":["auto",bs,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),n5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},s5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[bs,$e]}],"outline-w":[{outline:[bs,Gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[bs,Gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xs,o5]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xs,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[$l,$e]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,Gs,Ep]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u5=WO(c5);function J(...e){return u5(r2(e))}const d5=dO,w2=x.forwardRef(({className:e,...t},n)=>s.jsx(Xk,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));w2.displayName=Xk.displayName;const f5=cl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b2=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Qk,{ref:r,className:J(f5({variant:t}),e),...n}));b2.displayName=Qk.displayName;const m5=x.forwardRef(({className:e,...t},n)=>s.jsx(e2,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));m5.displayName=e2.displayName;const j2=x.forwardRef(({className:e,...t},n)=>s.jsx(t2,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Lm,{className:"h-4 w-4"})}));j2.displayName=t2.displayName;const N2=x.forwardRef(({className:e,...t},n)=>s.jsx(Jk,{ref:n,className:J("text-sm font-semibold",e),...t}));N2.displayName=Jk.displayName;const C2=x.forwardRef(({className:e,...t},n)=>s.jsx(Zk,{ref:n,className:J("text-sm opacity-90",e),...t}));C2.displayName=Zk.displayName;function h5(){const{toasts:e}=$r();return s.jsxs(d5,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return s.jsxs(b2,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(N2,{children:n}),r&&s.jsx(C2,{children:r})]}),o,s.jsx(j2,{})]},t)}),s.jsx(w2,{})]})}var Lf=["light","dark"],Ev="(prefers-color-scheme: dark)",p5=typeof window>"u",Pv=x.createContext(void 0),g5={setTheme:e=>{},themes:[]},Mv=()=>{var e;return(e=x.useContext(Pv))!=null?e:g5},x5=e=>x.useContext(Pv)?e.children:x.createElement(v5,{...e}),y5=["light","dark"],v5=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:a=y5,defaultTheme:i=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f})=>{let[d,m]=x.useState(()=>Bb(o,i)),[h,y]=x.useState(()=>Bb(o)),g=c?Object.values(c):a,b=x.useCallback(C=>{let N=C;if(!N)return;C==="system"&&n&&(N=Ub());let j=c?c[N]:N,S=t?b5():null,P=document.documentElement;if(l==="class"?(P.classList.remove(...g),j&&P.classList.add(j)):j?P.setAttribute(l,j):P.removeAttribute(l),r){let M=Lf.includes(i)?i:null,E=Lf.includes(N)?N:M;P.style.colorScheme=E}S==null||S()},[]),p=x.useCallback(C=>{let N=typeof C=="function"?C(C):C;m(N);try{localStorage.setItem(o,N)}catch{}},[e]),v=x.useCallback(C=>{let N=Ub(C);y(N),d==="system"&&n&&!e&&b("system")},[d,e]);x.useEffect(()=>{let C=window.matchMedia(Ev);return C.addListener(v),v(C),()=>C.removeListener(v)},[v]),x.useEffect(()=>{let C=N=>{if(N.key!==o)return;let j=N.newValue||i;p(j)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[p]),x.useEffect(()=>{b(e??d)},[e,d]);let w=x.useMemo(()=>({theme:d,setTheme:p,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...a,"system"]:a,systemTheme:n?h:void 0}),[d,p,e,h,n,a]);return x.createElement(Pv.Provider,{value:w},x.createElement(w5,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:o,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:g,nonce:f}),u)},w5=x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=o?Lf.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,b=!0)=>{let p=i?i[y]:y,v=g?y+"|| ''":`'${p}'`,w="";return o&&b&&!g&&Lf.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),n==="class"?g||p?w+=`c.add(${v})`:w+="null":p&&(w+=`d[s](n,${v})`),w},h=e?`!function(){${f}${m(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Ev}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),Bb=(e,t)=>{if(p5)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},b5=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Ub=e=>(e||(e=window.matchMedia(Ev)),e.matches?"dark":"light"),j5=e=>{switch(e){case"success":return S5;case"info":return E5;case"warning":return k5;case"error":return P5;default:return null}},N5=Array(12).fill(0),C5=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},N5.map((n,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),S5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M5=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),R5=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Sx=1,T5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sx++,a=this.toasts.find(l=>l.id===o),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:n}),{...l,...e,id:o,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0,a,i=r.then(async c=>{if(a=["resolve",c],te.isValidElement(c))o=!1,this.create({id:n,type:"default",message:c});else if(_5(c)&&!c.ok){o=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:f})}else if(t.success!==void 0){o=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){o=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var c;o&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Sx++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kn=new T5,A5=(e,t)=>{let n=(t==null?void 0:t.id)||Sx++;return kn.addToast({title:e,...t,id:n}),n},_5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",I5=A5,D5=()=>kn.toasts,L5=()=>kn.getActiveToasts(),lo=Object.assign(I5,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:D5,getToasts:L5});function O5(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}O5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cd(e){return e.label!==void 0}var $5=3,F5="32px",z5="16px",Hb=4e3,V5=356,B5=14,U5=20,H5=200;function gr(...e){return e.filter(Boolean).join(" ")}function W5(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var K5=e=>{var t,n,r,o,a,i,l,c,u,f,d;let{invert:m,toast:h,unstyled:y,interacting:g,setHeights:b,visibleToasts:p,heights:v,index:w,toasts:C,expanded:N,removeToast:j,defaultRichColors:S,closeButton:P,style:M,cancelButtonStyle:E,actionButtonStyle:k,className:T="",descriptionClassName:D="",duration:R,position:$,gap:L,loadingIcon:F,expandByDefault:_,classNames:I,icons:A,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:U}=e,[O,q]=te.useState(null),[ne,se]=te.useState(null),[z,W]=te.useState(!1),[Q,ie]=te.useState(!1),[ae,oe]=te.useState(!1),[Y,he]=te.useState(!1),[fe,Se]=te.useState(!1),[Me,qe]=te.useState(0),[Ue,V]=te.useState(0),K=te.useRef(h.duration||R||Hb),X=te.useRef(null),me=te.useRef(null),pe=w===0,ue=w+1<=p,H=h.type,ee=h.dismissible!==!1,ge=h.className||"",Te=h.descriptionClassName||"",Oe=te.useMemo(()=>v.findIndex(_e=>_e.toastId===h.id)||0,[v,h.id]),mt=te.useMemo(()=>{var _e;return(_e=h.closeButton)!=null?_e:P},[h.closeButton,P]),Cn=te.useMemo(()=>h.duration||R||Hb,[h.duration,R]),Dt=te.useRef(0),Bt=te.useRef(0),Jn=te.useRef(0),at=te.useRef(null),[Zn,Qt]=$.split("-"),zu=te.useMemo(()=>v.reduce((_e,Xe,et)=>et>=Oe?_e:_e+Xe.height,0),[v,Oe]),Vu=R5(),Yh=h.invert||m,Ml=H==="loading";Bt.current=te.useMemo(()=>Oe*L+zu,[Oe,zu]),te.useEffect(()=>{K.current=Cn},[Cn]),te.useEffect(()=>{W(!0)},[]),te.useEffect(()=>{let _e=me.current;if(_e){let Xe=_e.getBoundingClientRect().height;return V(Xe),b(et=>[{toastId:h.id,height:Xe,position:h.position},...et]),()=>b(et=>et.filter(Dn=>Dn.toastId!==h.id))}},[b,h.id]),te.useLayoutEffect(()=>{if(!z)return;let _e=me.current,Xe=_e.style.height;_e.style.height="auto";let et=_e.getBoundingClientRect().height;_e.style.height=Xe,V(et),b(Dn=>Dn.find(Ln=>Ln.toastId===h.id)?Dn.map(Ln=>Ln.toastId===h.id?{...Ln,height:et}:Ln):[{toastId:h.id,height:et,position:h.position},...Dn])},[z,h.title,h.description,b,h.id]);let Br=te.useCallback(()=>{ie(!0),qe(Bt.current),b(_e=>_e.filter(Xe=>Xe.toastId!==h.id)),setTimeout(()=>{j(h)},H5)},[h,j,b,Bt]);te.useEffect(()=>{if(h.promise&&H==="loading"||h.duration===1/0||h.type==="loading")return;let _e;return N||g||U&&Vu?(()=>{if(Jn.current<Dt.current){let Xe=new Date().getTime()-Dt.current;K.current=K.current-Xe}Jn.current=new Date().getTime()})():K.current!==1/0&&(Dt.current=new Date().getTime(),_e=setTimeout(()=>{var Xe;(Xe=h.onAutoClose)==null||Xe.call(h,h),Br()},K.current)),()=>clearTimeout(_e)},[N,g,h,H,U,Vu,Br]),te.useEffect(()=>{h.delete&&Br()},[Br,h.delete]);function Gh(){var _e,Xe,et;return A!=null&&A.loading?te.createElement("div",{className:gr(I==null?void 0:I.loader,(_e=h==null?void 0:h.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":H==="loading"},A.loading):F?te.createElement("div",{className:gr(I==null?void 0:I.loader,(Xe=h==null?void 0:h.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":H==="loading"},F):te.createElement(C5,{className:gr(I==null?void 0:I.loader,(et=h==null?void 0:h.classNames)==null?void 0:et.loader),visible:H==="loading"})}return te.createElement("li",{tabIndex:0,ref:me,className:gr(T,ge,I==null?void 0:I.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[H],(n=h==null?void 0:h.classNames)==null?void 0:n[H]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:S,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":z,"data-promise":!!h.promise,"data-swiped":fe,"data-removed":Q,"data-visible":ue,"data-y-position":Zn,"data-x-position":Qt,"data-index":w,"data-front":pe,"data-swiping":ae,"data-dismissible":ee,"data-type":H,"data-invert":Yh,"data-swipe-out":Y,"data-swipe-direction":ne,"data-expanded":!!(N||_&&z),style:{"--index":w,"--toasts-before":w,"--z-index":C.length-w,"--offset":`${Q?Me:Bt.current}px`,"--initial-height":_?"auto":`${Ue}px`,...M,...h.style},onDragEnd:()=>{oe(!1),q(null),at.current=null},onPointerDown:_e=>{Ml||!ee||(X.current=new Date,qe(Bt.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(oe(!0),at.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,Xe,et,Dn;if(Y||!ee)return;at.current=null;let Ln=Number(((_e=me.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ur=Number(((Xe=me.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((et=X.current)==null?void 0:et.getTime()),On=O==="x"?Ln:Ur,Hr=Math.abs(On)/vs;if(Math.abs(On)>=U5||Hr>.11){qe(Bt.current),(Dn=h.onDismiss)==null||Dn.call(h,h),se(O==="x"?Ln>0?"right":"left":Ur>0?"down":"up"),Br(),he(!0),Se(!1);return}oe(!1),q(null)},onPointerMove:_e=>{var Xe,et,Dn,Ln;if(!at.current||!ee||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let Ur=_e.clientY-at.current.y,vs=_e.clientX-at.current.x,On=(et=e.swipeDirections)!=null?et:W5($);!O&&(Math.abs(vs)>1||Math.abs(Ur)>1)&&q(Math.abs(vs)>Math.abs(Ur)?"x":"y");let Hr={x:0,y:0};O==="y"?(On.includes("top")||On.includes("bottom"))&&(On.includes("top")&&Ur<0||On.includes("bottom")&&Ur>0)&&(Hr.y=Ur):O==="x"&&(On.includes("left")||On.includes("right"))&&(On.includes("left")&&vs<0||On.includes("right")&&vs>0)&&(Hr.x=vs),(Math.abs(Hr.x)>0||Math.abs(Hr.y)>0)&&Se(!0),(Dn=me.current)==null||Dn.style.setProperty("--swipe-amount-x",`${Hr.x}px`),(Ln=me.current)==null||Ln.style.setProperty("--swipe-amount-y",`${Hr.y}px`)}},mt&&!h.jsx?te.createElement("button",{"aria-label":B,"data-disabled":Ml,"data-close-button":!0,onClick:Ml||!ee?()=>{}:()=>{var _e;Br(),(_e=h.onDismiss)==null||_e.call(h,h)},className:gr(I==null?void 0:I.closeButton,(o=h==null?void 0:h.classNames)==null?void 0:o.closeButton)},(a=A==null?void 0:A.close)!=null?a:M5):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:te.createElement(te.Fragment,null,H||h.icon||h.promise?te.createElement("div",{"data-icon":"",className:gr(I==null?void 0:I.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gh():null,h.type!=="loading"?h.icon||(A==null?void 0:A[H])||j5(H):null):null,te.createElement("div",{"data-content":"",className:gr(I==null?void 0:I.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:gr(I==null?void 0:I.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?te.createElement("div",{"data-description":"",className:gr(D,Te,I==null?void 0:I.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&cd(h.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:_e=>{var Xe,et;cd(h.cancel)&&ee&&((et=(Xe=h.cancel).onClick)==null||et.call(Xe,_e),Br())},className:gr(I==null?void 0:I.cancelButton,(f=h==null?void 0:h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&cd(h.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:_e=>{var Xe,et;cd(h.action)&&((et=(Xe=h.action).onClick)==null||et.call(Xe,_e),!_e.defaultPrevented&&Br())},className:gr(I==null?void 0:I.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Wb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function q5(e,t){let n={};return[e,t].forEach((r,o)=>{let a=o===1,i=a?"--mobile-offset":"--offset",l=a?z5:F5;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var Y5=x.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:m,style:h,visibleToasts:y=$5,toastOptions:g,dir:b=Wb(),gap:p=B5,loadingIcon:v,icons:w,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:N}=e,[j,S]=te.useState([]),P=te.useMemo(()=>Array.from(new Set([r].concat(j.filter(U=>U.position).map(U=>U.position)))),[j,r]),[M,E]=te.useState([]),[k,T]=te.useState(!1),[D,R]=te.useState(!1),[$,L]=te.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=te.useRef(null),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=te.useRef(null),A=te.useRef(!1),B=te.useCallback(U=>{S(O=>{var q;return(q=O.find(ne=>ne.id===U.id))!=null&&q.delete||kn.dismiss(U.id),O.filter(({id:ne})=>ne!==U.id)})},[]);return te.useEffect(()=>kn.subscribe(U=>{if(U.dismiss){S(O=>O.map(q=>q.id===U.id?{...q,delete:!0}:q));return}setTimeout(()=>{Mk.flushSync(()=>{S(O=>{let q=O.findIndex(ne=>ne.id===U.id);return q!==-1?[...O.slice(0,q),{...O[q],...U},...O.slice(q+1)]:[U,...O]})})})}),[]),te.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:O})=>{L(O?"dark":"light")})}catch{U.addListener(({matches:q})=>{try{L(q?"dark":"light")}catch(ne){console.error(ne)}})}},[f]),te.useEffect(()=>{j.length<=1&&T(!1)},[j]),te.useEffect(()=>{let U=O=>{var q,ne;o.every(se=>O[se]||O.code===se)&&(T(!0),(q=F.current)==null||q.focus()),O.code==="Escape"&&(document.activeElement===F.current||(ne=F.current)!=null&&ne.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[o]),te.useEffect(()=>{if(F.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,A.current=!1)}},[F.current]),te.createElement("section",{ref:t,"aria-label":`${C} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((U,O)=>{var q;let[ne,se]=U.split("-");return j.length?te.createElement("ol",{key:U,dir:b==="auto"?Wb():b,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ne,"data-lifted":k&&j.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((q=M[0])==null?void 0:q.height)||0}px`,"--width":`${V5}px`,"--gap":`${p}px`,...h,...q5(c,u)},onBlur:z=>{A.current&&!z.currentTarget.contains(z.relatedTarget)&&(A.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||A.current||(A.current=!0,I.current=z.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{D||T(!1)},onDragEnd:()=>T(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(z=>!z.position&&O===0||z.position===U).map((z,W)=>{var Q,ie;return te.createElement(K5,{key:z.id,icons:w,index:W,toast:z,defaultRichColors:d,duration:(Q=g==null?void 0:g.duration)!=null?Q:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:y,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:i,interacting:D,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:B,toasts:j.filter(ae=>ae.position==z.position),heights:M.filter(ae=>ae.position==z.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:v,expanded:k,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const G5=({...e})=>{const{theme:t="system"}=Mv();return s.jsx(Y5,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var X5=Sy[" useId ".trim().toString()]||(()=>{}),Q5=0;function Wn(e){const[t,n]=x.useState(X5());return zt(()=>{n(r=>r??String(Q5++))},[e]),t?`radix-${t}`:""}const J5=["top","right","bottom","left"],Lo=Math.min,zn=Math.max,Of=Math.round,ud=Math.floor,as=e=>({x:e,y:e}),Z5={left:"right",right:"left",bottom:"top",top:"bottom"},e$={start:"end",end:"start"};function kx(e,t,n){return zn(e,Lo(t,n))}function $s(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function fl(e){return e.split("-")[1]}function Rv(e){return e==="x"?"y":"x"}function Tv(e){return e==="y"?"height":"width"}const t$=new Set(["top","bottom"]);function ts(e){return t$.has(Fs(e))?"y":"x"}function Av(e){return Rv(ts(e))}function n$(e,t,n){n===void 0&&(n=!1);const r=fl(e),o=Av(e),a=Tv(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=$f(i)),[i,$f(i)]}function r$(e){const t=$f(e);return[Ex(e),t,Ex(t)]}function Ex(e){return e.replace(/start|end/g,t=>e$[t])}const Kb=["left","right"],qb=["right","left"],s$=["top","bottom"],o$=["bottom","top"];function a$(e,t,n){switch(e){case"top":case"bottom":return n?t?qb:Kb:t?Kb:qb;case"left":case"right":return t?s$:o$;default:return[]}}function i$(e,t,n,r){const o=fl(e);let a=a$(Fs(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Ex)))),a}function $f(e){return e.replace(/left|right|bottom|top/g,t=>Z5[t])}function l$(e){return{top:0,right:0,bottom:0,left:0,...e}}function S2(e){return typeof e!="number"?l$(e):{top:e,right:e,bottom:e,left:e}}function Ff(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Yb(e,t,n){let{reference:r,floating:o}=e;const a=ts(t),i=Av(t),l=Tv(i),c=Fs(t),u=a==="y",f=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,m=r[l]/2-o[l]/2;let h;switch(c){case"top":h={x:f,y:r.y-o.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch(fl(t)){case"start":h[i]-=m*(n&&u?-1:1);break;case"end":h[i]+=m*(n&&u?-1:1);break}return h}const c$=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=Yb(u,r,c),m=r,h={},y=0;for(let g=0;g<l.length;g++){const{name:b,fn:p}=l[g],{x:v,y:w,data:C,reset:N}=await p({x:f,y:d,initialPlacement:r,placement:m,strategy:o,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});f=v??f,d=w??d,h={...h,[b]:{...h[b],...C}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:f,y:d}=Yb(u,m,c)),g=-1)}return{x:f,y:d,placement:m,strategy:o,middlewareData:h}};async function Lc(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:h=0}=$s(t,e),y=S2(h),b=l[m?d==="floating"?"reference":"floating":d],p=Ff(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ff(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(p.top-N.top+y.top)/C.y,bottom:(N.bottom-p.bottom+y.bottom)/C.y,left:(p.left-N.left+y.left)/C.x,right:(N.right-p.right+y.right)/C.x}}const u$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=$s(e,t)||{};if(u==null)return{};const d=S2(f),m={x:n,y:r},h=Av(o),y=Tv(h),g=await i.getDimensions(u),b=h==="y",p=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=a.reference[y]+a.reference[h]-m[h]-a.floating[y],N=m[h]-a.reference[h],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=j?j[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(j)))&&(S=l.floating[w]||a.floating[y]);const P=C/2-N/2,M=S/2-g[y]/2-1,E=Lo(d[p],M),k=Lo(d[v],M),T=E,D=S-g[y]-k,R=S/2-g[y]/2+P,$=kx(T,R,D),L=!c.arrow&&fl(o)!=null&&R!==$&&a.reference[y]/2-(R<T?E:k)-g[y]/2<0,F=L?R<T?R-T:R-D:0;return{[h]:m[h]+F,data:{[h]:$,centerOffset:R-$-F,...L&&{alignmentOffset:F}},reset:L}}}),d$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=$s(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=Fs(o),v=ts(l),w=Fs(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(w||!g?[$f(l)]:r$(l)),j=y!=="none";!m&&j&&N.push(...i$(l,g,y,C));const S=[l,...N],P=await Lc(t,b),M=[];let E=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&M.push(P[p]),d){const R=n$(o,i,C);M.push(P[R[0]],P[R[1]])}if(E=[...E,{placement:o,overflows:M}],!M.every(R=>R<=0)){var k,T;const R=(((k=a.flip)==null?void 0:k.index)||0)+1,$=S[R];if($&&(!(d==="alignment"?v!==ts($):!1)||E.every(_=>_.overflows[0]>0&&ts(_.placement)===v)))return{data:{index:R,overflows:E},reset:{placement:$}};let L=(T=E.filter(F=>F.overflows[0]<=0).sort((F,_)=>F.overflows[1]-_.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(h){case"bestFit":{var D;const F=(D=E.filter(_=>{if(j){const I=ts(_.placement);return I===v||I==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(I=>I>0).reduce((I,A)=>I+A,0)]).sort((_,I)=>_[1]-I[1])[0])==null?void 0:D[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function Gb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xb(e){return J5.some(t=>e[t]>=0)}const f$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=$s(e,t);switch(r){case"referenceHidden":{const a=await Lc(t,{...o,elementContext:"reference"}),i=Gb(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xb(i)}}}case"escaped":{const a=await Lc(t,{...o,altBoundary:!0}),i=Gb(a,n.floating);return{data:{escapedOffsets:i,escaped:Xb(i)}}}default:return{}}}}},k2=new Set(["left","top"]);async function m$(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Fs(n),l=fl(n),c=ts(n)==="y",u=k2.has(i)?-1:1,f=a&&c?-1:1,d=$s(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(h=l==="end"?y*-1:y),c?{x:h*f,y:m*u}:{x:m*u,y:h*f}}const h$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await m$(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},p$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:p,y:v}=b;return{x:p,y:v}}},...c}=$s(e,t),u={x:n,y:r},f=await Lc(t,c),d=ts(Fs(o)),m=Rv(d);let h=u[m],y=u[d];if(a){const b=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=h+f[b],w=h-f[p];h=kx(v,h,w)}if(i){const b=d==="y"?"top":"left",p=d==="y"?"bottom":"right",v=y+f[b],w=y-f[p];y=kx(v,y,w)}const g=l.fn({...t,[m]:h,[d]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:a,[d]:i}}}}}},g$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$s(e,t),f={x:n,y:r},d=ts(o),m=Rv(d);let h=f[m],y=f[d];const g=$s(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",C=a.reference[m]-a.floating[w]+b.mainAxis,N=a.reference[m]+a.reference[w]-b.mainAxis;h<C?h=C:h>N&&(h=N)}if(u){var p,v;const w=m==="y"?"width":"height",C=k2.has(Fs(o)),N=a.reference[d]-a.floating[w]+(C&&((p=i.offset)==null?void 0:p[d])||0)+(C?0:b.crossAxis),j=a.reference[d]+a.reference[w]+(C?0:((v=i.offset)==null?void 0:v[d])||0)-(C?b.crossAxis:0);y<N?y=N:y>j&&(y=j)}return{[m]:h,[d]:y}}}},x$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=$s(e,t),f=await Lc(t,u),d=Fs(o),m=fl(o),h=ts(o)==="y",{width:y,height:g}=a.floating;let b,p;d==="top"||d==="bottom"?(b=d,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=d,b=m==="end"?"top":"bottom");const v=g-f.top-f.bottom,w=y-f.left-f.right,C=Lo(g-f[b],v),N=Lo(y-f[p],w),j=!t.middlewareData.shift;let S=C,P=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=v),j&&!m){const E=zn(f.left,0),k=zn(f.right,0),T=zn(f.top,0),D=zn(f.bottom,0);h?P=y-2*(E!==0||k!==0?E+k:zn(f.left,f.right)):S=g-2*(T!==0||D!==0?T+D:zn(f.top,f.bottom))}await c({...t,availableWidth:P,availableHeight:S});const M=await i.getDimensions(l.floating);return y!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function Om(){return typeof window<"u"}function ml(e){return E2(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(E2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function E2(e){return Om()?e instanceof Node||e instanceof Kn(e).Node:!1}function Lr(e){return Om()?e instanceof Element||e instanceof Kn(e).Element:!1}function us(e){return Om()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function Qb(e){return!Om()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const y$=new Set(["inline","contents"]);function hu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Or(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!y$.has(o)}const v$=new Set(["table","td","th"]);function w$(e){return v$.has(ml(e))}const b$=[":popover-open",":modal"];function $m(e){return b$.some(t=>{try{return e.matches(t)}catch{return!1}})}const j$=["transform","translate","scale","rotate","perspective"],N$=["transform","translate","scale","rotate","perspective","filter"],C$=["paint","layout","strict","content"];function _v(e){const t=Iv(),n=Lr(e)?Or(e):e;return j$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||N$.some(r=>(n.willChange||"").includes(r))||C$.some(r=>(n.contain||"").includes(r))}function S$(e){let t=Oo(e);for(;us(t)&&!Ki(t);){if(_v(t))return t;if($m(t))return null;t=Oo(t)}return null}function Iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k$=new Set(["html","body","#document"]);function Ki(e){return k$.has(ml(e))}function Or(e){return Kn(e).getComputedStyle(e)}function Fm(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oo(e){if(ml(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qb(e)&&e.host||fs(e);return Qb(t)?t.host:t}function P2(e){const t=Oo(e);return Ki(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&hu(t)?t:P2(t)}function Oc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=P2(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=Kn(o);if(a){const l=Px(i);return t.concat(i,i.visualViewport||[],hu(o)?o:[],l&&n?Oc(l):[])}return t.concat(o,Oc(o,[],n))}function Px(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function M2(e){const t=Or(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=us(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=Of(n)!==a||Of(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Dv(e){return Lr(e)?e:e.contextElement}function Ni(e){const t=Dv(e);if(!us(t))return as(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=M2(t);let i=(a?Of(n.width):n.width)/r,l=(a?Of(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const E$=as(0);function R2(e){const t=Kn(e);return!Iv()||!t.visualViewport?E$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kn(e)?!1:t}function Ea(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Dv(e);let i=as(1);t&&(r?Lr(r)&&(i=Ni(r)):i=Ni(e));const l=P$(a,n,r)?R2(a):as(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,f=o.width/i.x,d=o.height/i.y;if(a){const m=Kn(a),h=r&&Lr(r)?Kn(r):r;let y=m,g=Px(y);for(;g&&r&&h!==y;){const b=Ni(g),p=g.getBoundingClientRect(),v=Or(g),w=p.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,C=p.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=w,u+=C,y=Kn(g),g=Px(y)}}return Ff({width:f,height:d,x:c,y:u})}function Lv(e,t){const n=Fm(e).scrollLeft;return t?t.left+n:Ea(fs(e)).left+n}function T2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Lv(e,r)),a=r.top+t.scrollTop;return{x:o,y:a}}function M$(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=fs(r),l=t?$m(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=as(1);const f=as(0),d=us(r);if((d||!d&&!a)&&((ml(r)!=="body"||hu(i))&&(c=Fm(r)),us(r))){const h=Ea(r);u=Ni(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const m=i&&!d&&!a?T2(i,c,!0):as(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function R$(e){return Array.from(e.getClientRects())}function T$(e){const t=fs(e),n=Fm(e),r=e.ownerDocument.body,o=zn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=zn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Lv(e);const l=-n.scrollTop;return Or(r).direction==="rtl"&&(i+=zn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:l}}function A$(e,t){const n=Kn(e),r=fs(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const u=Iv();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:i,x:l,y:c}}const _$=new Set(["absolute","fixed"]);function I$(e,t){const n=Ea(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=us(e)?Ni(e):as(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function Jb(e,t,n){let r;if(t==="viewport")r=A$(e,n);else if(t==="document")r=T$(fs(e));else if(Lr(t))r=I$(t,n);else{const o=R2(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ff(r)}function A2(e,t){const n=Oo(e);return n===t||!Lr(n)||Ki(n)?!1:Or(n).position==="fixed"||A2(n,t)}function D$(e,t){const n=t.get(e);if(n)return n;let r=Oc(e,[],!1).filter(l=>Lr(l)&&ml(l)!=="body"),o=null;const a=Or(e).position==="fixed";let i=a?Oo(e):e;for(;Lr(i)&&!Ki(i);){const l=Or(i),c=_v(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&_$.has(o.position)||hu(i)&&!c&&A2(e,i))?r=r.filter(f=>f!==i):o=l,i=Oo(i)}return t.set(e,r),r}function L$(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?$m(t)?[]:D$(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,f)=>{const d=Jb(t,f,o);return u.top=zn(d.top,u.top),u.right=Lo(d.right,u.right),u.bottom=Lo(d.bottom,u.bottom),u.left=zn(d.left,u.left),u},Jb(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function O$(e){const{width:t,height:n}=M2(e);return{width:t,height:n}}function $$(e,t,n){const r=us(t),o=fs(t),a=n==="fixed",i=Ea(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=as(0);function u(){c.x=Lv(o)}if(r||!r&&!a)if((ml(t)!=="body"||hu(o))&&(l=Fm(t)),r){const h=Ea(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&u();a&&!r&&o&&u();const f=o&&!r&&!a?T2(o,l):as(0),d=i.left+l.scrollLeft-c.x-f.x,m=i.top+l.scrollTop-c.y-f.y;return{x:d,y:m,width:i.width,height:i.height}}function Pp(e){return Or(e).position==="static"}function Zb(e,t){if(!us(e)||Or(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fs(e)===n&&(n=n.ownerDocument.body),n}function _2(e,t){const n=Kn(e);if($m(e))return n;if(!us(e)){let o=Oo(e);for(;o&&!Ki(o);){if(Lr(o)&&!Pp(o))return o;o=Oo(o)}return n}let r=Zb(e,t);for(;r&&w$(r)&&Pp(r);)r=Zb(r,t);return r&&Ki(r)&&Pp(r)&&!_v(r)?n:r||S$(e)||n}const F$=async function(e){const t=this.getOffsetParent||_2,n=this.getDimensions,r=await n(e.floating);return{reference:$$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z$(e){return Or(e).direction==="rtl"}const V$={convertOffsetParentRelativeRectToViewportRelativeRect:M$,getDocumentElement:fs,getClippingRect:L$,getOffsetParent:_2,getElementRects:F$,getClientRects:R$,getDimensions:O$,getScale:Ni,isElement:Lr,isRTL:z$};function I2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function B$(e,t){let n=null,r;const o=fs(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:h}=u;if(l||t(),!m||!h)return;const y=ud(d),g=ud(o.clientWidth-(f+m)),b=ud(o.clientHeight-(d+h)),p=ud(f),w={rootMargin:-y+"px "+-g+"px "+-b+"px "+-p+"px",threshold:zn(0,Lo(1,c))||1};let C=!0;function N(j){const S=j[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!I2(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(N,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return i(!0),a}function U$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Dv(e),f=o||a?[...u?Oc(u):[],...Oc(t)]:[];f.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const d=u&&l?B$(u,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(p=>{let[v]=p;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let y,g=c?Ea(e):null;c&&b();function b(){const p=Ea(e);g&&!I2(g,p)&&n(),g=p,y=requestAnimationFrame(b)}return n(),()=>{var p;f.forEach(v=>{o&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),d==null||d(),(p=h)==null||p.disconnect(),h=null,c&&cancelAnimationFrame(y)}}const H$=h$,W$=p$,K$=d$,q$=x$,Y$=f$,e1=u$,G$=g$,X$=(e,t,n)=>{const r=new Map,o={platform:V$,...n},a={...o.platform,_c:r};return c$(e,t,{...o,platform:a})};var Q$=typeof document<"u",J$=function(){},Gd=Q$?x.useLayoutEffect:J$;function zf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zf(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!zf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function D2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t1(e,t){const n=D2(e);return Math.round(t*n)/n}function Mp(e){const t=x.useRef(e);return Gd(()=>{t.current=e}),t}function Z$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=x.useState(r);zf(m,r)||h(r);const[y,g]=x.useState(null),[b,p]=x.useState(null),v=x.useCallback(_=>{_!==j.current&&(j.current=_,g(_))},[]),w=x.useCallback(_=>{_!==S.current&&(S.current=_,p(_))},[]),C=a||y,N=i||b,j=x.useRef(null),S=x.useRef(null),P=x.useRef(f),M=c!=null,E=Mp(c),k=Mp(o),T=Mp(u),D=x.useCallback(()=>{if(!j.current||!S.current)return;const _={placement:t,strategy:n,middleware:m};k.current&&(_.platform=k.current),X$(j.current,S.current,_).then(I=>{const A={...I,isPositioned:T.current!==!1};R.current&&!zf(P.current,A)&&(P.current=A,ls.flushSync(()=>{d(A)}))})},[m,t,n,k,T]);Gd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(_=>({..._,isPositioned:!1})))},[u]);const R=x.useRef(!1);Gd(()=>(R.current=!0,()=>{R.current=!1}),[]),Gd(()=>{if(C&&(j.current=C),N&&(S.current=N),C&&N){if(E.current)return E.current(C,N,D);D()}},[C,N,D,E,M]);const $=x.useMemo(()=>({reference:j,floating:S,setReference:v,setFloating:w}),[v,w]),L=x.useMemo(()=>({reference:C,floating:N}),[C,N]),F=x.useMemo(()=>{const _={position:n,left:0,top:0};if(!L.floating)return _;const I=t1(L.floating,f.x),A=t1(L.floating,f.y);return l?{..._,transform:"translate("+I+"px, "+A+"px)",...D2(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:A}},[n,l,L.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:D,refs:$,elements:L,floatingStyles:F}),[f,D,$,L,F])}const eF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e1({element:r.current,padding:o}).fn(n):{}:r?e1({element:r,padding:o}).fn(n):{}}}},tF=(e,t)=>({...H$(e),options:[e,t]}),nF=(e,t)=>({...W$(e),options:[e,t]}),rF=(e,t)=>({...G$(e),options:[e,t]}),sF=(e,t)=>({...K$(e),options:[e,t]}),oF=(e,t)=>({...q$(e),options:[e,t]}),aF=(e,t)=>({...Y$(e),options:[e,t]}),iF=(e,t)=>({...eF(e),options:[e,t]});var lF="Arrow",L2=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return s.jsx(Pe.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});L2.displayName=lF;var cF=L2;function O2(e){const[t,n]=x.useState(void 0);return zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ov="Popper",[$2,Ko]=Xt(Ov),[uF,F2]=$2(Ov),z2=e=>{const{__scopePopper:t,children:n}=e,[r,o]=x.useState(null);return s.jsx(uF,{scope:t,anchor:r,onAnchorChange:o,children:n})};z2.displayName=Ov;var V2="PopperAnchor",B2=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=F2(V2,n),i=x.useRef(null),l=De(t,i);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:s.jsx(Pe.div,{...o,ref:l})});B2.displayName=V2;var $v="PopperContent",[dF,fF]=$2($v),U2=x.forwardRef((e,t)=>{var z,W,Q,ie,ae,oe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:y,...g}=e,b=F2($v,n),[p,v]=x.useState(null),w=De(t,Y=>v(Y)),[C,N]=x.useState(null),j=O2(C),S=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,M=r+(a!=="center"?"-"+a:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],T=k.length>0,D={padding:E,boundary:k.filter(hF),altBoundary:T},{refs:R,floatingStyles:$,placement:L,isPositioned:F,middlewareData:_}=Z$({strategy:"fixed",placement:M,whileElementsMounted:(...Y)=>U$(...Y,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[tF({mainAxis:o+P,alignmentAxis:i}),c&&nF({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?rF():void 0,...D}),c&&sF({...D}),oF({...D,apply:({elements:Y,rects:he,availableWidth:fe,availableHeight:Se})=>{const{width:Me,height:qe}=he.reference,Ue=Y.floating.style;Ue.setProperty("--radix-popper-available-width",`${fe}px`),Ue.setProperty("--radix-popper-available-height",`${Se}px`),Ue.setProperty("--radix-popper-anchor-width",`${Me}px`),Ue.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),C&&iF({element:C,padding:l}),pF({arrowWidth:S,arrowHeight:P}),m&&aF({strategy:"referenceHidden",...D})]}),[I,A]=K2(L),B=St(y);zt(()=>{F&&(B==null||B())},[F,B]);const U=(z=_.arrow)==null?void 0:z.x,O=(W=_.arrow)==null?void 0:W.y,q=((Q=_.arrow)==null?void 0:Q.centerOffset)!==0,[ne,se]=x.useState();return zt(()=>{p&&se(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:F?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ie=_.transformOrigin)==null?void 0:ie.x,(ae=_.transformOrigin)==null?void 0:ae.y].join(" "),...((oe=_.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(dF,{scope:n,placedSide:I,onArrowChange:N,arrowX:U,arrowY:O,shouldHideArrow:q,children:s.jsx(Pe.div,{"data-side":I,"data-align":A,...g,ref:w,style:{...g.style,animation:F?void 0:"none"}})})})});U2.displayName=$v;var H2="PopperArrow",mF={top:"bottom",right:"left",bottom:"top",left:"right"},W2=x.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=fF(H2,r),i=mF[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(cF,{...o,ref:n,style:{...o.style,display:"block"}})})});W2.displayName=H2;function hF(e){return e!==null}var pF=e=>({name:"transformOrigin",options:e,fn(t){var b,p,v;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=K2(n),d={start:"0%",center:"50%",end:"100%"}[f],m=(((p=o.arrow)==null?void 0:p.x)??0)+l/2,h=(((v=o.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?d:`${m}px`,g=`${-c}px`):u==="top"?(y=i?d:`${m}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?d:`${h}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=i?d:`${h}px`),{data:{x:y,y:g}}}});function K2(e){const[t,n="center"]=e.split("-");return[t,n]}var zm=z2,pu=B2,Vm=U2,Bm=W2,[Um]=Xt("Tooltip",[Ko]),Hm=Ko(),q2="TooltipProvider",gF=700,Mx="tooltip.open",[xF,Fv]=Um(q2),Y2=e=>{const{__scopeTooltip:t,delayDuration:n=gF,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,i=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(xF,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};Y2.displayName=q2;var $c="Tooltip",[yF,Wm]=Um($c),G2=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=Fv($c,e.__scopeTooltip),u=Hm(t),[f,d]=x.useState(null),m=Wn(),h=x.useRef(0),y=i??c.disableHoverableContent,g=l??c.delayDuration,b=x.useRef(!1),[p,v]=Ir({prop:r,defaultProp:o??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Mx))):c.onClose(),a==null||a(S)},caller:$c}),w=x.useMemo(()=>p?b.current?"delayed-open":"instant-open":"closed",[p]),C=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b.current=!1,v(!0)},[v]),N=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),j=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{b.current=!0,v(!0),h.current=0},g)},[g,v]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(zm,{...u,children:s.jsx(yF,{scope:t,contentId:m,open:p,stateAttribute:w,trigger:f,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?j():C()},[c.isOpenDelayedRef,j,C]),onTriggerLeave:x.useCallback(()=>{y?N():(window.clearTimeout(h.current),h.current=0)},[N,y]),onOpen:C,onClose:N,disableHoverableContent:y,children:n})})};G2.displayName=$c;var Rx="TooltipTrigger",X2=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Wm(Rx,n),a=Fv(Rx,n),i=Hm(n),l=x.useRef(null),c=De(t,l,o.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),d=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(pu,{asChild:!0,...i,children:s.jsx(Pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:c,onPointerMove:le(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:le(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:le(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:le(e.onBlur,o.onClose),onClick:le(e.onClick,o.onClose)})})});X2.displayName=Rx;var vF="TooltipPortal",[Ase,wF]=Um(vF,{forceMount:void 0}),qi="TooltipContent",Q2=x.forwardRef((e,t)=>{const n=wF(qi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,i=Wm(qi,e.__scopeTooltip);return s.jsx(Kt,{present:r||i.open,children:i.disableHoverableContent?s.jsx(J2,{side:o,...a,ref:t}):s.jsx(bF,{side:o,...a,ref:t})})}),bF=x.forwardRef((e,t)=>{const n=Wm(qi,e.__scopeTooltip),r=Fv(qi,e.__scopeTooltip),o=x.useRef(null),a=De(t,o),[i,l]=x.useState(null),{trigger:c,onClose:u}=n,f=o.current,{onPointerInTransitChange:d}=r,m=x.useCallback(()=>{l(null),d(!1)},[d]),h=x.useCallback((y,g)=>{const b=y.currentTarget,p={x:y.clientX,y:y.clientY},v=kF(p,b.getBoundingClientRect()),w=EF(p,v),C=PF(g.getBoundingClientRect()),N=RF([...w,...C]);l(N),d(!0)},[d]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&f){const y=b=>h(b,f),g=b=>h(b,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",g)}}},[c,f,h,m]),x.useEffect(()=>{if(i){const y=g=>{const b=g.target,p={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),w=!MF(p,i);v?m():w&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,i,u,m]),s.jsx(J2,{...e,ref:a})}),[jF,NF]=Um($c,{isInside:!1}),CF=Ak("TooltipContent"),J2=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Wm(qi,n),u=Hm(n),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(Mx,f),()=>document.removeEventListener(Mx,f)),[f]),x.useEffect(()=>{if(c.trigger){const d=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),s.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:s.jsxs(Vm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(CF,{children:r}),s.jsx(jF,{scope:n,isInside:!0,children:s.jsx(qL,{id:c.contentId,role:"tooltip",children:o||r})})]})})});Q2.displayName=qi;var Z2="TooltipArrow",SF=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Hm(n);return NF(Z2,n).isInside?null:s.jsx(Bm,{...o,...r,ref:t})});SF.displayName=Z2;function kF(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EF(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function PF(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function MF(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,f=l.y,d=c.x,m=c.y;f>r!=m>r&&n<(d-u)*(r-f)/(m-f)+u&&(o=!o)}return o}function RF(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TF(t)}function TF(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var AF=Y2,_F=G2,IF=X2,eE=Q2;const Vf=AF,ar=_F,ir=IF,Un=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(eE,{ref:r,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Un.displayName=eE.displayName;var Km=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qm=typeof window>"u"||"Deno"in globalThis;function vr(){}function DF(e,t){return typeof e=="function"?e(t):e}function LF(e){return typeof e=="number"&&e>=0&&e!==1/0}function OF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tx(e,t){return typeof e=="function"?e(t):e}function $F(e,t){return typeof e=="function"?e(t):e}function n1(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==zv(i,t.options))return!1}else if(!zc(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function r1(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Fc(t.options.mutationKey)!==Fc(a))return!1}else if(!zc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function zv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fc)(e)}function Fc(e){return JSON.stringify(e,(t,n)=>Ax(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function zc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zc(e[n],t[n])):!1}function tE(e,t){if(e===t)return e;const n=s1(e)&&s1(t);if(n||Ax(e)&&Ax(t)){const r=n?e:Object.keys(e),o=r.length,a=n?t:Object.keys(t),i=a.length,l=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<i;f++){const d=n?f:a[f];(!n&&c.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=tE(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return o===i&&u===o?e:l}return t}function s1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ax(e){if(!o1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!o1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function o1(e){return Object.prototype.toString.call(e)==="[object Object]"}function FF(e){return new Promise(t=>{setTimeout(t,e)})}function zF(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?tE(e,t):t}function VF(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function BF(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Vv=Symbol();function nE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ca,fo,Ti,cC,UF=(cC=class extends Km{constructor(){super();Ye(this,ca);Ye(this,fo);Ye(this,Ti);Le(this,Ti,t=>{if(!qm&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,fo)||this.setEventListener(re(this,Ti))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,fo))==null||t.call(this),Le(this,fo,void 0))}setEventListener(t){var n;Le(this,Ti,t),(n=re(this,fo))==null||n.call(this),Le(this,fo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){re(this,ca)!==t&&(Le(this,ca,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof re(this,ca)=="boolean"?re(this,ca):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ca=new WeakMap,fo=new WeakMap,Ti=new WeakMap,cC),rE=new UF,Ai,mo,_i,uC,HF=(uC=class extends Km{constructor(){super();Ye(this,Ai,!0);Ye(this,mo);Ye(this,_i);Le(this,_i,t=>{if(!qm&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){re(this,mo)||this.setEventListener(re(this,_i))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,mo))==null||t.call(this),Le(this,mo,void 0))}setEventListener(t){var n;Le(this,_i,t),(n=re(this,mo))==null||n.call(this),Le(this,mo,t(this.setOnline.bind(this)))}setOnline(t){re(this,Ai)!==t&&(Le(this,Ai,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return re(this,Ai)}},Ai=new WeakMap,mo=new WeakMap,_i=new WeakMap,uC),Bf=new HF;function WF(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function KF(e){return Math.min(1e3*2**e,3e4)}function sE(e){return(e??"online")==="online"?Bf.isOnline():!0}var oE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rp(e){return e instanceof oE}function aE(e){let t=!1,n=0,r=!1,o;const a=WF(),i=g=>{var b;r||(m(new oE(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>rE.isFocused()&&(e.networkMode==="always"||Bf.isOnline())&&e.canRun(),f=()=>sE(e.networkMode)&&e.canRun(),d=g=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,g),o==null||o(),a.resolve(g))},m=g=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,g),o==null||o(),a.reject(g))},h=()=>new Promise(g=>{var b;o=p=>{(r||u())&&g(p)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;o=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(d).catch(p=>{var j;if(r)return;const v=e.retry??(qm?0:3),w=e.retryDelay??KF,C=typeof w=="function"?w(n,p):w,N=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,p);if(t||!N){m(p);return}n++,(j=e.onFail)==null||j.call(e,n,p),FF(C).then(()=>u()?void 0:h()).then(()=>{t?m(p):y()})})};return{promise:a,cancel:i,continue:()=>(o==null||o(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?y():h().then(y),a)}}var qF=e=>setTimeout(e,0);function YF(){let e=[],t=0,n=l=>{l()},r=l=>{l()},o=qF;const a=l=>{t?e.push(l):o(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{o=l}}}var hn=YF(),ua,dC,iE=(dC=class{constructor(){Ye(this,ua)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LF(this.gcTime)&&Le(this,ua,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qm?1/0:5*60*1e3))}clearGcTimeout(){re(this,ua)&&(clearTimeout(re(this,ua)),Le(this,ua,void 0))}},ua=new WeakMap,dC),Ii,da,er,fa,tn,nu,ma,wr,Cs,fC,GF=(fC=class extends iE{constructor(t){super();Ye(this,wr);Ye(this,Ii);Ye(this,da);Ye(this,er);Ye(this,fa);Ye(this,tn);Ye(this,nu);Ye(this,ma);Le(this,ma,!1),Le(this,nu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,fa,t.client),Le(this,er,re(this,fa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,Ii,QF(this.options)),this.state=t.state??re(this,Ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,tn))==null?void 0:t.promise}setOptions(t){this.options={...re(this,nu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,er).remove(this)}setData(t,n){const r=zF(this.state.data,t,this.options);return Jt(this,wr,Cs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Jt(this,wr,Cs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=re(this,tn))==null?void 0:r.promise;return(o=re(this,tn))==null||o.cancel(t),n?n.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Ii))}isActive(){return this.observers.some(t=>$F(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Tx(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OF(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(re(this,tn)&&(re(this,ma)?re(this,tn).cancel({revert:!0}):re(this,tn).cancelRetry()),this.scheduleGc()),re(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,wr,Cs).call(this,{type:"invalidate"})}fetch(t,n){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,tn))return re(this,tn).continueRetry(),re(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Le(this,ma,!0),r.signal)})},a=()=>{const m=nE(this.options,n),y=(()=>{const g={client:re(this,fa),queryKey:this.queryKey,meta:this.meta};return o(g),g})();return Le(this,ma,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:re(this,fa),state:this.state,fetchFn:a};return o(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Le(this,da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Jt(this,wr,Cs).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=m=>{var h,y,g,b;Rp(m)&&m.silent||Jt(this,wr,Cs).call(this,{type:"error",error:m}),Rp(m)||((y=(h=re(this,er).config).onError)==null||y.call(h,m,this),(b=(g=re(this,er).config).onSettled)==null||b.call(g,this.state.data,m,this)),this.scheduleGc()};return Le(this,tn,aE({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,y,g,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(p){c(p);return}(y=(h=re(this,er).config).onSuccess)==null||y.call(h,m,this),(b=(g=re(this,er).config).onSettled)==null||b.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,h)=>{Jt(this,wr,Cs).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Jt(this,wr,Cs).call(this,{type:"pause"})},onContinue:()=>{Jt(this,wr,Cs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),re(this,tn).start()}},Ii=new WeakMap,da=new WeakMap,er=new WeakMap,fa=new WeakMap,tn=new WeakMap,nu=new WeakMap,ma=new WeakMap,wr=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XF(r.data,this.options),fetchMeta:t.meta??null};case"success":return Le(this,da,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Rp(o)&&o.revert&&re(this,da)?{...re(this,da),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),re(this,er).notify({query:this,type:"updated",action:t})})},fC);function XF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gr,mC,JF=(mC=class extends Km{constructor(t={}){super();Ye(this,Gr);this.config=t,Le(this,Gr,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??zv(o,n);let i=this.get(a);return i||(i=new GF({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){re(this,Gr).has(t.queryHash)||(re(this,Gr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=re(this,Gr).get(t.queryHash);n&&(t.destroy(),n===t&&re(this,Gr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Gr).get(t)}getAll(){return[...re(this,Gr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>n1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>n1(t,r)):n}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gr=new WeakMap,mC),Xr,un,ha,Qr,to,hC,ZF=(hC=class extends iE{constructor(t){super();Ye(this,Qr);Ye(this,Xr);Ye(this,un);Ye(this,ha);this.mutationId=t.mutationId,Le(this,un,t.mutationCache),Le(this,Xr,[]),this.state=t.state||ez(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,Xr).includes(t)||(re(this,Xr).push(t),this.clearGcTimeout(),re(this,un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,Xr,re(this,Xr).filter(n=>n!==t)),this.scheduleGc(),re(this,un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():re(this,un).remove(this))}continue(){var t;return((t=re(this,ha))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,u,f,d,m,h,y,g,b,p,v,w,C,N,j,S,P;const n=()=>{Jt(this,Qr,to).call(this,{type:"continue"})};Le(this,ha,aE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,E)=>{Jt(this,Qr,to).call(this,{type:"failed",failureCount:M,error:E})},onPause:()=>{Jt(this,Qr,to).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,un).canRun(this)}));const r=this.state.status==="pending",o=!re(this,ha).canStart();try{if(r)n();else{Jt(this,Qr,to).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=re(this,un).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Jt(this,Qr,to).call(this,{type:"pending",context:E,variables:t,isPaused:o})}const M=await re(this,ha).start();return await((f=(u=re(this,un).config).onSuccess)==null?void 0:f.call(u,M,t,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,M,t,this.state.context)),await((y=(h=re(this,un).config).onSettled)==null?void 0:y.call(h,M,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,M,null,t,this.state.context)),Jt(this,Qr,to).call(this,{type:"success",data:M}),M}catch(M){try{throw await((v=(p=re(this,un).config).onError)==null?void 0:v.call(p,M,t,this.state.context,this)),await((C=(w=this.options).onError)==null?void 0:C.call(w,M,t,this.state.context)),await((j=(N=re(this,un).config).onSettled)==null?void 0:j.call(N,void 0,M,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,M,t,this.state.context)),M}finally{Jt(this,Qr,to).call(this,{type:"error",error:M})}}finally{re(this,un).runNext(this)}}},Xr=new WeakMap,un=new WeakMap,ha=new WeakMap,Qr=new WeakSet,to=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),hn.batch(()=>{re(this,Xr).forEach(r=>{r.onMutationUpdate(t)}),re(this,un).notify({mutation:this,type:"updated",action:t})})},hC);function ez(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Es,br,ru,pC,tz=(pC=class extends Km{constructor(t={}){super();Ye(this,Es);Ye(this,br);Ye(this,ru);this.config=t,Le(this,Es,new Set),Le(this,br,new Map),Le(this,ru,0)}build(t,n,r){const o=new ZF({mutationCache:this,mutationId:++Uu(this,ru)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){re(this,Es).add(t);const n=dd(t);if(typeof n=="string"){const r=re(this,br).get(n);r?r.push(t):re(this,br).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(re(this,Es).delete(t)){const n=dd(t);if(typeof n=="string"){const r=re(this,br).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&re(this,br).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=dd(t);if(typeof n=="string"){const r=re(this,br).get(n),o=r==null?void 0:r.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=dd(t);if(typeof n=="string"){const o=(r=re(this,br).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{re(this,Es).forEach(t=>{this.notify({type:"removed",mutation:t})}),re(this,Es).clear(),re(this,br).clear()})}getAll(){return Array.from(re(this,Es))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>r1(n,r))}findAll(t={}){return this.getAll().filter(n=>r1(t,n))}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(t.map(n=>n.continue().catch(vr))))}},Es=new WeakMap,br=new WeakMap,ru=new WeakMap,pC);function dd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function a1(e){return{onFetch:(t,n)=>{var f,d,m,h,y;const r=t.options,o=(m=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=nE(t.options,t.fetchOptions),v=async(w,C,N)=>{if(g)return Promise.reject();if(C==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:C,direction:N?"backward":"forward",meta:t.options.meta};return b(k),k})(),P=await p(S),{maxPages:M}=t.options,E=N?BF:VF;return{pages:E(w.pages,P,M),pageParams:E(w.pageParams,C,M)}};if(o&&a.length){const w=o==="backward",C=w?nz:i1,N={pages:a,pageParams:i},j=C(r,N);l=await v(N,j,w)}else{const w=e??a.length;do{const C=c===0?i[0]??r.initialPageParam:i1(r,l);if(c>0&&C==null)break;l=await v(l,C),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function i1(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nz(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var bt,ho,po,Di,Li,go,Oi,$i,gC,rz=(gC=class{constructor(e={}){Ye(this,bt);Ye(this,ho);Ye(this,po);Ye(this,Di);Ye(this,Li);Ye(this,go);Ye(this,Oi);Ye(this,$i);Le(this,bt,e.queryCache||new JF),Le(this,ho,e.mutationCache||new tz),Le(this,po,e.defaultOptions||{}),Le(this,Di,new Map),Le(this,Li,new Map),Le(this,go,0)}mount(){Uu(this,go)._++,re(this,go)===1&&(Le(this,Oi,rE.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,bt).onFocus())})),Le(this,$i,Bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,bt).onOnline())})))}unmount(){var e,t;Uu(this,go)._--,re(this,go)===0&&((e=re(this,Oi))==null||e.call(this),Le(this,Oi,void 0),(t=re(this,$i))==null||t.call(this),Le(this,$i,void 0))}isFetching(e){return re(this,bt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,ho).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,bt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=re(this,bt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Tx(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return re(this,bt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=re(this,bt).get(r.queryHash),a=o==null?void 0:o.state.data,i=DF(t,a);if(i!==void 0)return re(this,bt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return hn.batch(()=>re(this,bt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,bt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=re(this,bt);hn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=re(this,bt);return hn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=hn.batch(()=>re(this,bt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(e,t={}){return hn.batch(()=>(re(this,bt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=hn.batch(()=>re(this,bt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(vr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=re(this,bt).build(this,t);return n.isStaleByTime(Tx(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vr).catch(vr)}fetchInfiniteQuery(e){return e.behavior=a1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vr).catch(vr)}ensureInfiniteQueryData(e){return e.behavior=a1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bf.isOnline()?re(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,bt)}getMutationCache(){return re(this,ho)}getDefaultOptions(){return re(this,po)}setDefaultOptions(e){Le(this,po,e)}setQueryDefaults(e,t){re(this,Di).set(Fc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Di).values()],n={};return t.forEach(r=>{zc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){re(this,Li).set(Fc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,Li).values()],n={};return t.forEach(r=>{zc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,bt).clear(),re(this,ho).clear()}},bt=new WeakMap,ho=new WeakMap,po=new WeakMap,Di=new WeakMap,Li=new WeakMap,go=new WeakMap,Oi=new WeakMap,$i=new WeakMap,gC),sz=x.createContext(void 0),oz=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(sz.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(this,arguments)}var vo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vo||(vo={}));const l1="popstate";function az(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:i,hash:l}=r.location;return _x("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:cE(o)}return lz(t,n,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iz(){return Math.random().toString(36).substr(2,8)}function c1(e,t){return{usr:e.state,key:e.key,idx:t}}function _x(e,t,n,r){return n===void 0&&(n=null),Vc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hl(t):t,{state:n,key:t&&t.key||r||iz()})}function cE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lz(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,l=vo.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Vc({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){l=vo.Pop;let b=f(),p=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:p})}function m(b,p){l=vo.Push;let v=_x(g.location,b,p);u=f()+1;let w=c1(v,u),C=g.createHref(v);try{i.pushState(w,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(C)}a&&c&&c({action:l,location:g.location,delta:1})}function h(b,p){l=vo.Replace;let v=_x(g.location,b,p);u=f();let w=c1(v,u),C=g.createHref(v);i.replaceState(w,"",C),a&&c&&c({action:l,location:g.location,delta:0})}function y(b){let p=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof b=="string"?b:cE(b);return v=v.replace(/ $/,"%20"),Ft(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let g={get action(){return l},get location(){return e(o,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(l1,d),c=b,()=>{o.removeEventListener(l1,d),c=null}},createHref(b){return t(o,b)},createURL:y,encodeLocation(b){let p=y(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:h,go(b){return i.go(b)}};return g}var u1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u1||(u1={}));function cz(e,t,n){return n===void 0&&(n="/"),uz(e,t,n)}function uz(e,t,n,r){let o=typeof t=="string"?hl(t):t,a=fE(o.pathname||"/",n);if(a==null)return null;let i=uE(e);dz(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Nz(a);l=wz(i[c],u)}return l}function uE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xa([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(Ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uE(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:yz(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of dE(a.path))o(a,i,c)}),t}function dE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let i=dE(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fz=/^:[\w-]+$/,mz=3,hz=2,pz=1,gz=10,xz=-2,d1=e=>e==="*";function yz(e,t){let n=e.split("/"),r=n.length;return n.some(d1)&&(r+=xz),t&&(r+=hz),n.filter(o=>!d1(o)).reduce((o,a)=>o+(fz.test(a)?mz:a===""?pz:gz),r)}function vz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function wz(e,t,n){let{routesMeta:r}=e,o={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=bz({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:xa([a,d.pathname]),pathnameBase:Mz(xa([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=xa([a,d.pathnameBase]))}return i}function bz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jz(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:m,isOptional:h}=f;if(m==="*"){let g=l[d]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[d];return h&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function jz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Nz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Cz(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?hl(e):e;return{pathname:n?n.startsWith("/")?n:Sz(n,t):t,search:Rz(r),hash:Tz(o)}}function Sz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ez(e,t){let n=kz(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pz(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=hl(e):(o=Vc({},e),Ft(!o.pathname||!o.pathname.includes("?"),Tp("?","pathname","search",o)),Ft(!o.pathname||!o.pathname.includes("#"),Tp("#","pathname","hash",o)),Ft(!o.search||!o.search.includes("#"),Tp("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;o.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=Cz(o,l),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const xa=e=>e.join("/").replace(/\/\/+/g,"/"),Mz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Az(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mE=["post","put","patch","delete"];new Set(mE);const _z=["get",...mE];new Set(_z);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}const Bv=x.createContext(null),Iz=x.createContext(null),Ym=x.createContext(null),Gm=x.createContext(null),qo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),hE=x.createContext(null);function Xm(){return x.useContext(Gm)!=null}function pl(){return Xm()||Ft(!1),x.useContext(Gm).location}function pE(e){x.useContext(Ym).static||x.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=x.useContext(qo);return e?Gz():Dz()}function Dz(){Xm()||Ft(!1);let e=x.useContext(Bv),{basename:t,future:n,navigator:r}=x.useContext(Ym),{matches:o}=x.useContext(qo),{pathname:a}=pl(),i=JSON.stringify(Ez(o,n.v7_relativeSplatPath)),l=x.useRef(!1);return pE(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Pz(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xa([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,a,e])}const Lz=x.createContext(null);function Oz(e){let t=x.useContext(qo).outlet;return t&&x.createElement(Lz.Provider,{value:e},t)}function Qm(){let{matches:e}=x.useContext(qo),t=e[e.length-1];return t?t.params:{}}function $z(e,t){return Fz(e,t)}function Fz(e,t,n,r){Xm()||Ft(!1);let{navigator:o}=x.useContext(Ym),{matches:a}=x.useContext(qo),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=pl(),f;if(t){var d;let b=typeof t=="string"?hl(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||Ft(!1),f=b}else f=u;let m=f.pathname||"/",h=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=cz(e,{pathname:h}),g=Hz(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:xa([c,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:xa([c,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&g?x.createElement(Gm.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vo.Pop}},g):g}function zz(){let e=Yz(),t=Az(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const Vz=x.createElement(zz,null);class Bz extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(qo.Provider,{value:this.props.routeContext},x.createElement(hE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uz(e){let{routeContext:t,match:n,children:r}=e,o=x.useContext(Bv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(qo.Provider,{value:t},r)}function Hz(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Ft(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:h}=n,y=d.route.loader&&m[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,m)=>{let h,y=!1,g=null,b=null;n&&(h=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Vz,c&&(u<0&&m===0?(Xz("route-fallback"),y=!0,b=null):u===m&&(y=!0,b=d.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,m+1)),v=()=>{let w;return h?w=g:y?w=b:d.route.Component?w=x.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,x.createElement(Uz,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?x.createElement(Bz,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var gE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gE||{}),xE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xE||{});function Wz(e){let t=x.useContext(Bv);return t||Ft(!1),t}function Kz(e){let t=x.useContext(Iz);return t||Ft(!1),t}function qz(e){let t=x.useContext(qo);return t||Ft(!1),t}function yE(e){let t=qz(),n=t.matches[t.matches.length-1];return n.route.id||Ft(!1),n.route.id}function Yz(){var e;let t=x.useContext(hE),n=Kz(),r=yE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Gz(){let{router:e}=Wz(gE.UseNavigateStable),t=yE(xE.UseNavigateStable),n=x.useRef(!1);return pE(()=>{n.current=!0}),x.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Bc({fromRouteId:t},a)))},[e,t])}const f1={};function Xz(e,t,n){f1[e]||(f1[e]=!0)}function Qz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jz(e){return Oz(e.context)}function no(e){Ft(!1)}function Zz(e){let{basename:t="/",children:n=null,location:r,navigationType:o=vo.Pop,navigator:a,static:i=!1,future:l}=e;Xm()&&Ft(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:i,future:Bc({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof r=="string"&&(r=hl(r));let{pathname:f="/",search:d="",hash:m="",state:h=null,key:y="default"}=r,g=x.useMemo(()=>{let b=fE(f,c);return b==null?null:{location:{pathname:b,search:d,hash:m,state:h,key:y},navigationType:o}},[c,f,d,m,h,y,o]);return g==null?null:x.createElement(Ym.Provider,{value:u},x.createElement(Gm.Provider,{children:n,value:g}))}function e6(e){let{children:t,location:n}=e;return $z(Ix(t),n)}new Promise(()=>{});function Ix(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,o)=>{if(!x.isValidElement(r))return;let a=[...t,o];if(r.type===x.Fragment){n.push.apply(n,Ix(r.props.children,a));return}r.type!==no&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ix(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function t6(e,t){let n=Dx(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(a=>{n.append(o,a)})}),n}const n6="6";try{window.__reactRouterVersion=n6}catch{}const r6="startTransition",m1=Sy[r6];function s6(e){let{basename:t,children:n,future:r,window:o}=e,a=x.useRef();a.current==null&&(a.current=az({window:o,v5Compat:!0}));let i=a.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=x.useCallback(d=>{u&&m1?m1(()=>c(d)):c(d)},[c,u]);return x.useLayoutEffect(()=>i.listen(f),[i,f]),x.useEffect(()=>Qz(r),[r]),x.createElement(Zz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var h1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h1||(h1={}));var p1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p1||(p1={}));function Jm(e){let t=x.useRef(Dx(e)),n=x.useRef(!1),r=pl(),o=x.useMemo(()=>t6(r.search,n.current?null:t.current),[r.search]),a=Vt(),i=x.useCallback((l,c)=>{const u=Dx(typeof l=="function"?l(o):l);n.current=!0,a("?"+u,c)},[a,o]);return[o,i]}class o6{constructor(){ws(this,"config",{baseUrl:"",namespace:"default"});ws(this,"agenticApiGroup","kaos.tools");ws(this,"agenticApiVersion","v1alpha1")}setConfig(t){this.config={...this.config,...t}}getConfig(){return{...this.config}}isConfigured(){return!!this.config.baseUrl}async request(t,n={}){if(!this.config.baseUrl)throw new Error("Kubernetes API not configured. Please set the base URL.");const r=`${this.config.baseUrl}${t}`,o={};n.body&&(o["Content-Type"]="application/json"),o["X-Requested-With"]="XMLHttpRequest",o["bypass-tunnel-reminder"]="1";const a=await fetch(r,{...n,headers:{...o,...n.headers}});if(!a.ok){const c=await a.text();throw new Error(`K8s API error ${a.status}: ${c}`)}const i=await a.arrayBuffer(),l=new TextDecoder("utf-8",{fatal:!1}).decode(i);return JSON.parse(l)}async simpleRequest(t){if(!this.config.baseUrl)throw new Error("Kubernetes API not configured. Please set the base URL.");const n=`${this.config.baseUrl}${t}`,r=await fetch(n);if(!r.ok){const o=await r.text();throw new Error(`K8s API error ${r.status}: ${o}`)}return r.json()}async testConnection(){try{return{success:!0,version:(await this.simpleRequest("/version")).gitVersion,method:"simple"}}catch(t){console.log("Simple request failed, trying with headers:",t)}try{return{success:!0,version:(await this.request("/version")).gitVersion,method:"with-headers"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}getCrdPath(t,n,r){const o=n||this.config.namespace,a=`/apis/${this.agenticApiGroup}/${this.agenticApiVersion}/namespaces/${o}/${t}`;return r?`${a}/${r}`:a}async listModelAPIs(t){const n=t||this.config.namespace,r=this.getCrdPath("modelapis",n);console.log(`[k8sClient] Fetching ModelAPIs from: ${r}`);try{const o=await this.request(r);return console.log(`[k8sClient] Found ${o.items.length} ModelAPIs`),o.items}catch(o){return console.warn("[k8sClient] ModelAPI CRD not found:",o),[]}}async getModelAPI(t,n){return this.request(this.getCrdPath("modelapis",n,t))}async createModelAPI(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("modelapis",n),{method:"POST",body:JSON.stringify(t)})}async updateModelAPI(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("modelapis",n,t.metadata.name),{method:"PUT",body:JSON.stringify(t)})}async deleteModelAPI(t,n){return this.request(this.getCrdPath("modelapis",n,t),{method:"DELETE"})}async listMCPServers(t){const n=t||this.config.namespace,r=this.getCrdPath("mcpservers",n);console.log(`[k8sClient] Fetching MCPServers from: ${r}`);try{const o=await this.request(r);return console.log(`[k8sClient] Found ${o.items.length} MCPServers`),o.items}catch(o){return console.warn("[k8sClient] MCPServer CRD not found:",o),[]}}async getMCPServer(t,n){return this.request(this.getCrdPath("mcpservers",n,t))}async createMCPServer(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("mcpservers",n),{method:"POST",body:JSON.stringify(t)})}async updateMCPServer(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("mcpservers",n,t.metadata.name),{method:"PUT",body:JSON.stringify(t)})}async deleteMCPServer(t,n){return this.request(this.getCrdPath("mcpservers",n,t),{method:"DELETE"})}async listAgents(t){const n=t||this.config.namespace,r=this.getCrdPath("agents",n);console.log(`[k8sClient] Fetching Agents from: ${r}`);try{const o=await this.request(r);return console.log(`[k8sClient] Found ${o.items.length} Agents`),o.items}catch(o){return console.warn("[k8sClient] Agent CRD not found:",o),[]}}async getAgent(t,n){return this.request(this.getCrdPath("agents",n,t))}async createAgent(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("agents",n),{method:"POST",body:JSON.stringify(t)})}async updateAgent(t){const n=t.metadata.namespace||this.config.namespace;return this.request(this.getCrdPath("agents",n,t.metadata.name),{method:"PUT",body:JSON.stringify(t)})}async deleteAgent(t,n){return this.request(this.getCrdPath("agents",n,t),{method:"DELETE"})}async listPods(t){const n=t||this.config.namespace;return(await this.request(`/api/v1/namespaces/${n}/pods`)).items}async listAllPods(){return(await this.request("/api/v1/pods")).items}async getPod(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/pods/${t}`)}async deletePod(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/pods/${t}`,{method:"DELETE"})}async getPodLogs(t,n,r){const o=n||this.config.namespace,a=new URLSearchParams;r!=null&&r.container&&a.set("container",r.container),r!=null&&r.tailLines&&a.set("tailLines",String(r.tailLines));const i=a.toString(),l=`/api/v1/namespaces/${o}/pods/${t}/log${i?"?"+i:""}`,c=await fetch(`${this.config.baseUrl}${l}`,{headers:{"X-Requested-With":"XMLHttpRequest","bypass-tunnel-reminder":"true"}});if(!c.ok)throw new Error(`Failed to get logs: ${c.status}`);return c.text()}async listDeployments(t){const n=t||this.config.namespace;return(await this.request(`/apis/apps/v1/namespaces/${n}/deployments`)).items}async listAllDeployments(){return(await this.request("/apis/apps/v1/deployments")).items}async getDeployment(t,n){const r=n||this.config.namespace;return this.request(`/apis/apps/v1/namespaces/${r}/deployments/${t}`)}async createDeployment(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/apis/apps/v1/namespaces/${n}/deployments`,{method:"POST",body:JSON.stringify(t)})}async updateDeployment(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/apis/apps/v1/namespaces/${n}/deployments/${t.metadata.name}`,{method:"PUT",body:JSON.stringify(t)})}async deleteDeployment(t,n){const r=n||this.config.namespace;return this.request(`/apis/apps/v1/namespaces/${r}/deployments/${t}`,{method:"DELETE"})}async scaleDeployment(t,n,r){const o=r||this.config.namespace,a=await this.getDeployment(t,o);return a.spec.replicas=n,this.updateDeployment(a)}async listServices(t){const n=t||this.config.namespace;return(await this.request(`/api/v1/namespaces/${n}/services`)).items}async listAllServices(){return(await this.request("/api/v1/services")).items}async getService(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/services/${t}`)}async createService(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/api/v1/namespaces/${n}/services`,{method:"POST",body:JSON.stringify(t)})}async updateService(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/api/v1/namespaces/${n}/services/${t.metadata.name}`,{method:"PUT",body:JSON.stringify(t)})}async deleteService(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/services/${t}`,{method:"DELETE"})}async listPVCs(t){const n=t||this.config.namespace;return(await this.request(`/api/v1/namespaces/${n}/persistentvolumeclaims`)).items}async getPVC(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/persistentvolumeclaims/${t}`)}async createPVC(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/api/v1/namespaces/${n}/persistentvolumeclaims`,{method:"POST",body:JSON.stringify(t)})}async deletePVC(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/persistentvolumeclaims/${t}`,{method:"DELETE"})}async listConfigMaps(t){const n=t||this.config.namespace;return(await this.request(`/api/v1/namespaces/${n}/configmaps`)).items}async listSecrets(t){const n=t||this.config.namespace;return(await this.request(`/api/v1/namespaces/${n}/secrets`)).items.map(o=>({apiVersion:o.apiVersion,kind:o.kind,metadata:o.metadata,type:o.type,dataKeys:o.data?Object.keys(o.data):[]}))}async createSecret(t){const n=t.metadata.namespace||this.config.namespace;return this.request(`/api/v1/namespaces/${n}/secrets`,{method:"POST",body:JSON.stringify(t)})}async deleteSecret(t,n){const r=n||this.config.namespace;return this.request(`/api/v1/namespaces/${r}/secrets/${t}`,{method:"DELETE"})}async listNamespaces(){return(await this.request("/api/v1/namespaces")).items}parseK8sEndpoint(t){try{const n=new URL(t),r=n.hostname,o=parseInt(n.port)||8e3,a=r.split(".");return a.length>=2?{serviceName:a[0],namespace:a[1],port:o}:null}catch{return null}}async listMCPToolsFromEndpoint(t){const n=this.parseK8sEndpoint(t);if(!n)throw new Error(`Invalid MCP endpoint format: ${t}`);return console.log(`[k8sClient] Fetching MCP tools via proxy for service: ${n.serviceName} in ${n.namespace}`),this.listMCPTools(n.serviceName,n.namespace,n.port)}async callMCPToolFromEndpoint(t,n,r){const o=this.parseK8sEndpoint(t);if(!o)throw new Error(`Invalid MCP endpoint format: ${t}`);return console.log(`[k8sClient] Calling MCP tool via proxy for service: ${o.serviceName} in ${o.namespace}`),this.callMCPTool(o.serviceName,n,r,o.namespace,o.port)}async parseSSEResponse(t){const n=await t.text();console.log("[k8sClient] Raw SSE response:",n);const r=n.split(`
`);let o=null;for(const a of r){const i=a.trim();if(i.startsWith("data:")){const l=i.slice(5).trim();if(l&&l!=="[DONE]")try{o=JSON.parse(l)}catch{}}}if(o===null)try{o=JSON.parse(n.trim())}catch{}return o}async parseMCPResponse(t){const n=t.headers.get("Content-Type")||"";return console.log("[k8sClient] Response Content-Type:",n),n.includes("text/event-stream")?this.parseSSEResponse(t):t.json()}async initializeMCPSession(t,n,r=8e3){const o={jsonrpc:"2.0",id:Date.now(),method:"initialize",params:{protocolVersion:"2024-11-05",clientInfo:{name:"kaos-ui",version:"1.0.0"},capabilities:{}}};console.log(`[k8sClient] Initializing MCP session for ${t}:`,o);const a=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(o)},n,r);if(!a.ok){const u=await a.text();throw new Error(`MCP session initialization error ${a.status}: ${u}`)}let i=a.headers.get("Mcp-Session-Id")||a.headers.get("mcp-session-id");i||a.headers.forEach((u,f)=>{const d=f.toLowerCase();(d==="mcp-session-id"||d==="x-mcp-session-id"||d==="session-id")&&(i=u)});const l={};a.headers.forEach((u,f)=>{l[f]=u}),console.log("[k8sClient] MCP initialize response headers:",l);const c=await this.parseMCPResponse(a);return console.log("[k8sClient] MCP initialize response body:",c),i?console.log("[k8sClient] MCP session initialized with ID:",i):console.warn("[k8sClient] MCP server did not return session ID  K8s proxy may strip Mcp-Session-Id header"),await this.sendMCPInitializedNotification(t,n,r,i),i}async sendMCPInitializedNotification(t,n,r=8e3,o=null){const a={jsonrpc:"2.0",method:"notifications/initialized"};console.log(`[k8sClient] Sending initialized notification to ${t}`);const i={};o&&(i["Mcp-Session-Id"]=o);const l=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(a),headers:i},n,r);!l.ok&&l.status!==202&&console.warn(`[k8sClient] Initialized notification returned status ${l.status}`);try{await l.text()}catch{}console.log("[k8sClient] Initialized notification sent successfully")}async listMCPTools(t,n,r=8e3){var f;console.log(`[k8sClient] Trying stateless tools/list for ${t}`);const o={jsonrpc:"2.0",id:Date.now(),method:"tools/list",params:{}};try{const d=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(o)},n,r);if(d.ok){const m=await this.parseMCPResponse(d);if(console.log("[k8sClient] Stateless tools/list response:",m),(f=m==null?void 0:m.result)!=null&&f.tools)return console.log(`[k8sClient] Stateless mode successful, found ${m.result.tools.length} tools`),{tools:m.result.tools};if(m!=null&&m.error){const h=m.error.message||"";if(h.includes("session")||h.includes("Session")||m.error.code===-32600)console.log("[k8sClient] Server requires session, falling back to session-based mode");else throw new Error(`MCP JSON-RPC error: ${h}`)}}}catch(d){console.log("[k8sClient] Stateless mode failed, trying session-based:",d)}console.log(`[k8sClient] Initializing MCP session for tools/list to ${t}`);const a=await this.initializeMCPSession(t,n,r);a||console.warn("[k8sClient] No session ID available  K8s proxy may strip Mcp-Session-Id header. Trying without session."),console.log(`[k8sClient] Sending session-based JSON-RPC tools/list to ${t}`);const i={};a&&(i["Mcp-Session-Id"]=a);const l=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(o),headers:i},n,r);if(!l.ok){const d=await l.text();throw new Error(`MCP tools list error ${l.status}: ${d}`)}const c=await this.parseMCPResponse(l);if(console.log("[k8sClient] JSON-RPC tools/list response:",c),!c)throw new Error("MCP server returned empty response for tools/list");if(c.error)throw new Error(`MCP JSON-RPC error: ${c.error.message||JSON.stringify(c.error)}`);return{tools:(c.result||c).tools||[]}}async callMCPTool(t,n,r,o,a=8e3){console.log(`[k8sClient] Trying stateless tools/call for ${t}`);const i={jsonrpc:"2.0",id:Date.now(),method:"tools/call",params:{name:n,arguments:r}};try{const d=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(i)},o,a);if(d.ok){const m=await this.parseMCPResponse(d);if(console.log("[k8sClient] Stateless tools/call response:",m),m!=null&&m.error){const h=m.error.message||"";if(h.includes("session")||h.includes("Session")||m.error.code===-32600)console.log("[k8sClient] Server requires session, falling back to session-based mode");else throw new Error(`MCP JSON-RPC error: ${h}`)}else if((m==null?void 0:m.result)!==void 0)return console.log("[k8sClient] Stateless mode successful"),m.result}}catch(d){console.log("[k8sClient] Stateless mode failed, trying session-based:",d)}console.log(`[k8sClient] Initializing MCP session for tools/call to ${t}`);const l=await this.initializeMCPSession(t,o,a);l||console.warn("[k8sClient] No session ID available  K8s proxy may strip Mcp-Session-Id header. Trying without session."),console.log(`[k8sClient] Sending session-based JSON-RPC tools/call to ${t}`);const c={};l&&(c["Mcp-Session-Id"]=l);const u=await this.proxyServiceRequest(t,"/mcp",{method:"POST",body:JSON.stringify(i),headers:c},o,a);if(!u.ok){const d=await u.text();throw new Error(`MCP tool call error ${u.status}: ${d}`)}const f=await this.parseMCPResponse(u);if(console.log("[k8sClient] JSON-RPC tools/call response:",f),!f)throw new Error("MCP server returned empty response for tools/call");if(f.error)throw new Error(`MCP JSON-RPC error: ${f.error.message||JSON.stringify(f.error)}`);return f.result||f}async getMCPHealth(t,n,r=8e3){const o=await this.proxyServiceRequest(t,"/health",{method:"GET"},n,r);if(!o.ok)throw new Error(`MCP health check failed: ${o.status}`);return o.json()}async getMCPReady(t,n,r=8e3){const o=await this.proxyServiceRequest(t,"/ready",{method:"GET"},n,r);if(!o.ok)throw new Error(`MCP ready check failed: ${o.status}`);return o.json()}async createNamespace(t){return this.request("/api/v1/namespaces",{method:"POST",body:JSON.stringify({apiVersion:"v1",kind:"Namespace",metadata:{name:t}})})}async proxyServiceRequest(t,n,r={},o,a=8e3){if(!this.config.baseUrl)throw new Error("Kubernetes API not configured. Please set the base URL.");const i=o||this.config.namespace,l=n.startsWith("/")?n:`/${n}`,c=`${this.config.baseUrl}/api/v1/namespaces/${i}/services/${t}:${a}/proxy${l}`;return console.log(`[k8sClient] Proxying request to: ${c}`),fetch(c,{...r,headers:{"Content-Type":"application/json",Accept:"application/json, text/event-stream","X-Requested-With":"XMLHttpRequest","bypass-tunnel-reminder":"1",...r.headers}})}}const ke=new o6,a6={},g1=e=>{let t;const n=new Set,r=(f,d)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const h=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(a6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},vE=e=>e?g1(e):g1;var wE={exports:{}},bE={},jE={exports:{}},NE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=x;function i6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l6=typeof Object.is=="function"?Object.is:i6,c6=Yi.useState,u6=Yi.useEffect,d6=Yi.useLayoutEffect,f6=Yi.useDebugValue;function m6(e,t){var n=t(),r=c6({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return d6(function(){o.value=n,o.getSnapshot=t,Ap(o)&&a({inst:o})},[e,n,t]),u6(function(){return Ap(o)&&a({inst:o}),e(function(){Ap(o)&&a({inst:o})})},[e]),f6(n),n}function Ap(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!l6(e,n)}catch{return!0}}function h6(e,t){return t()}var p6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h6:m6;NE.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:p6;jE.exports=NE;var g6=jE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=x,x6=g6;function y6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v6=typeof Object.is=="function"?Object.is:y6,w6=x6.useSyncExternalStore,b6=Zm.useRef,j6=Zm.useEffect,N6=Zm.useMemo,C6=Zm.useDebugValue;bE.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=b6(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=N6(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),o!==void 0&&i.hasValue){var y=i.value;if(o(y,h))return d=y}return d=h}if(y=d,v6(f,h))return y;var g=r(h);return o!==void 0&&o(y,g)?(f=h,y):(f=h,d=g)}var u=!1,f,d,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,o]);var l=w6(e,a[0],a[1]);return j6(function(){i.hasValue=!0,i.value=l},[l]),C6(l),l};wE.exports=bE;var S6=wE.exports;const CE=su(S6),SE={},{useDebugValue:k6}=te,{useSyncExternalStoreWithSelector:E6}=CE;let x1=!1;const P6=e=>e;function M6(e,t=P6,n){(SE?"production":void 0)!=="production"&&n&&!x1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),x1=!0);const r=E6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return k6(r),r}const y1=e=>{(SE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vE(e):e,n=(r,o)=>M6(t,r,o);return Object.assign(n,t),n},R6=e=>e?y1(e):y1,ot=R6(e=>({modelAPIs:[],mcpServers:[],agents:[],pods:[],deployments:[],pvcs:[],services:[],secrets:[],logs:[],selectedResource:null,selectedResourceMode:null,activeTab:"overview",autoRefreshEnabled:JSON.parse(localStorage.getItem("autoRefreshEnabled")||"true"),autoRefreshInterval:JSON.parse(localStorage.getItem("autoRefreshInterval")||"30000"),isRefreshing:!1,nextRefreshTime:null,setModelAPIs:(t,n=!1)=>e(r=>!n&&t.length===0&&r.modelAPIs.length>0?r:{modelAPIs:t}),addModelAPI:t=>e(n=>({modelAPIs:[...n.modelAPIs,t]})),updateModelAPI:(t,n)=>e(r=>({modelAPIs:r.modelAPIs.map(o=>o.metadata.name===t?{...o,...n}:o)})),deleteModelAPI:t=>e(n=>({modelAPIs:n.modelAPIs.filter(r=>r.metadata.name!==t)})),setMCPServers:(t,n=!1)=>e(r=>!n&&t.length===0&&r.mcpServers.length>0?r:{mcpServers:t}),addMCPServer:t=>e(n=>({mcpServers:[...n.mcpServers,t]})),updateMCPServer:(t,n)=>e(r=>({mcpServers:r.mcpServers.map(o=>o.metadata.name===t?{...o,...n}:o)})),deleteMCPServer:t=>e(n=>({mcpServers:n.mcpServers.filter(r=>r.metadata.name!==t)})),setAgents:(t,n=!1)=>e(r=>!n&&t.length===0&&r.agents.length>0?r:{agents:t}),addAgent:t=>e(n=>({agents:[...n.agents,t]})),updateAgent:(t,n)=>e(r=>({agents:r.agents.map(o=>o.metadata.name===t?{...o,...n}:o)})),deleteAgent:t=>e(n=>({agents:n.agents.filter(r=>r.metadata.name!==t)})),clearAllResources:()=>e({modelAPIs:[],mcpServers:[],agents:[],pods:[],deployments:[],pvcs:[],services:[],secrets:[]}),setPods:t=>e({pods:t}),deletePod:t=>e(n=>({pods:n.pods.filter(r=>r.metadata.name!==t)})),setDeployments:t=>e({deployments:t}),updateDeployment:(t,n)=>e(r=>({deployments:r.deployments.map(o=>o.metadata.name===t?{...o,...n}:o)})),deleteDeployment:t=>e(n=>({deployments:n.deployments.filter(r=>r.metadata.name!==t)})),setPVCs:t=>e({pvcs:t}),deletePVC:t=>e(n=>({pvcs:n.pvcs.filter(r=>r.metadata.name!==t)})),setServices:t=>e({services:t}),addService:t=>e(n=>({services:[...n.services,t]})),deleteService:t=>e(n=>({services:n.services.filter(r=>r.metadata.name!==t)})),setSecrets:t=>e({secrets:t}),addSecret:t=>e(n=>({secrets:[...n.secrets,t]})),deleteSecret:t=>e(n=>({secrets:n.secrets.filter(r=>r.metadata.name!==t)})),addLog:t=>e(n=>({logs:[t,...n.logs].slice(0,1e3)})),clearLogs:()=>e({logs:[]}),setSelectedResource:t=>e({selectedResource:t}),setSelectedResourceMode:t=>e({selectedResourceMode:t}),setActiveTab:t=>e({activeTab:t}),setAutoRefreshEnabled:t=>{localStorage.setItem("autoRefreshEnabled",JSON.stringify(t)),e({autoRefreshEnabled:t})},setAutoRefreshInterval:t=>{localStorage.setItem("autoRefreshInterval",JSON.stringify(t)),e({autoRefreshInterval:t})},setIsRefreshing:t=>e({isRefreshing:t}),setNextRefreshTime:t=>e({nextRefreshTime:t}),resetCountdown:()=>e(t=>({nextRefreshTime:t.autoRefreshEnabled&&t.autoRefreshInterval>0?Date.now()+t.autoRefreshInterval:null}))})),kE=x.createContext(null);function T6({children:e}){const[t,n]=x.useState({connected:!1,connecting:!1,error:null,lastRefresh:null,namespace:"default",baseUrl:"",namespaces:[]}),r=x.useRef(null),o=ot(),a=x.useCallback((M,E,k,T,D)=>{o.addLog({timestamp:new Date().toISOString(),level:M,message:E,source:k,resourceName:T,resourceKind:D})},[o]),i=x.useCallback(async()=>{if(console.log("[KubernetesConnectionContext] refreshAll called"),!ke.isConfigured()){console.log("[KubernetesConnectionContext] Not configured, skipping refresh");return}o.setIsRefreshing(!0);try{const[M,E,k,T,D,R,$,L,F]=await Promise.all([ke.listModelAPIs().catch(B=>(console.error("ModelAPIs error:",B),[])),ke.listMCPServers().catch(B=>(console.error("MCPServers error:",B),[])),ke.listAgents().catch(B=>(console.error("Agents error:",B),[])),ke.listPods().catch(B=>(console.error("Pods error:",B),[])),ke.listDeployments().catch(B=>(console.error("Deployments error:",B),[])),ke.listPVCs().catch(B=>(console.error("PVCs error:",B),[])),ke.listServices().catch(B=>(console.error("Services error:",B),[])),ke.listSecrets().catch(B=>(console.error("Secrets error:",B),[])),ke.listNamespaces().catch(B=>(console.error("Namespaces error:",B),[]))]);console.log("[KubernetesConnectionContext] Fetched:",{modelAPIs:M.length,mcpServers:E.length,agents:k.length,pods:T.length,deployments:D.length,pvcs:R.length,services:$.length,secrets:L.length}),o.setModelAPIs(M),o.setMCPServers(E),o.setAgents(k),o.setPods(T),o.setDeployments(D),o.setPVCs(R),o.setServices($),o.setSecrets(L);const _=F.map(B=>B.metadata.name),I=ke.getConfig().namespace;if(!(_.length===0||_.includes(I))&&_.length>0){const B=_.includes("default")?"default":_[0];console.log(`[KubernetesConnectionContext] Namespace "${I}" no longer exists, switching to "${B}"`),o.clearAllResources(),ke.setConfig({baseUrl:t.baseUrl,namespace:B}),n(U=>({...U,namespace:B,namespaces:_,error:null,lastRefresh:new Date})),a("warn",`Namespace "${I}" was deleted, switched to "${B}"`,"connection");return}n(B=>({...B,error:null,lastRefresh:new Date,namespaces:_.length>0?_:B.namespaces}))}catch(M){const E=M instanceof Error?M.message:"Failed to fetch resources";if(console.error("[KubernetesConnectionContext] refreshAll error:",M),E.includes("404")||E.includes("not found")||E.includes("Namespace")){console.log("[KubernetesConnectionContext] Possible namespace deletion detected, refreshing namespace list");try{const T=(await ke.listNamespaces()).map(D=>D.metadata.name);if(T.length>0){const D=T.includes("default")?"default":T[0];o.clearAllResources(),ke.setConfig({baseUrl:t.baseUrl,namespace:D}),n(R=>({...R,namespace:D,namespaces:T,error:null})),a("warn",`Switched to namespace "${D}" after error`,"connection"),setTimeout(()=>i(),500);return}}catch(k){console.error("[KubernetesConnectionContext] Failed to recover from namespace error:",k)}}n(k=>({...k,error:E})),a("error",E,"connection")}finally{o.setIsRefreshing(!1)}},[o,a]),l=x.useCallback(M=>{r.current&&clearInterval(r.current);const E=M??o.autoRefreshInterval;if(!(M!==void 0?M>0:o.autoRefreshEnabled)||E<=0){o.setNextRefreshTime(null);return}o.setNextRefreshTime(Date.now()+E),r.current=setInterval(()=>{ke.isConfigured()&&(i(),o.setNextRefreshTime(Date.now()+E))},E)},[i,o.autoRefreshEnabled,o.autoRefreshInterval]),c=x.useCallback(()=>{r.current&&(clearInterval(r.current),r.current=null),o.setNextRefreshTime(null)},[o]),u=x.useCallback(async(M,E="default")=>{console.log("[KubernetesConnectionContext] Connecting to:",M,"namespace:",E),n(T=>({...T,connecting:!0,error:null}));const k=M.replace(/\/$/,"");ke.setConfig({baseUrl:k,namespace:E});try{const T=await ke.testConnection();if(console.log("[KubernetesConnectionContext] Connection test result:",T),T.success){n(D=>({...D,connected:!0,connecting:!1,baseUrl:k,namespace:E,error:null})),a("info",`Connected to Kubernetes ${T.version}`,"connection");try{const R=(await ke.listNamespaces()).map($=>$.metadata.name);n($=>({...$,namespaces:R}))}catch(D){console.warn("[KubernetesConnectionContext] Could not fetch namespaces:",D)}return await i(),l(),!0}else return n(D=>({...D,connected:!1,connecting:!1,error:T.error||"Connection failed"})),!1}catch(T){const D=T instanceof Error?T.message:"Connection failed";return console.error("[KubernetesConnectionContext] Connection error:",T),n(R=>({...R,connected:!1,connecting:!1,error:D})),!1}},[i,l,a]),f=x.useCallback(async()=>{if(ke.isConfigured())try{const E=(await ke.listNamespaces()).map(k=>k.metadata.name);n(k=>({...k,namespaces:E})),console.log("[KubernetesConnectionContext] Refreshed namespaces:",E.length)}catch(M){console.warn("[KubernetesConnectionContext] Failed to fetch namespaces:",M)}},[]),d=x.useCallback(async M=>{!t.connected||!t.baseUrl||(console.log("[KubernetesConnectionContext] Switching to namespace:",M),o.clearAllResources(),ke.setConfig({baseUrl:t.baseUrl,namespace:M}),n(E=>({...E,namespace:M})),localStorage.setItem("k8s-config",JSON.stringify({baseUrl:t.baseUrl,namespace:M})),await i(),a("info",`Switched to namespace ${M}`,"connection"))},[t.connected,t.baseUrl,i,a,o]),m=x.useCallback(()=>{console.log("[KubernetesConnectionContext] Disconnecting"),c(),ke.setConfig({baseUrl:"",namespace:"default"}),n({connected:!1,connecting:!1,error:null,lastRefresh:null,namespace:"default",baseUrl:"",namespaces:[]}),o.setModelAPIs([]),o.setMCPServers([]),o.setAgents([]),o.setPods([]),o.setDeployments([]),o.setPVCs([]),o.setServices([]),o.setSecrets([]),a("info","Disconnected from cluster","connection")},[c,o,a]);x.useEffect(()=>{const M=new URLSearchParams(window.location.search),E=M.get("kubernetesUrl"),k=M.get("namespace");if(E){const R=k||"default";console.log("[KubernetesConnectionContext] Found kubernetesUrl in URL params:",E,"namespace:",R),localStorage.setItem("k8s-config",JSON.stringify({baseUrl:E,namespace:R})),u(E,R);return}const T=localStorage.getItem("k8s-config");if(T)try{const R=JSON.parse(T),$=k||R.namespace||"default";if(console.log("[KubernetesConnectionContext] Found saved config:",R,"using namespace:",$),R.baseUrl){u(R.baseUrl,$);return}}catch(R){console.error("[KubernetesConnectionContext] Failed to parse saved config:",R)}const D=k||"default";return console.log("[KubernetesConnectionContext] No saved config, attempting default localhost:8010 with namespace:",D),u("http://localhost:8010",D),()=>c()},[]);const h=x.useCallback(async M=>{const E=await ke.createModelAPI(M);return o.addModelAPI(E),a("info",`Created ModelAPI ${E.metadata.name}`,"api",E.metadata.name,"ModelAPI"),setTimeout(()=>i(),500),E},[o,a,i]),y=x.useCallback(async M=>{const E=await ke.updateModelAPI(M);return o.updateModelAPI(E.metadata.name,E),a("info",`Updated ModelAPI ${E.metadata.name}`,"api",E.metadata.name,"ModelAPI"),setTimeout(()=>i(),500),E},[o,a,i]),g=x.useCallback(async(M,E)=>{await ke.deleteModelAPI(M,E),o.deleteModelAPI(M),a("info",`Deleted ModelAPI ${M}`,"api",M,"ModelAPI"),setTimeout(()=>i(),500)},[o,a,i]),b=x.useCallback(async M=>{const E=await ke.createMCPServer(M);return o.addMCPServer(E),a("info",`Created MCPServer ${E.metadata.name}`,"api",E.metadata.name,"MCPServer"),setTimeout(()=>i(),500),E},[o,a,i]),p=x.useCallback(async M=>{const E=await ke.updateMCPServer(M);return o.updateMCPServer(E.metadata.name,E),a("info",`Updated MCPServer ${E.metadata.name}`,"api",E.metadata.name,"MCPServer"),setTimeout(()=>i(),500),E},[o,a,i]),v=x.useCallback(async(M,E)=>{await ke.deleteMCPServer(M,E),o.deleteMCPServer(M),a("info",`Deleted MCPServer ${M}`,"api",M,"MCPServer"),setTimeout(()=>i(),500)},[o,a,i]),w=x.useCallback(async M=>{const E=await ke.createAgent(M);return o.addAgent(E),a("info",`Created Agent ${E.metadata.name}`,"api",E.metadata.name,"Agent"),setTimeout(()=>i(),500),E},[o,a,i]),C=x.useCallback(async M=>{const E=await ke.updateAgent(M);return o.updateAgent(E.metadata.name,E),a("info",`Updated Agent ${E.metadata.name}`,"api",E.metadata.name,"Agent"),setTimeout(()=>i(),500),E},[o,a,i]),N=x.useCallback(async(M,E)=>{await ke.deleteAgent(M,E),o.deleteAgent(M),a("info",`Deleted Agent ${M}`,"api",M,"Agent"),setTimeout(()=>i(),500)},[o,a,i]),j=x.useCallback(async M=>{const E=await ke.createSecret(M),k={...E,dataKeys:M.data?Object.keys(M.data):[]};return o.addSecret(k),a("info",`Created Secret ${E.metadata.name}`,"api",E.metadata.name,"Secret"),setTimeout(()=>i(),500),k},[o,a]),S=x.useCallback(async(M,E)=>{await ke.deleteSecret(M,E),o.deleteSecret(M),a("info",`Deleted Secret ${M}`,"api",M,"Secret"),setTimeout(()=>i(),500)},[o,a,i]),P={...t,connect:u,disconnect:m,refreshAll:i,refreshNamespaces:f,switchNamespace:d,startPolling:l,stopPolling:c,createModelAPI:h,updateModelAPI:y,deleteModelAPI:g,createMCPServer:b,updateMCPServer:p,deleteMCPServer:v,createAgent:w,updateAgent:C,deleteAgent:N,createSecret:j,deleteSecret:S};return s.jsx(kE.Provider,{value:P,children:e})}const A6={connected:!1,connecting:!1,error:null,lastRefresh:null,namespace:"default",baseUrl:"",namespaces:[],connect:async()=>!1,disconnect:()=>{},refreshAll:async()=>{},refreshNamespaces:async()=>{},switchNamespace:async()=>{},startPolling:()=>{},stopPolling:()=>{},createModelAPI:async e=>e,updateModelAPI:async e=>e,deleteModelAPI:async()=>{},createMCPServer:async e=>e,updateMCPServer:async e=>e,deleteMCPServer:async()=>{},createAgent:async e=>e,updateAgent:async e=>e,deleteAgent:async()=>{},createSecret:async e=>e,deleteSecret:async()=>{}};function Et(){const e=x.useContext(kE);return e||(console.warn("[useKubernetesConnection] Context unavailable, using fallback. This may happen during hot reload."),A6)}function _6({children:e,...t}){return s.jsx(x5,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,storageKey:"kaos-ui-theme",...t,children:e})}const Uv=cl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-glow-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-glow-error",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90 hover:shadow-glow-success",warning:"bg-warning text-warning-foreground hover:bg-warning/90 hover:shadow-glow-warning",canvas:"bg-node-bg border border-node-border text-foreground hover:border-primary hover:shadow-glow-primary",toolbar:"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xs:"h-7 rounded px-2 text-xs"}},defaultVariants:{variant:"default",size:"default"}}),G=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const i=r?CL:"button";return s.jsx(i,{className:J(Uv({variant:t,size:n,className:e})),ref:a,...o})});G.displayName="Button";var _p="focusScope.autoFocusOnMount",Ip="focusScope.autoFocusOnUnmount",v1={bubbles:!1,cancelable:!0},I6="FocusScope",gu=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=x.useState(null),u=St(o),f=St(a),d=x.useRef(null),m=De(t,g=>c(g)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(w){if(h.paused||!l)return;const C=w.target;l.contains(C)?d.current=C:ro(d.current,{select:!0})},b=function(w){if(h.paused||!l)return;const C=w.relatedTarget;C!==null&&(l.contains(C)||ro(d.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ro(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,h.paused]),x.useEffect(()=>{if(l){b1.add(h);const g=document.activeElement;if(!l.contains(g)){const p=new CustomEvent(_p,v1);l.addEventListener(_p,u),l.dispatchEvent(p),p.defaultPrevented||(D6(z6(EE(l)),{select:!0}),document.activeElement===g&&ro(l))}return()=>{l.removeEventListener(_p,u),setTimeout(()=>{const p=new CustomEvent(Ip,v1);l.addEventListener(Ip,f),l.dispatchEvent(p),p.defaultPrevented||ro(g??document.body,{select:!0}),l.removeEventListener(Ip,f),b1.remove(h)},0)}}},[l,u,f,h]);const y=x.useCallback(g=>{if(!n&&!r||h.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,p=document.activeElement;if(b&&p){const v=g.currentTarget,[w,C]=L6(v);w&&C?!g.shiftKey&&p===C?(g.preventDefault(),n&&ro(w,{select:!0})):g.shiftKey&&p===w&&(g.preventDefault(),n&&ro(C,{select:!0})):p===v&&g.preventDefault()}},[n,r,h.paused]);return s.jsx(Pe.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});gu.displayName=I6;function D6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ro(r,{select:t}),document.activeElement!==n)return}function L6(e){const t=EE(e),n=w1(t,e),r=w1(t.reverse(),e);return[n,r]}function EE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function w1(e,t){for(const n of e)if(!O6(n,{upTo:t}))return n}function O6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $6(e){return e instanceof HTMLInputElement&&"select"in e}function ro(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$6(e)&&t&&e.select()}}var b1=F6();function F6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=j1(e,t),e.unshift(t)},remove(t){var n;e=j1(e,t),(n=e[0])==null||n.resume()}}}function j1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function z6(e){return e.filter(t=>t.tagName!=="A")}var Dp=0;function eh(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N1()),document.body.insertAdjacentElement("beforeend",e[1]??N1()),Dp++,()=>{Dp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dp--}},[])}function N1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var es=function(){return es=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},es.apply(this,arguments)};function PE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function V6(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Xd="right-scroll-bar-position",Qd="width-before-scroll-bar",B6="with-scroll-bars-hidden",U6="--removed-body-scroll-bar-size";function Lp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function H6(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var W6=typeof window<"u"?x.useLayoutEffect:x.useEffect,C1=new WeakMap;function K6(e,t){var n=H6(null,function(r){return e.forEach(function(o){return Lp(o,r)})});return W6(function(){var r=C1.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(l){a.has(l)||Lp(l,null)}),a.forEach(function(l){o.has(l)||Lp(l,i)})}C1.set(n,e)},[e]),n}function q6(e){return e}function Y6(e,t){t===void 0&&(t=q6);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return o}function G6(e){e===void 0&&(e={});var t=Y6(null);return t.options=es({async:!0,ssr:!1},e),t}var ME=function(e){var t=e.sideCar,n=PE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,es({},n))};ME.isSideCarExport=!0;function X6(e,t){return e.useMedium(t),ME}var RE=G6(),Op=function(){},th=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Op,onWheelCapture:Op,onTouchMoveCapture:Op}),o=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,h=e.noRelative,y=e.noIsolation,g=e.inert,b=e.allowPinchZoom,p=e.as,v=p===void 0?"div":p,w=e.gapMode,C=PE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,j=K6([n,t]),S=es(es({},C),o);return x.createElement(x.Fragment,null,f&&x.createElement(N,{sideCar:RE,removeScrollBar:u,shards:d,noRelative:h,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?x.cloneElement(x.Children.only(l),es(es({},S),{ref:j})):x.createElement(v,es({},S,{className:c,ref:j}),l))});th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};th.classNames={fullWidth:Qd,zeroRight:Xd};var Q6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Q6();return t&&e.setAttribute("nonce",t),e}function Z6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t8=function(){var e=0,t=null;return{add:function(n){e==0&&(t=J6())&&(Z6(t,n),e8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n8=function(){var e=t8();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},TE=function(){var e=n8(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},r8={left:0,top:0,right:0,gap:0},$p=function(e){return parseInt(e||"",10)||0},s8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[$p(n),$p(r),$p(o)]},o8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return r8;var t=s8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},a8=TE(),Ci="data-scroll-locked",i8=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(B6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ci,`] {
    `).concat(U6,": ").concat(l,`px;
  }
`)},S1=function(){var e=parseInt(document.body.getAttribute(Ci)||"0",10);return isFinite(e)?e:0},l8=function(){x.useEffect(function(){return document.body.setAttribute(Ci,(S1()+1).toString()),function(){var e=S1()-1;e<=0?document.body.removeAttribute(Ci):document.body.setAttribute(Ci,e.toString())}},[])},c8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;l8();var a=x.useMemo(function(){return o8(o)},[o]);return x.createElement(a8,{styles:i8(a,!t,o,n?"":"!important")})},Lx=!1;if(typeof window<"u")try{var fd=Object.defineProperty({},"passive",{get:function(){return Lx=!0,!0}});window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{Lx=!1}var Wa=Lx?{passive:!1}:!1,u8=function(e){return e.tagName==="TEXTAREA"},AE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!u8(e)&&n[t]==="visible")},d8=function(e){return AE(e,"overflowY")},f8=function(e){return AE(e,"overflowX")},k1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=_E(e,r);if(o){var a=IE(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},h8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_E=function(e,t){return e==="v"?d8(t):f8(t)},IE=function(e,t){return e==="v"?m8(t):h8(t)},p8=function(e,t){return e==="h"&&t==="rtl"?-1:1},g8=function(e,t,n,r,o){var a=p8(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,f=i>0,d=0,m=0;do{if(!l)break;var h=IE(e,l),y=h[0],g=h[1],b=h[2],p=g-b-a*y;(y||p)&&_E(e,l)&&(d+=p,m+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(m)<1)&&(u=!0),u},md=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E1=function(e){return[e.deltaX,e.deltaY]},P1=function(e){return e&&"current"in e?e.current:e},x8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},v8=0,Ka=[];function w8(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),o=x.useState(v8++)[0],a=x.useState(TE)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=V6([e.lockRef.current],(e.shards||[]).map(P1),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var p=md(g),v=n.current,w="deltaX"in g?g.deltaX:v[0]-p[0],C="deltaY"in g?g.deltaY:v[1]-p[1],N,j=g.target,S=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in g&&S==="h"&&j.type==="range")return!1;var P=k1(S,j);if(!P)return!0;if(P?N=S:(N=S==="v"?"h":"v",P=k1(S,j)),!P)return!1;if(!r.current&&"changedTouches"in g&&(w||C)&&(r.current=N),!N)return!0;var M=r.current||N;return g8(M,b,g,M==="h"?w:C)},[]),c=x.useCallback(function(g){var b=g;if(!(!Ka.length||Ka[Ka.length-1]!==a)){var p="deltaY"in b?E1(b):md(b),v=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&x8(N.delta,p)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(P1).filter(Boolean).filter(function(N){return N.contains(b.target)}),C=w.length>0?l(b,w[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=x.useCallback(function(g,b,p,v){var w={name:g,delta:b,target:p,should:v,shadowParent:b8(p)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(C){return C!==w})},1)},[]),f=x.useCallback(function(g){n.current=md(g),r.current=void 0},[]),d=x.useCallback(function(g){u(g.type,E1(g),g.target,l(g,e.lockRef.current))},[]),m=x.useCallback(function(g){u(g.type,md(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return Ka.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Wa),document.addEventListener("touchmove",c,Wa),document.addEventListener("touchstart",f,Wa),function(){Ka=Ka.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Wa),document.removeEventListener("touchmove",c,Wa),document.removeEventListener("touchstart",f,Wa)}},[]);var h=e.removeScrollBar,y=e.inert;return x.createElement(x.Fragment,null,y?x.createElement(a,{styles:y8(o)}):null,h?x.createElement(c8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function b8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j8=X6(RE,w8);var xu=x.forwardRef(function(e,t){return x.createElement(th,es({},e,{ref:t,sideCar:j8}))});xu.classNames=th.classNames;var N8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qa=new WeakMap,hd=new WeakMap,pd={},Fp=0,DE=function(e){return e&&(e.host||DE(e.parentNode))},C8=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=DE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},S8=function(e,t,n,r){var o=C8(t,Array.isArray(e)?e:[e]);pd[n]||(pd[n]=new WeakMap);var a=pd[n],i=[],l=new Set,c=new Set(o),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};o.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))f(m);else try{var h=m.getAttribute(r),y=h!==null&&h!=="false",g=(qa.get(m)||0)+1,b=(a.get(m)||0)+1;qa.set(m,g),a.set(m,b),i.push(m),g===1&&y&&hd.set(m,!0),b===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return f(t),l.clear(),Fp++,function(){i.forEach(function(d){var m=qa.get(d)-1,h=a.get(d)-1;qa.set(d,m),a.set(d,h),m||(hd.has(d)||d.removeAttribute(r),hd.delete(d)),h||d.removeAttribute(n)}),Fp--,Fp||(qa=new WeakMap,qa=new WeakMap,hd=new WeakMap,pd={})}},nh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=N8(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),S8(r,o,n,"aria-hidden")):function(){return null}},rh="Dialog",[LE,OE]=Xt(rh),[k8,zr]=LE(rh),$E=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=Ir({prop:r,defaultProp:o??!1,onChange:a,caller:rh});return s.jsx(k8,{scope:t,triggerRef:l,contentRef:c,contentId:Wn(),titleId:Wn(),descriptionId:Wn(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(d=>!d),[f]),modal:i,children:n})};$E.displayName=rh;var FE="DialogTrigger",zE=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=zr(FE,n),a=De(t,o.triggerRef);return s.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Kv(o.open),...r,ref:a,onClick:le(e.onClick,o.onOpenToggle)})});zE.displayName=FE;var Hv="DialogPortal",[E8,VE]=LE(Hv,{forceMount:void 0}),BE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=zr(Hv,t);return s.jsx(E8,{scope:t,forceMount:n,children:x.Children.map(r,i=>s.jsx(Kt,{present:n||a.open,children:s.jsx(ll,{asChild:!0,container:o,children:i})}))})};BE.displayName=Hv;var Uf="DialogOverlay",UE=x.forwardRef((e,t)=>{const n=VE(Uf,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=zr(Uf,e.__scopeDialog);return a.modal?s.jsx(Kt,{present:r||a.open,children:s.jsx(M8,{...o,ref:t})}):null});UE.displayName=Uf;var P8=Io("DialogOverlay.RemoveScroll"),M8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=zr(Uf,n);return s.jsx(xu,{as:P8,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Pe.div,{"data-state":Kv(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pa="DialogContent",HE=x.forwardRef((e,t)=>{const n=VE(Pa,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=zr(Pa,e.__scopeDialog);return s.jsx(Kt,{present:r||a.open,children:a.modal?s.jsx(R8,{...o,ref:t}):s.jsx(T8,{...o,ref:t})})});HE.displayName=Pa;var R8=x.forwardRef((e,t)=>{const n=zr(Pa,e.__scopeDialog),r=x.useRef(null),o=De(t,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return nh(a)},[]),s.jsx(WE,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:le(e.onFocusOutside,a=>a.preventDefault())})}),T8=x.forwardRef((e,t)=>{const n=zr(Pa,e.__scopeDialog),r=x.useRef(!1),o=x.useRef(!1);return s.jsx(WE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),WE=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=zr(Pa,n),c=x.useRef(null),u=De(t,c);return eh(),s.jsxs(s.Fragment,{children:[s.jsx(gu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Fa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(_8,{titleId:l.titleId}),s.jsx(D8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Wv="DialogTitle",KE=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=zr(Wv,n);return s.jsx(Pe.h2,{id:o.titleId,...r,ref:t})});KE.displayName=Wv;var qE="DialogDescription",YE=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=zr(qE,n);return s.jsx(Pe.p,{id:o.descriptionId,...r,ref:t})});YE.displayName=qE;var GE="DialogClose",XE=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=zr(GE,n);return s.jsx(Pe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>o.onOpenChange(!1))})});XE.displayName=GE;function Kv(e){return e?"open":"closed"}var QE="DialogTitleWarning",[A8,JE]=jL(QE,{contentName:Pa,titleName:Wv,docsSlug:"dialog"}),_8=({titleId:e})=>{const t=JE(QE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},I8="DialogDescriptionWarning",D8=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JE(I8).contentName}}.`;return x.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qv=$E,L8=zE,Yv=BE,yu=UE,vu=HE,wu=KE,bu=YE,sh=XE;const Bs=qv,O8=Yv,ZE=x.forwardRef(({className:e,...t},n)=>s.jsx(yu,{ref:n,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZE.displayName=yu.displayName;const ms=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(O8,{children:[s.jsx(ZE,{}),s.jsxs(vu,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(sh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Lm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ms.displayName=vu.displayName;const hs=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hs.displayName="DialogHeader";const Us=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Us.displayName="DialogFooter";const ps=x.forwardRef(({className:e,...t},n)=>s.jsx(wu,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ps.displayName=wu.displayName;const Hs=x.forwardRef(({className:e,...t},n)=>s.jsx(bu,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Hs.displayName=bu.displayName;var $8=x.createContext(void 0);function ju(e){const t=x.useContext($8);return e||t||"ltr"}function Ox(e,[t,n]){return Math.min(n,Math.max(t,e))}function F8(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Gv="ScrollArea",[eP]=Xt(Gv),[z8,hr]=eP(Gv),tP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,c]=x.useState(null),[u,f]=x.useState(null),[d,m]=x.useState(null),[h,y]=x.useState(null),[g,b]=x.useState(null),[p,v]=x.useState(0),[w,C]=x.useState(0),[N,j]=x.useState(!1),[S,P]=x.useState(!1),M=De(t,k=>c(k)),E=ju(o);return s.jsx(z8,{scope:n,type:r,dir:E,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:m,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:v,onCornerHeightChange:C,children:s.jsx(Pe.div,{dir:E,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});tP.displayName=Gv;var nP="ScrollAreaViewport",rP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...a}=e,i=hr(nP,n),l=x.useRef(null),c=De(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});rP.displayName=nP;var gs="ScrollAreaScrollbar",Xv=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(gs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(V8,{...r,ref:t,forceMount:n}):o.type==="scroll"?s.jsx(B8,{...r,ref:t,forceMount:n}):o.type==="auto"?s.jsx(sP,{...r,ref:t,forceMount:n}):o.type==="always"?s.jsx(Qv,{...r,ref:t}):null});Xv.displayName=gs;var V8=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(gs,e.__scopeScrollArea),[a,i]=x.useState(!1);return x.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(Kt,{present:n||a,children:s.jsx(sP,{"data-state":a?"visible":"hidden",...r,ref:t})})}),B8=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(gs,e.__scopeScrollArea),a=e.orientation==="horizontal",i=ah(()=>c("SCROLL_END"),100),[l,c]=F8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,c]),x.useEffect(()=>{const u=o.viewport,f=a?"scrollLeft":"scrollTop";if(u){let d=u[f];const m=()=>{const h=u[f];d!==h&&(c("SCROLL"),i()),d=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,c,i]),s.jsx(Kt,{present:n||l!=="hidden",children:s.jsx(Qv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sP=x.forwardRef((e,t)=>{const n=hr(gs,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,i]=x.useState(!1),l=e.orientation==="horizontal",c=ah(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:f)}},10);return Gi(n.viewport,c),Gi(n.content,c),s.jsx(Kt,{present:r||a,children:s.jsx(Qv,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Qv=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=hr(gs,e.__scopeScrollArea),a=x.useRef(null),i=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cP(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function d(m,h){return Y8(m,i.current,l,h)}return n==="horizontal"?s.jsx(U8,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,h=M1(m,l,o.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=d(m,o.dir))}}):n==="vertical"?s.jsx(H8,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,h=M1(m,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=d(m))}}):null}),U8=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=hr(gs,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=De(t,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aP,{"data-orientation":"horizontal",...o,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),dP(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wf(i.paddingLeft),paddingEnd:Wf(i.paddingRight)}})}})}),H8=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=hr(gs,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=De(t,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aP,{"data-orientation":"vertical",...o,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),dP(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wf(i.paddingTop),paddingEnd:Wf(i.paddingBottom)}})}})}),[W8,oP]=eP(gs),aP=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...m}=e,h=hr(gs,n),[y,g]=x.useState(null),b=De(t,M=>g(M)),p=x.useRef(null),v=x.useRef(""),w=h.viewport,C=r.content-r.viewport,N=St(f),j=St(c),S=ah(d,10);function P(M){if(p.current){const E=M.clientX-p.current.left,k=M.clientY-p.current.top;u({x:E,y:k})}}return x.useEffect(()=>{const M=E=>{const k=E.target;(y==null?void 0:y.contains(k))&&N(E,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,y,C,N]),x.useEffect(j,[r,j]),Gi(y,S),Gi(h.content,S),s.jsx(W8,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:St(a),onThumbPointerUp:St(i),onThumbPositionChange:j,onThumbPointerDown:St(l),children:s.jsx(Pe.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:le(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),p.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(M))}),onPointerMove:le(e.onPointerMove,P),onPointerUp:le(e.onPointerUp,M=>{const E=M.target;E.hasPointerCapture(M.pointerId)&&E.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),p.current=null})})})}),Hf="ScrollAreaThumb",iP=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=oP(Hf,e.__scopeScrollArea);return s.jsx(Kt,{present:n||o.hasThumb,children:s.jsx(K8,{ref:t,...r})})}),K8=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,a=hr(Hf,n),i=oP(Hf,n),{onThumbPositionChange:l}=i,c=De(t,d=>i.onThumbChange(d)),u=x.useRef(void 0),f=ah(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const d=a.viewport;if(d){const m=()=>{if(f(),!u.current){const h=G8(d,l);u.current=h,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,f,l]),s.jsx(Pe.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:le(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),y=d.clientX-h.left,g=d.clientY-h.top;i.onThumbPointerDown({x:y,y:g})}),onPointerUp:le(e.onPointerUp,i.onThumbPointerUp)})});iP.displayName=Hf;var Jv="ScrollAreaCorner",lP=x.forwardRef((e,t)=>{const n=hr(Jv,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(q8,{...e,ref:t}):null});lP.displayName=Jv;var q8=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=hr(Jv,n),[a,i]=x.useState(0),[l,c]=x.useState(0),u=!!(a&&l);return Gi(o.scrollbarX,()=>{var d;const f=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(f),c(f)}),Gi(o.scrollbarY,()=>{var d;const f=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(f),i(f)}),u?s.jsx(Pe.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wf(e){return e?parseInt(e,10):0}function cP(e,t){const n=e/t;return isNaN(n)?0:n}function oh(e){const t=cP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Y8(e,t,n,r="ltr"){const o=oh(n),a=o/2,i=t||a,l=o-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return uP([c,u],d)(e)}function M1(e,t,n="ltr"){const r=oh(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Ox(e,c);return uP([0,i],[0,l])(u)}function uP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dP(e,t){return e>0&&e<t}var G8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function ah(e,t){const n=St(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gi(e,t){const n=St(t);zt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var fP=tP,X8=rP,Q8=lP;const Je=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(fP,{ref:r,className:J("relative overflow-hidden",e),...n,children:[s.jsx(X8,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(mP,{}),s.jsx(Q8,{})]}));Je.displayName=fP.displayName;const mP=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(Xv,{ref:r,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(iP,{className:"relative flex-1 rounded-full bg-border"})}));mP.displayName=Xv.displayName;class J8 extends x.Component{constructor(n){super(n);ws(this,"getErrorReport",()=>{const{error:n,errorInfo:r}=this.state,o=new Date().toISOString(),a=navigator.userAgent,i=window.location.href;return`## Error Report

**Timestamp:** ${o}
**URL:** ${i}
**User Agent:** ${a}

### Error Message
\`\`\`
${(n==null?void 0:n.message)||"Unknown error"}
\`\`\`

### Stack Trace
\`\`\`
${(n==null?void 0:n.stack)||"No stack trace available"}
\`\`\`

### Component Stack
\`\`\`
${(r==null?void 0:r.componentStack)||"No component stack available"}
\`\`\`

### Console Logs
Check browser console for additional logs.
`});ws(this,"copyErrorReport",async()=>{try{await navigator.clipboard.writeText(this.getErrorReport()),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)}catch(n){console.error("Failed to copy error report:",n)}});ws(this,"openGitHubIssue",()=>{var i,l;const n=this.getErrorReport(),r=encodeURIComponent(`[Bug] Application crash: ${((l=(i=this.state.error)==null?void 0:i.message)==null?void 0:l.substring(0,50))||"Unknown error"}`),o=encodeURIComponent(n),a=`https://github.com/axsaucedo/kaos-ui/issues/new?title=${r}&body=${o}&labels=bug`;window.open(a,"_blank")});ws(this,"handleReload",()=>{this.setState({hasError:!1,error:null,errorInfo:null,showDialog:!1}),window.location.href=window.location.origin+"/kaos-ui/v0.2.4/"});ws(this,"handleContinue",()=>{this.setState({hasError:!1,showDialog:!1})});this.state={hasError:!1,error:null,errorInfo:null,showDialog:!1,copied:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n,showDialog:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({errorInfo:r})}render(){if(this.state.hasError){const{error:n,errorInfo:r,showDialog:o,copied:a}=this.state;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Dc,{className:"h-8 w-8 text-destructive"})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The application encountered an unexpected error. We apologize for the inconvenience."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(G,{onClick:this.handleReload,children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Reload App"]}),s.jsx(G,{variant:"outline",onClick:()=>this.setState({showDialog:!0}),children:"View Details"})]})]})}),s.jsx(Bs,{open:o,onOpenChange:i=>this.setState({showDialog:i}),children:s.jsxs(ms,{className:"max-w-2xl max-h-[80vh]",children:[s.jsxs(hs,{children:[s.jsxs(ps,{className:"flex items-center gap-2",children:[s.jsx(Dc,{className:"h-5 w-5 text-destructive"}),"Application Error"]}),s.jsx(Hs,{children:"An unexpected error occurred. Please report this issue so we can fix it."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Error Message"}),s.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:s.jsx("code",{className:"text-sm text-destructive break-all",children:(n==null?void 0:n.message)||"Unknown error"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Stack Trace"}),s.jsx(Je,{className:"h-[200px] rounded-md border bg-muted/50",children:s.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre-wrap break-all",children:(n==null?void 0:n.stack)||"No stack trace available"})})]}),(r==null?void 0:r.componentStack)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Component Stack"}),s.jsx(Je,{className:"h-[100px] rounded-md border bg-muted/50",children:s.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre-wrap break-all",children:r.componentStack})})]})]}),s.jsxs(Us,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(G,{variant:"outline",onClick:this.copyErrorReport,className:"gap-2",children:[a?s.jsx(Fr,{className:"h-4 w-4"}):s.jsx(Uo,{className:"h-4 w-4"}),a?"Copied!":"Copy Error Report"]}),s.jsxs(G,{variant:"outline",onClick:this.openGitHubIssue,className:"gap-2",children:[s.jsx(If,{className:"h-4 w-4"}),"Report Issue on GitHub"]}),s.jsxs(G,{onClick:this.handleReload,className:"gap-2",children:[s.jsx(Ge,{className:"h-4 w-4"}),"Reload Application"]})]})]})})]})}return this.props.children}}const Z8=cl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning",error:"border-transparent bg-destructive/20 text-destructive",modelapi:"border-transparent bg-modelapi/20 text-modelapi",mcpserver:"border-transparent bg-mcpserver/20 text-mcpserver",agent:"border-transparent bg-agent/20 text-agent",pod:"border-transparent bg-pod/20 text-pod",deployment:"border-transparent bg-deployment/20 text-deployment",volume:"border-transparent bg-volume/20 text-volume",running:"border-transparent bg-success/20 text-success",pending:"border-transparent bg-warning/20 text-warning",terminated:"border-transparent bg-muted text-muted-foreground",unknown:"border-transparent bg-muted text-muted-foreground"}},defaultVariants:{variant:"default"}});function Z({className:e,variant:t,...n}){return s.jsx("div",{className:J(Z8({variant:t}),e),...n})}var zp="rovingFocusGroup.onEntryFocus",eV={bubbles:!1,cancelable:!0},Nu="RovingFocusGroup",[$x,hP,tV]=Am(Nu),[nV,ih]=Xt(Nu,[tV]),[rV,sV]=nV(Nu),pP=x.forwardRef((e,t)=>s.jsx($x.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx($x.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(oV,{...e,ref:t})})}));pP.displayName=Nu;var oV=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,m=x.useRef(null),h=De(t,m),y=ju(a),[g,b]=Ir({prop:i,defaultProp:l??null,onChange:c,caller:Nu}),[p,v]=x.useState(!1),w=St(u),C=hP(n),N=x.useRef(!1),[j,S]=x.useState(0);return x.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(zp,w),()=>P.removeEventListener(zp,w)},[w]),s.jsx(rV,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:g,onItemFocus:x.useCallback(P=>b(P),[b]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:x.useCallback(()=>S(P=>P-1),[]),children:s.jsx(Pe.div,{tabIndex:p||j===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{N.current=!0}),onFocus:le(e.onFocus,P=>{const M=!N.current;if(P.target===P.currentTarget&&M&&!p){const E=new CustomEvent(zp,eV);if(P.currentTarget.dispatchEvent(E),!E.defaultPrevented){const k=C().filter(L=>L.focusable),T=k.find(L=>L.active),D=k.find(L=>L.id===g),$=[T,D,...k].filter(Boolean).map(L=>L.ref.current);yP($,f)}}N.current=!1}),onBlur:le(e.onBlur,()=>v(!1))})})}),gP="RovingFocusGroupItem",xP=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:i,...l}=e,c=Wn(),u=a||c,f=sV(gP,n),d=f.currentTabStopId===u,m=hP(n),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:g}=f;return x.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),s.jsx($x.ItemSlot,{scope:n,id:u,focusable:r,active:o,children:s.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,b=>{r?f.onItemFocus(u):b.preventDefault()}),onFocus:le(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:le(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const p=lV(b,f.orientation,f.dir);if(p!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=m().filter(C=>C.focusable).map(C=>C.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const C=w.indexOf(b.currentTarget);w=f.loop?cV(w,C+1):w.slice(C+1)}setTimeout(()=>yP(w))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:g!=null}):i})})});xP.displayName=gP;var aV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lV(e,t,n){const r=iV(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aV[r]}function yP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function cV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vP=pP,wP=xP,Fx=["Enter"," "],uV=["ArrowDown","PageUp","Home"],bP=["ArrowUp","PageDown","End"],dV=[...uV,...bP],fV={ltr:[...Fx,"ArrowRight"],rtl:[...Fx,"ArrowLeft"]},mV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cu="Menu",[Uc,hV,pV]=Am(Cu),[za,lh]=Xt(Cu,[pV,Ko,ih]),ch=Ko(),jP=ih(),[gV,Va]=za(Cu),[xV,Su]=za(Cu),NP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:i=!0}=e,l=ch(t),[c,u]=x.useState(null),f=x.useRef(!1),d=St(a),m=ju(o);return x.useEffect(()=>{const h=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(zm,{...l,children:s.jsx(gV,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(xV,{scope:t,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:m,modal:i,children:r})})})};NP.displayName=Cu;var yV="MenuAnchor",Zv=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ch(n);return s.jsx(pu,{...o,...r,ref:t})});Zv.displayName=yV;var e0="MenuPortal",[vV,CP]=za(e0,{forceMount:void 0}),SP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=Va(e0,t);return s.jsx(vV,{scope:t,forceMount:n,children:s.jsx(Kt,{present:n||a.open,children:s.jsx(ll,{asChild:!0,container:o,children:r})})})};SP.displayName=e0;var ur="MenuContent",[wV,t0]=za(ur),kP=x.forwardRef((e,t)=>{const n=CP(ur,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=Va(ur,e.__scopeMenu),i=Su(ur,e.__scopeMenu);return s.jsx(Uc.Provider,{scope:e.__scopeMenu,children:s.jsx(Kt,{present:r||a.open,children:s.jsx(Uc.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(bV,{...o,ref:t}):s.jsx(jV,{...o,ref:t})})})})}),bV=x.forwardRef((e,t)=>{const n=Va(ur,e.__scopeMenu),r=x.useRef(null),o=De(t,r);return x.useEffect(()=>{const a=r.current;if(a)return nh(a)},[]),s.jsx(n0,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:le(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jV=x.forwardRef((e,t)=>{const n=Va(ur,e.__scopeMenu);return s.jsx(n0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NV=Io("MenuContent.ScrollLock"),n0=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:h,disableOutsideScroll:y,...g}=e,b=Va(ur,n),p=Su(ur,n),v=ch(n),w=jP(n),C=hV(n),[N,j]=x.useState(null),S=x.useRef(null),P=De(t,S,b.onContentChange),M=x.useRef(0),E=x.useRef(""),k=x.useRef(0),T=x.useRef(null),D=x.useRef("right"),R=x.useRef(0),$=y?xu:x.Fragment,L=y?{as:NV,allowPinchZoom:!0}:void 0,F=I=>{var z,W;const A=E.current+I,B=C().filter(Q=>!Q.disabled),U=document.activeElement,O=(z=B.find(Q=>Q.ref.current===U))==null?void 0:z.textValue,q=B.map(Q=>Q.textValue),ne=DV(q,A,O),se=(W=B.find(Q=>Q.textValue===ne))==null?void 0:W.ref.current;(function Q(ie){E.current=ie,window.clearTimeout(M.current),ie!==""&&(M.current=window.setTimeout(()=>Q(""),1e3))})(A),se&&setTimeout(()=>se.focus())};x.useEffect(()=>()=>window.clearTimeout(M.current),[]),eh();const _=x.useCallback(I=>{var B,U;return D.current===((B=T.current)==null?void 0:B.side)&&OV(I,(U=T.current)==null?void 0:U.area)},[]);return s.jsx(wV,{scope:n,searchRef:E,onItemEnter:x.useCallback(I=>{_(I)&&I.preventDefault()},[_]),onItemLeave:x.useCallback(I=>{var A;_(I)||((A=S.current)==null||A.focus(),j(null))},[_]),onTriggerLeave:x.useCallback(I=>{_(I)&&I.preventDefault()},[_]),pointerGraceTimerRef:k,onPointerGraceIntentChange:x.useCallback(I=>{T.current=I},[]),children:s.jsx($,{...L,children:s.jsx(gu,{asChild:!0,trapped:o,onMountAutoFocus:le(a,I=>{var A;I.preventDefault(),(A=S.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:h,children:s.jsx(vP,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:le(c,I=>{p.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Vm,{role:"menu","aria-orientation":"vertical","data-state":BP(b.open),"data-radix-menu-content":"",dir:p.dir,...v,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:le(g.onKeyDown,I=>{const B=I.target.closest("[data-radix-menu-content]")===I.currentTarget,U=I.ctrlKey||I.altKey||I.metaKey,O=I.key.length===1;B&&(I.key==="Tab"&&I.preventDefault(),!U&&O&&F(I.key));const q=S.current;if(I.target!==q||!dV.includes(I.key))return;I.preventDefault();const se=C().filter(z=>!z.disabled).map(z=>z.ref.current);bP.includes(I.key)&&se.reverse(),_V(se)}),onBlur:le(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(M.current),E.current="")}),onPointerMove:le(e.onPointerMove,Hc(I=>{const A=I.target,B=R.current!==I.clientX;if(I.currentTarget.contains(A)&&B){const U=I.clientX>R.current?"right":"left";D.current=U,R.current=I.clientX}}))})})})})})})});kP.displayName=ur;var CV="MenuGroup",r0=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{role:"group",...r,ref:t})});r0.displayName=CV;var SV="MenuLabel",EP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});EP.displayName=SV;var Kf="MenuItem",R1="menu.itemSelect",uh=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=x.useRef(null),i=Su(Kf,e.__scopeMenu),l=t0(Kf,e.__scopeMenu),c=De(t,a),u=x.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const m=new CustomEvent(R1,{bubbles:!0,cancelable:!0});d.addEventListener(R1,h=>r==null?void 0:r(h),{once:!0}),gv(d,m),m.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(PP,{...o,ref:c,disabled:n,onClick:le(e.onClick,f),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:le(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:le(e.onKeyDown,d=>{const m=l.searchRef.current!=="";n||m&&d.key===" "||Fx.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});uh.displayName=Kf;var PP=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,i=t0(Kf,n),l=jP(n),c=x.useRef(null),u=De(t,c),[f,d]=x.useState(!1),[m,h]=x.useState("");return x.useEffect(()=>{const y=c.current;y&&h((y.textContent??"").trim())},[a.children]),s.jsx(Uc.ItemSlot,{scope:n,disabled:r,textValue:o??m,children:s.jsx(wP,{asChild:!0,...l,focusable:!r,children:s.jsx(Pe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:le(e.onPointerMove,Hc(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(e.onPointerLeave,Hc(y=>i.onItemLeave(y))),onFocus:le(e.onFocus,()=>d(!0)),onBlur:le(e.onBlur,()=>d(!1))})})})}),kV="MenuCheckboxItem",MP=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return s.jsx(IP,{scope:e.__scopeMenu,checked:n,children:s.jsx(uh,{role:"menuitemcheckbox","aria-checked":qf(n)?"mixed":n,...o,ref:t,"data-state":o0(n),onSelect:le(o.onSelect,()=>r==null?void 0:r(qf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MP.displayName=kV;var RP="MenuRadioGroup",[EV,PV]=za(RP,{value:void 0,onValueChange:()=>{}}),TP=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=St(r);return s.jsx(EV,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(r0,{...o,ref:t})})});TP.displayName=RP;var AP="MenuRadioItem",_P=x.forwardRef((e,t)=>{const{value:n,...r}=e,o=PV(AP,e.__scopeMenu),a=n===o.value;return s.jsx(IP,{scope:e.__scopeMenu,checked:a,children:s.jsx(uh,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":o0(a),onSelect:le(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});_P.displayName=AP;var s0="MenuItemIndicator",[IP,MV]=za(s0,{checked:!1}),DP=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=MV(s0,n);return s.jsx(Kt,{present:r||qf(a.checked)||a.checked===!0,children:s.jsx(Pe.span,{...o,ref:t,"data-state":o0(a.checked)})})});DP.displayName=s0;var RV="MenuSeparator",LP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});LP.displayName=RV;var TV="MenuArrow",OP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ch(n);return s.jsx(Bm,{...o,...r,ref:t})});OP.displayName=TV;var AV="MenuSub",[_se,$P]=za(AV),Ql="MenuSubTrigger",FP=x.forwardRef((e,t)=>{const n=Va(Ql,e.__scopeMenu),r=Su(Ql,e.__scopeMenu),o=$P(Ql,e.__scopeMenu),a=t0(Ql,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(Zv,{asChild:!0,...u,children:s.jsx(PP,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":BP(n.open),...e,ref:Tm(t,o.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:le(e.onPointerMove,Hc(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:le(e.onPointerLeave,Hc(d=>{var h,y;f();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const g=(y=n.content)==null?void 0:y.dataset.side,b=g==="right",p=b?-5:5,v=m[b?"left":"right"],w=m[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:le(e.onKeyDown,d=>{var h;const m=a.searchRef.current!=="";e.disabled||m&&d.key===" "||fV[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});FP.displayName=Ql;var zP="MenuSubContent",VP=x.forwardRef((e,t)=>{const n=CP(ur,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=Va(ur,e.__scopeMenu),i=Su(ur,e.__scopeMenu),l=$P(zP,e.__scopeMenu),c=x.useRef(null),u=De(t,c);return s.jsx(Uc.Provider,{scope:e.__scopeMenu,children:s.jsx(Kt,{present:r||a.open,children:s.jsx(Uc.Slot,{scope:e.__scopeMenu,children:s.jsx(n0,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:le(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:le(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{var h;const d=f.currentTarget.contains(f.target),m=mV[i.dir].includes(f.key);d&&m&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),f.preventDefault())})})})})})});VP.displayName=zP;function BP(e){return e?"open":"closed"}function qf(e){return e==="indeterminate"}function o0(e){return qf(e)?"indeterminate":e?"checked":"unchecked"}function _V(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function IV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function DV(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=IV(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function LV(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,f=l.y,d=c.x,m=c.y;f>r!=m>r&&n<(d-u)*(r-f)/(m-f)+u&&(o=!o)}return o}function OV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return LV(n,t)}function Hc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var UP=NP,HP=Zv,WP=SP,KP=kP,qP=r0,YP=EP,GP=uh,XP=MP,QP=TP,JP=_P,ZP=DP,eM=LP,tM=OP,nM=FP,rM=VP,dh="DropdownMenu",[$V]=Xt(dh,[lh]),jn=lh(),[FV,sM]=$V(dh),oM=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=jn(t),u=x.useRef(null),[f,d]=Ir({prop:o,defaultProp:a??!1,onChange:i,caller:dh});return s.jsx(FV,{scope:t,triggerId:Wn(),triggerRef:u,contentId:Wn(),open:f,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(m=>!m),[d]),modal:l,children:s.jsx(UP,{...c,open:f,onOpenChange:d,dir:r,modal:l,children:n})})};oM.displayName=dh;var aM="DropdownMenuTrigger",iM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=sM(aM,n),i=jn(n);return s.jsx(HP,{asChild:!0,...i,children:s.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Tm(t,a.triggerRef),onPointerDown:le(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:le(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iM.displayName=aM;var zV="DropdownMenuPortal",lM=e=>{const{__scopeDropdownMenu:t,...n}=e,r=jn(t);return s.jsx(WP,{...r,...n})};lM.displayName=zV;var cM="DropdownMenuContent",uM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sM(cM,n),a=jn(n),i=x.useRef(!1);return s.jsx(KP,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:t,onCloseAutoFocus:le(e.onCloseAutoFocus,l=>{var c;i.current||(c=o.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!o.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uM.displayName=cM;var VV="DropdownMenuGroup",BV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(qP,{...o,...r,ref:t})});BV.displayName=VV;var UV="DropdownMenuLabel",dM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(YP,{...o,...r,ref:t})});dM.displayName=UV;var HV="DropdownMenuItem",fM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(GP,{...o,...r,ref:t})});fM.displayName=HV;var WV="DropdownMenuCheckboxItem",mM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(XP,{...o,...r,ref:t})});mM.displayName=WV;var KV="DropdownMenuRadioGroup",qV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(QP,{...o,...r,ref:t})});qV.displayName=KV;var YV="DropdownMenuRadioItem",hM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(JP,{...o,...r,ref:t})});hM.displayName=YV;var GV="DropdownMenuItemIndicator",pM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(ZP,{...o,...r,ref:t})});pM.displayName=GV;var XV="DropdownMenuSeparator",gM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(eM,{...o,...r,ref:t})});gM.displayName=XV;var QV="DropdownMenuArrow",JV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(tM,{...o,...r,ref:t})});JV.displayName=QV;var ZV="DropdownMenuSubTrigger",xM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(nM,{...o,...r,ref:t})});xM.displayName=ZV;var e9="DropdownMenuSubContent",yM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=jn(n);return s.jsx(rM,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yM.displayName=e9;var t9=oM,n9=iM,r9=lM,vM=uM,wM=dM,bM=fM,jM=mM,NM=hM,CM=pM,SM=gM,kM=xM,EM=yM;const a0=t9,i0=n9,s9=x.forwardRef(({className:e,inset:t,children:n,...r},o)=>s.jsxs(kM,{ref:o,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(wv,{className:"ml-auto h-4 w-4"})]}));s9.displayName=kM.displayName;const o9=x.forwardRef(({className:e,...t},n)=>s.jsx(EM,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));o9.displayName=EM.displayName;const fh=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(r9,{children:s.jsx(vM,{ref:r,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));fh.displayName=vM.displayName;const wo=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(bM,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));wo.displayName=bM.displayName;const a9=x.forwardRef(({className:e,children:t,checked:n,...r},o)=>s.jsxs(jM,{ref:o,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CM,{children:s.jsx(Fr,{className:"h-4 w-4"})})}),t]}));a9.displayName=jM.displayName;const i9=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(NM,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CM,{children:s.jsx(o2,{className:"h-2 w-2 fill-current"})})}),t]}));i9.displayName=NM.displayName;const PM=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(wM,{ref:r,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));PM.displayName=wM.displayName;const mh=x.forwardRef(({className:e,...t},n)=>s.jsx(SM,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));mh.displayName=SM.displayName;function l9(){const t=window.location.pathname.match(/\/kaos-ui\/(v[0-9.]+|dev|latest)\//);return t?t[1]:"dev"}function Vp(e){const t=e==="latest"?"/kaos-ui/latest/":e==="dev"?"/kaos-ui/dev/":`/kaos-ui/${e}/`;window.location.hostname!=="localhost"?window.location.href=`${window.location.origin}${t}`:console.log(`Would navigate to ${t} in production`)}function c9({collapsed:e=!1}){const[t,n]=x.useState([]),[r,o]=x.useState(""),[a,i]=x.useState(!0),l=l9();x.useEffect(()=>{(async()=>{try{const f=window.location.hostname==="localhost"?"":"/kaos-ui";if(f){const d=await fetch(`${f}/versions.json`);if(d.ok){const m=await d.json();n(m.versions),o(m.latest)}else console.debug("versions.json not found, using defaults"),n([]),o("")}else n([]),o("")}catch(f){console.debug("Failed to fetch versions:",f),n([]),o("")}finally{i(!1)}})()},[]),t.length>0;const c=l==="latest"&&r?`latest (${r})`:l;return s.jsxs(a0,{children:[s.jsx(i0,{asChild:!0,children:s.jsxs("button",{className:J("flex items-center gap-2 text-xs transition-colors w-full","text-muted-foreground hover:text-foreground","focus:outline-none",e&&"justify-center"),title:`Current version: ${c}`,children:[s.jsx(mu,{className:"h-3.5 w-3.5 flex-shrink-0"}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex-1 text-left",children:["Current version: ",s.jsx("span",{className:"font-mono",children:c})]}),s.jsx(bv,{className:"h-3 w-3 opacity-50"})]})]})}),s.jsxs(fh,{align:"start",side:"top",className:"w-48",sideOffset:8,children:[s.jsxs(wo,{onClick:()=>Vp("dev"),className:J("font-mono text-xs cursor-pointer",l==="dev"&&"bg-primary/10 text-primary"),children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-yellow-500"}),"dev"]}),l==="dev"&&s.jsx("span",{className:"ml-auto text-[10px] text-muted-foreground",children:"(current)"})]}),r&&s.jsxs(wo,{onClick:()=>Vp("latest"),className:J("font-mono text-xs cursor-pointer",l==="latest"&&"bg-primary/10 text-primary"),children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"latest (",r,")"]}),l==="latest"&&s.jsx("span",{className:"ml-auto text-[10px] text-muted-foreground",children:"(current)"})]}),t.length>0&&s.jsx(mh,{}),t.map(u=>s.jsxs(wo,{onClick:()=>Vp(`v${u}`),className:J("font-mono text-xs cursor-pointer",l===`v${u}`&&"bg-primary/10 text-primary"),children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-blue-500"}),"v",u]}),l===`v${u}`&&s.jsx("span",{className:"ml-auto text-[10px] text-muted-foreground",children:"(current)"})]},u)),!a&&t.length===0&&!r&&s.jsx(wo,{disabled:!0,className:"text-xs text-muted-foreground",children:"No releases yet"})]})]})}const u9=[{title:"Overview",items:[{id:"overview",label:"Summary",icon:NO},{id:"visual-map",label:"Visual Map",icon:SO}]},{title:"KAOS Resources",items:[{id:"model-apis",label:"Model APIs",icon:Wt},{id:"mcp-servers",label:"MCP Servers",icon:kt},{id:"agents",label:"Agents",icon:ln}]},{title:"Kubernetes",items:[{id:"pods",label:"Pods",icon:os},{id:"secrets",label:"Secrets",icon:Ro}]},{title:"Monitoring",items:[{id:"kaos-system",label:"KAOS System",icon:yO},{id:"kaos-monitoring",label:"KAOS Observability",icon:Tr}]},{title:"Config",items:[{id:"settings",label:"Settings",icon:ka}]}];function d9({collapsed:e,onToggle:t}){const{activeTab:n,setActiveTab:r,modelAPIs:o,mcpServers:a,agents:i,pods:l,secrets:c}=ot(),u=Vt(),f=pl(),d=g=>{switch(g){case"model-apis":return o.length;case"mcp-servers":return a.length;case"agents":return i.length;case"pods":return l.length;case"secrets":return c.length;default:return}},m=g=>{switch(g){case"model-apis":return"modelapis";case"mcp-servers":return"mcpservers";case"visual-map":return"visual-map";case"overview":return"overview";default:return g}},h=g=>{r(g);const b=f.pathname;b!=="/"&&!b.startsWith("/?")&&u(`/?tab=${m(g)}`)},y=g=>{const b=n===g.id,p=d(g.id),v=g.icon;return s.jsxs("button",{onClick:()=>h(g.id),className:J("flex items-center gap-3 w-full px-3 py-2.5 rounded-lg transition-all duration-200 group",b?"bg-primary/10 text-primary border border-primary/20":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[s.jsx(v,{className:J("h-5 w-5 flex-shrink-0",b&&"text-primary")}),!e&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:g.label}),p!==void 0&&p>0&&s.jsx(Z,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:p})]})]},g.id)};return s.jsxs("aside",{className:J("flex flex-col h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300",e?"w-16":"w-64"),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[!e&&s.jsxs("button",{onClick:()=>h("overview"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",title:"Go to Summary",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary font-bold text-sm",children:"K"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-sm font-bold text-foreground",children:"KAOS"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"K8s Agent Orchestration"})]})]}),e&&s.jsx("button",{onClick:()=>h("overview"),className:"h-8 w-8 rounded-lg bg-primary/20 flex items-center justify-center hover:opacity-80 transition-opacity mx-auto",title:"Go to Summary",children:s.jsx("span",{className:"text-primary font-bold text-sm",children:"K"})}),s.jsx(G,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:e?s.jsx(wv,{className:"h-4 w-4"}):s.jsx(gO,{className:"h-4 w-4"})})]}),s.jsx("nav",{className:"flex-1 p-3 space-y-5 overflow-y-auto",children:u9.map(g=>s.jsxs("div",{className:"space-y-1",children:[!e&&s.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider px-3 mb-2",children:g.title}),g.items.map(y)]},g.title))}),s.jsxs("div",{className:"p-3 border-t border-sidebar-border space-y-2",children:[s.jsxs("div",{className:J("flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/30",e&&"justify-center"),children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),!e&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Connected to cluster"})]}),s.jsx("div",{className:J("flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/30",e&&"justify-center"),children:s.jsx(c9,{collapsed:e})})]})]})}const Bp=[{label:"Off",value:0},{label:"1s",value:1e3},{label:"5s",value:5e3},{label:"10s",value:1e4},{label:"30s",value:3e4},{label:"1m",value:6e4}];function f9(){const{autoRefreshEnabled:e,autoRefreshInterval:t,isRefreshing:n,nextRefreshTime:r,setAutoRefreshEnabled:o,setAutoRefreshInterval:a,setNextRefreshTime:i}=ot(),{refreshAll:l,startPolling:c,stopPolling:u,connected:f}=Et(),[d,m]=te.useState(null),h=Bp.find(p=>p.value===t)||Bp[4];te.useEffect(()=>{if(!e||!r){m(null);return}const p=()=>{const w=Math.max(0,r-Date.now());m(w)};p();const v=setInterval(p,100);return()=>clearInterval(v)},[e,r]);const y=p=>{u(),p===0?(o(!1),a(0),i(null)):(o(!0),a(p),i(Date.now()+p),c(p))},g=async()=>{f&&(await l(),e&&t>0&&(u(),i(Date.now()+t),c(t)))},b=p=>{if(p<=0)return"0.0s";const v=p/1e3;return v<10?`${v.toFixed(1)}s`:`${Math.round(v)}s`};return s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:g,disabled:!f||n,className:"h-8 px-2 text-muted-foreground hover:text-foreground",title:"Refresh now",children:s.jsx(Ge,{className:J("h-4 w-4",n&&"animate-spin")})}),e&&d!==null&&s.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-muted-foreground px-2 min-w-[60px]",children:[s.jsx(RO,{className:"h-3 w-3"}),s.jsx("span",{className:"font-mono tabular-nums",children:b(d)})]}),s.jsxs(a0,{children:[s.jsx(i0,{asChild:!0,children:s.jsxs(G,{variant:"outline",size:"sm",className:J("h-8 gap-1 text-xs font-medium",e&&"border-primary/50 text-primary"),disabled:!f,children:[e&&s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),e?h.label:"Off",s.jsx(fu,{className:"h-3 w-3 opacity-50"})]})}),s.jsxs(fh,{align:"end",className:"w-28",children:[Bp.map(p=>s.jsx(wo,{onClick:()=>y(p.value),className:J("text-sm",(e?t:0)===p.value&&"bg-accent"),children:p.label},p.value)),s.jsx(mh,{}),s.jsx("div",{className:"px-2 py-1.5 text-[10px] text-muted-foreground",children:"Auto-refresh interval"})]})]})]})}function m9(){const{connected:e,connecting:t,namespace:n,namespaces:r,baseUrl:o,error:a,switchNamespace:i}=Et(),l=Vt(),c=pl();o&&o.length>30&&o.slice(0,30)+"";const u=s.jsxs("div",{className:"flex items-center gap-2",children:[t?s.jsx("div",{className:"h-2 w-2 rounded-full bg-warning animate-pulse"}):e?s.jsx("div",{className:"relative flex h-2 w-2",children:s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})}):s.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),s.jsx("span",{className:"font-medium hidden md:inline",children:t?"Connecting...":e?n:"Disconnected"}),e&&s.jsx(fu,{className:"h-3 w-3 text-muted-foreground"})]});return e?s.jsxs(a0,{children:[s.jsx(Vf,{children:s.jsxs(ar,{children:[s.jsx(i0,{asChild:!0,children:s.jsx(ir,{asChild:!0,children:s.jsx("button",{className:J("flex items-center gap-2 px-3 py-1.5 rounded-md text-xs transition-colors","bg-success/10 text-success border border-success/20 hover:bg-success/20"),children:u})})}),s.jsx(Un,{side:"bottom",className:"max-w-xs bg-popover border border-border",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:"Connected"})]}),s.jsxs("div",{className:"text-muted-foreground text-xs",children:[s.jsx("strong",{children:"Namespace:"})," ",n]}),s.jsxs("div",{className:"text-muted-foreground text-xs break-all",children:[s.jsx("strong",{children:"URL:"})," ",o]}),s.jsx("div",{className:"text-muted-foreground text-xs italic",children:"Click to switch namespace"})]})})]})}),s.jsxs(fh,{align:"center",className:"w-48 bg-popover border border-border z-[100]",children:[s.jsx(PM,{className:"text-xs text-muted-foreground",children:"Switch Namespace"}),s.jsx(mh,{}),r.length===0?s.jsx(wo,{disabled:!0,className:"text-muted-foreground",children:"No namespaces found"}):r.map(f=>s.jsx(wo,{onClick:()=>{i(f);const d=c.pathname;d.startsWith("/agents/")?l("/?tab=agents"):d.startsWith("/mcpservers/")?l("/?tab=mcpservers"):d.startsWith("/modelapis/")?l("/?tab=modelapis"):d.startsWith("/pods/")&&l("/?tab=pods")},className:J("font-mono text-sm cursor-pointer",f===n&&"bg-accent text-accent-foreground"),children:f},f))]})]}):s.jsx(Vf,{children:s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx("div",{className:J("flex items-center gap-2 px-3 py-1.5 rounded-md text-xs cursor-default transition-colors","bg-muted text-muted-foreground border border-border"),children:u})}),s.jsx(Un,{side:"bottom",className:"max-w-xs bg-popover border border-border",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:t?"Connecting":"Disconnected"})]}),a&&s.jsxs("div",{className:"text-destructive text-xs",children:[s.jsx("strong",{children:"Error:"})," ",a]})]})})]})})}function h9({className:e}){const{theme:t,setTheme:n,resolvedTheme:r}=Mv(),[o,a]=x.useState(!1);if(x.useEffect(()=>{a(!0)},[]),!o)return s.jsxs("div",{className:J("flex items-center gap-1 p-1 rounded-full bg-muted border border-border",e),children:[s.jsx("div",{className:"h-7 w-7 rounded-full"}),s.jsx("div",{className:"h-7 w-7 rounded-full"})]});const l=(t==="system"?r:t)==="dark",c=()=>{n(l?"light":"dark")};return s.jsxs("button",{onClick:c,className:J("flex items-center gap-1 p-1 rounded-full bg-muted border border-border cursor-pointer hover:bg-muted/80 transition-colors",e),title:`Switch to ${l?"light":"dark"} mode`,children:[s.jsx("div",{className:J("h-7 w-7 rounded-full flex items-center justify-center transition-colors",!l&&"bg-background shadow-sm"),children:s.jsx(f2,{className:"h-4 w-4"})}),s.jsx("div",{className:J("h-7 w-7 rounded-full flex items-center justify-center transition-colors",l&&"bg-background shadow-sm"),children:s.jsx(i2,{className:"h-4 w-4"})})]})}const Re=x.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Re.displayName="Input";function p9(){const[e,t]=x.useState(!1),[n,r]=x.useState(""),o=Vt(),{modelAPIs:a,mcpServers:i,agents:l,pods:c,setActiveTab:u}=ot();x.useEffect(()=>{const g=b=>{(b.metaKey||b.ctrlKey)&&b.key==="k"&&(b.preventDefault(),t(!0)),b.key==="Escape"&&t(!1)};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[]);const f=x.useMemo(()=>{if(!n.trim())return[];const g=n.toLowerCase(),b=[];return a.forEach(p=>{var v,w,C;(p.metadata.name.toLowerCase().includes(g)||(v=p.metadata.namespace)!=null&&v.toLowerCase().includes(g)||(w=p.spec.mode)!=null&&w.toLowerCase().includes(g))&&b.push({type:"modelapi",name:p.metadata.name,namespace:p.metadata.namespace||"default",status:(C=p.status)==null?void 0:C.phase})}),i.forEach(p=>{var v,w,C;(p.metadata.name.toLowerCase().includes(g)||(v=p.metadata.namespace)!=null&&v.toLowerCase().includes(g)||(w=p.spec.type)!=null&&w.toLowerCase().includes(g))&&b.push({type:"mcpserver",name:p.metadata.name,namespace:p.metadata.namespace||"default",status:(C=p.status)==null?void 0:C.phase})}),l.forEach(p=>{var v,w,C;(p.metadata.name.toLowerCase().includes(g)||(v=p.metadata.namespace)!=null&&v.toLowerCase().includes(g)||(w=p.spec.modelAPI)!=null&&w.toLowerCase().includes(g))&&b.push({type:"agent",name:p.metadata.name,namespace:p.metadata.namespace||"default",status:(C=p.status)==null?void 0:C.phase})}),c.forEach(p=>{var v,w;(p.metadata.name.toLowerCase().includes(g)||(v=p.metadata.namespace)!=null&&v.toLowerCase().includes(g))&&b.push({type:"pod",name:p.metadata.name,namespace:p.metadata.namespace||"default",status:(w=p.status)==null?void 0:w.phase})}),b.slice(0,20)},[n,a,i,l,c]),d=g=>{switch(t(!1),r(""),g.type){case"modelapi":o(`/modelapis/${g.namespace}/${g.name}`);break;case"mcpserver":o(`/mcpservers/${g.namespace}/${g.name}`);break;case"agent":o(`/agents/${g.namespace}/${g.name}`);break;case"pod":u("pods");break}},m=g=>{switch(g){case"modelapi":return Wt;case"mcpserver":return kt;case"agent":return ln;case"pod":return os}},h=g=>{switch(g){case"modelapi":return"ModelAPI";case"mcpserver":return"MCPServer";case"agent":return"Agent";case"pod":return"Pod"}},y=g=>{switch(g){case"Running":case"Ready":return"success";case"Pending":case"Waiting":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative cursor-pointer",onClick:()=>t(!0),children:[s.jsx(fc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Re,{placeholder:"Search resources... (Ctrl+K)",className:"pl-9 bg-muted/50 border-transparent focus:border-primary h-9 cursor-pointer",readOnly:!0,value:""})]})}),s.jsx(Bs,{open:e,onOpenChange:t,children:s.jsxs(ms,{className:"sm:max-w-[550px] p-0",children:[s.jsxs(hs,{className:"p-4 pb-0",children:[s.jsx(ps,{className:"sr-only",children:"Search Resources"}),s.jsxs("div",{className:"relative",children:[s.jsx(fc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Re,{placeholder:"Search ModelAPIs, MCPServers, Agents, Pods...",className:"pl-9 pr-9",value:n,onChange:g=>r(g.target.value),autoFocus:!0}),n&&s.jsx(G,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>r(""),children:s.jsx(Lm,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"border-t",children:n.trim()===""?s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(fc,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Start typing to search resources"})]}):f.length===0?s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:s.jsxs("p",{className:"text-sm",children:['No results found for "',n,'"']})}):s.jsx(Je,{className:"max-h-[400px]",children:s.jsx("div",{className:"p-2",children:f.map((g,b)=>{const p=m(g.type);return s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 text-left transition-colors",onClick:()=>d(g),children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(p,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm truncate",children:g.name}),s.jsx(Z,{variant:"outline",className:"text-[10px] shrink-0",children:h(g.type)})]}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:g.namespace})]}),g.status&&s.jsx(Z,{variant:y(g.status),className:"shrink-0",children:g.status})]},`${g.type}-${g.namespace}-${g.name}-${b}`)})})})})]})})]})}function g9(){return s.jsxs("header",{className:"h-14 border-b border-border bg-card/50 backdrop-blur-sm flex items-center justify-between px-4 gap-4",children:[s.jsx(p9,{}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(m9,{}),s.jsx(f9,{}),s.jsx(h9,{}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-foreground",asChild:!0,children:s.jsx("a",{href:"https://github.com/axsaucedo/kaos",target:"_blank",rel:"noopener noreferrer",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})})]})]})}function x9(){const[e,t]=x.useState(!1);return s.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden",children:[s.jsx(d9,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(g9,{}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(Jz,{})})]})]})}function gd({title:e,count:t,icon:n,color:r,running:o,pending:a,error:i,onClick:l}){return s.jsxs("div",{className:"bg-card rounded-xl border border-border p-5 hover:border-primary/30 transition-all duration-300 group cursor-pointer",onClick:l,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:J("h-12 w-12 rounded-xl flex items-center justify-center transition-all duration-300",`bg-${r}/10 group-hover:bg-${r}/20`),style:{backgroundColor:`hsl(var(--${r}) / 0.1)`},children:s.jsx(n,{className:"h-6 w-6",style:{color:`hsl(var(--${r}))`}})}),s.jsxs(Z,{variant:"secondary",className:"text-xs",children:[t," total"]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e}),s.jsx(pO,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(jv,{className:"h-3.5 w-3.5 text-success"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:o})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(cr,{className:"h-3.5 w-3.5 text-warning"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:a})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(st,{className:"h-3.5 w-3.5 text-destructive"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:i})]})]})]})}function y9({name:e,namespace:t,type:n,status:r,icon:o,onClick:a}){const i={modelapi:"modelapi",mcpserver:"mcpserver",agent:"agent",pod:"pod-color"},l=c=>{switch(c){case"Running":case"Ready":return"success";case"Pending":case"Waiting":return"warning";case"Error":case"Failed":return"error";default:return"secondary"}};return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 hover:bg-muted/50 cursor-pointer transition-colors",onClick:a,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`h-8 w-8 rounded-lg bg-${i[n]}/20 flex items-center justify-center`,style:{backgroundColor:`hsl(var(--${i[n]}) / 0.2)`},children:s.jsx(o,{className:"h-4 w-4",style:{color:`hsl(var(--${i[n]}))`}})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:e}),t&&s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:t})]})]}),s.jsx(Z,{variant:l(r),children:r||"Unknown"})]})}function v9({log:e}){const t={info:"text-primary",warn:"text-warning",error:"text-destructive",debug:"text-muted-foreground"},r={info:Tr,warn:cr,error:st,debug:Tr}[e.level]||Tr,o=t[e.level]||"text-muted-foreground";return s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/30 transition-colors",children:[s.jsx("div",{className:J("mt-0.5",o),children:s.jsx(r,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-foreground truncate",children:e.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.resourceName&&s.jsxs(Z,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:[e.resourceKind,"/",e.resourceName]}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]})]})]})}function T1(){const e=Vt(),{modelAPIs:t,mcpServers:n,agents:r,pods:o,logs:a,setActiveTab:i}=ot(),l=(g,b="status.phase")=>{const p=g.filter(C=>{var j;const N=(j=C.status)==null?void 0:j.phase;return N==="Running"||N==="Ready"}).length,v=g.filter(C=>{var j;const N=(j=C.status)==null?void 0:j.phase;return N==="Pending"||N==="Waiting"}).length,w=g.filter(C=>{var j;const N=(j=C.status)==null?void 0:j.phase;return N==="Error"||N==="Failed"}).length;return{running:p,pending:v,error:w}},c=l(t),u=l(n),f=l(r),d=l(o),m=g=>{i(g)},h=(g,b,p)=>{switch(g){case"modelapi":e(`/modelapis/${b}/${p}`);break;case"mcpserver":e(`/mcpservers/${b}/${p}`);break;case"agent":e(`/agents/${b}/${p}`);break}},y=[...t.map(g=>({...g,resourceType:"modelapi",icon:Wt})),...n.map(g=>({...g,resourceType:"mcpserver",icon:kt})),...r.map(g=>({...g,resourceType:"agent",icon:ln}))].sort((g,b)=>{const p=new Date(g.metadata.creationTimestamp||0).getTime();return new Date(b.metadata.creationTimestamp||0).getTime()-p}).slice(0,6);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Dashboard Overview"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor and manage your agentic system resources"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(gd,{title:"Model APIs",count:t.length,icon:Wt,color:"modelapi-color",...c,onClick:()=>m("model-apis")}),s.jsx(gd,{title:"MCP Servers",count:n.length,icon:kt,color:"mcpserver-color",...u,onClick:()=>m("mcp-servers")}),s.jsx(gd,{title:"Agents",count:r.length,icon:ln,color:"agent-color",...f,onClick:()=>m("agents")}),s.jsx(gd,{title:"Pods",count:o.length,icon:os,color:"pod-color",...d,onClick:()=>m("pods")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-card rounded-xl border border-border p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Resources"}),s.jsxs(Z,{variant:"secondary",children:[t.length+n.length+r.length," total"]})]}),s.jsx("div",{className:"space-y-2",children:y.length>0?y.map(g=>{var b;return s.jsx(y9,{name:g.metadata.name,namespace:g.metadata.namespace,type:g.resourceType,status:(b=g.status)==null?void 0:b.phase,icon:g.icon,onClick:()=>h(g.resourceType,g.metadata.namespace||"default",g.metadata.name)},`${g.resourceType}-${g.metadata.name}`)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:"No resources found"}),s.jsx(G,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>m("visual-editor"),children:"Create Resource"})]})})]}),s.jsxs("div",{className:"bg-card rounded-xl border border-border p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),s.jsxs(Z,{variant:"secondary",children:[a.length," events"]})]}),s.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto",children:a.length>0?a.slice(0,10).map((g,b)=>s.jsx(v9,{log:g},b)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tr,{className:"h-8 w-8 mx-auto text-muted-foreground/50 mb-2"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No activity yet"})]})})]})]})]})}function It(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=It(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var w9={value:()=>{}};function hh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jd(n)}function Jd(e){this._=e}function b9(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jd.prototype=hh.prototype={constructor:Jd,on:function(e,t){var n=this._,r=b9(e+"",n),o,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((o=(e=r[a]).type)&&(o=j9(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=r[a]).type)n[o]=A1(n[o],e.name,t);else if(t==null)for(o in n)n[o]=A1(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jd(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};function j9(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function A1(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=w9,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zx="http://www.w3.org/1999/xhtml";const _1={svg:"http://www.w3.org/2000/svg",xhtml:zx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ph(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_1.hasOwnProperty(t)?{space:_1[t],local:e}:e}function N9(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zx&&t.documentElement.namespaceURI===zx?t.createElement(e):t.createElementNS(n,e)}}function C9(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function MM(e){var t=ph(e);return(t.local?C9:N9)(t)}function S9(){}function l0(e){return e==null?S9:function(){return this.querySelector(e)}}function k9(e){typeof e!="function"&&(e=l0(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,l=r[o]=new Array(i),c,u,f=0;f<i;++f)(c=a[f])&&(u=e.call(c,c.__data__,f,a))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new Gn(r,this._parents)}function E9(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function P9(){return[]}function RM(e){return e==null?P9:function(){return this.querySelectorAll(e)}}function M9(e){return function(){return E9(e.apply(this,arguments))}}function R9(e){typeof e=="function"?e=M9(e):e=RM(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i=t[a],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(r.push(e.call(c,c.__data__,u,i)),o.push(c));return new Gn(r,o)}function TM(e){return function(){return this.matches(e)}}function AM(e){return function(t){return t.matches(e)}}var T9=Array.prototype.find;function A9(e){return function(){return T9.call(this.children,e)}}function _9(){return this.firstElementChild}function I9(e){return this.select(e==null?_9:A9(typeof e=="function"?e:AM(e)))}var D9=Array.prototype.filter;function L9(){return Array.from(this.children)}function O9(e){return function(){return D9.call(this.children,e)}}function $9(e){return this.selectAll(e==null?L9:O9(typeof e=="function"?e:AM(e)))}function F9(e){typeof e!="function"&&(e=TM(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,l=r[o]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Gn(r,this._parents)}function _M(e){return new Array(e.length)}function z9(){return new Gn(this._enter||this._groups.map(_M),this._parents)}function Yf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Yf.prototype={constructor:Yf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function V9(e){return function(){return e}}function B9(e,t,n,r,o,a){for(var i=0,l,c=t.length,u=a.length;i<u;++i)(l=t[i])?(l.__data__=a[i],r[i]=l):n[i]=new Yf(e,a[i]);for(;i<c;++i)(l=t[i])&&(o[i]=l)}function U9(e,t,n,r,o,a,i){var l,c,u=new Map,f=t.length,d=a.length,m=new Array(f),h;for(l=0;l<f;++l)(c=t[l])&&(m[l]=h=i.call(c,c.__data__,l,t)+"",u.has(h)?o[l]=c:u.set(h,c));for(l=0;l<d;++l)h=i.call(e,a[l],l,a)+"",(c=u.get(h))?(r[l]=c,c.__data__=a[l],u.delete(h)):n[l]=new Yf(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(m[l])===c&&(o[l]=c)}function H9(e){return e.__data__}function W9(e,t){if(!arguments.length)return Array.from(this,H9);var n=t?U9:B9,r=this._parents,o=this._groups;typeof e!="function"&&(e=V9(e));for(var a=o.length,i=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=r[u],d=o[u],m=d.length,h=K9(e.call(f,f&&f.__data__,u,r)),y=h.length,g=l[u]=new Array(y),b=i[u]=new Array(y),p=c[u]=new Array(m);n(f,d,g,b,p,h,t);for(var v=0,w=0,C,N;v<y;++v)if(C=g[v]){for(v>=w&&(w=v+1);!(N=b[w])&&++w<y;);C._next=N||null}}return i=new Gn(i,r),i._enter=l,i._exit=c,i}function K9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q9(){return new Gn(this._exit||this._groups.map(_M),this._parents)}function Y9(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function G9(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),l=new Array(o),c=0;c<i;++c)for(var u=n[c],f=r[c],d=u.length,m=l[c]=new Array(d),h,y=0;y<d;++y)(h=u[y]||f[y])&&(m[y]=h);for(;c<o;++c)l[c]=n[c];return new Gn(l,this._parents)}function X9(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],i;--o>=0;)(i=r[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function Q9(e){e||(e=J9);function t(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i=n[a],l=i.length,c=o[a]=new Array(l),u,f=0;f<l;++f)(u=i[f])&&(c[f]=u);c.sort(t)}return new Gn(o,this._parents).order()}function J9(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Z9(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function eB(){return Array.from(this)}function tB(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null}function nB(){let e=0;for(const t of this)++e;return e}function rB(){return!this.node()}function sB(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,i=o.length,l;a<i;++a)(l=o[a])&&e.call(l,l.__data__,a,o);return this}function oB(e){return function(){this.removeAttribute(e)}}function aB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iB(e,t){return function(){this.setAttribute(e,t)}}function lB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cB(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function uB(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dB(e,t){var n=ph(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?aB:oB:typeof t=="function"?n.local?uB:cB:n.local?lB:iB)(n,t))}function IM(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fB(e){return function(){this.style.removeProperty(e)}}function mB(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hB(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pB(e,t,n){return arguments.length>1?this.each((t==null?fB:typeof t=="function"?hB:mB)(e,t,n??"")):Xi(this.node(),e)}function Xi(e,t){return e.style.getPropertyValue(t)||IM(e).getComputedStyle(e,null).getPropertyValue(t)}function gB(e){return function(){delete this[e]}}function xB(e,t){return function(){this[e]=t}}function yB(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function vB(e,t){return arguments.length>1?this.each((t==null?gB:typeof t=="function"?yB:xB)(e,t)):this.node()[e]}function DM(e){return e.trim().split(/^|\s+/)}function c0(e){return e.classList||new LM(e)}function LM(e){this._node=e,this._names=DM(e.getAttribute("class")||"")}LM.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function OM(e,t){for(var n=c0(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function $M(e,t){for(var n=c0(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function wB(e){return function(){OM(this,e)}}function bB(e){return function(){$M(this,e)}}function jB(e,t){return function(){(t.apply(this,arguments)?OM:$M)(this,e)}}function NB(e,t){var n=DM(e+"");if(arguments.length<2){for(var r=c0(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?jB:t?wB:bB)(n,t))}function CB(){this.textContent=""}function SB(e){return function(){this.textContent=e}}function kB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function EB(e){return arguments.length?this.each(e==null?CB:(typeof e=="function"?kB:SB)(e)):this.node().textContent}function PB(){this.innerHTML=""}function MB(e){return function(){this.innerHTML=e}}function RB(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TB(e){return arguments.length?this.each(e==null?PB:(typeof e=="function"?RB:MB)(e)):this.node().innerHTML}function AB(){this.nextSibling&&this.parentNode.appendChild(this)}function _B(){return this.each(AB)}function IB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function DB(){return this.each(IB)}function LB(e){var t=typeof e=="function"?e:MM(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function OB(){return null}function $B(e,t){var n=typeof e=="function"?e:MM(e),r=t==null?OB:typeof t=="function"?t:l0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function FB(){var e=this.parentNode;e&&e.removeChild(this)}function zB(){return this.each(FB)}function VB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UB(e){return this.select(e?BB:VB)}function HB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function WB(e){return function(t){e.call(this,t,this.__data__)}}function KB(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function qB(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function YB(e,t,n){return function(){var r=this.__on,o,a=WB(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function GB(e,t,n){var r=KB(e+""),o,a=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(o=0,f=l[c];o<a;++o)if((i=r[o]).type===f.type&&i.name===f.name)return f.value}return}for(l=t?YB:qB,o=0;o<a;++o)this.each(l(r[o],t,n));return this}function FM(e,t,n){var r=IM(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function XB(e,t){return function(){return FM(this,e,t)}}function QB(e,t){return function(){return FM(this,e,t.apply(this,arguments))}}function JB(e,t){return this.each((typeof t=="function"?QB:XB)(e,t))}function*ZB(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length,i;o<a;++o)(i=r[o])&&(yield i)}var zM=[null];function Gn(e,t){this._groups=e,this._parents=t}function ku(){return new Gn([[document.documentElement]],zM)}function eU(){return this}Gn.prototype=ku.prototype={constructor:Gn,select:k9,selectAll:R9,selectChild:I9,selectChildren:$9,filter:F9,data:W9,enter:z9,exit:q9,join:Y9,merge:G9,selection:eU,order:X9,sort:Q9,call:Z9,nodes:eB,node:tB,size:nB,empty:rB,each:sB,attr:dB,style:pB,property:vB,classed:NB,text:EB,html:TB,raise:_B,lower:DB,append:LB,insert:$B,remove:zB,clone:UB,datum:HB,on:GB,dispatch:JB,[Symbol.iterator]:ZB};function Vn(e){return typeof e=="string"?new Gn([[document.querySelector(e)]],[document.documentElement]):new Gn([[e]],zM)}function tU(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nr(e,t){if(e=tU(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const nU={passive:!1},Wc={capture:!0,passive:!1};function Up(e){e.stopImmediatePropagation()}function Si(e){e.preventDefault(),e.stopImmediatePropagation()}function VM(e){var t=e.document.documentElement,n=Vn(e).on("dragstart.drag",Si,Wc);"onselectstart"in t?n.on("selectstart.drag",Si,Wc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function BM(e,t){var n=e.document.documentElement,r=Vn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Si,Wc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xd=e=>()=>e;function Vx(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:i,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Vx.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function rU(e){return!e.ctrlKey&&!e.button}function sU(){return this.parentNode}function oU(e,t){return t??{x:e.x,y:e.y}}function aU(){return navigator.maxTouchPoints||"ontouchstart"in this}function UM(){var e=rU,t=sU,n=oU,r=aU,o={},a=hh("start","drag","end"),i=0,l,c,u,f,d=0;function m(C){C.on("mousedown.drag",h).filter(r).on("touchstart.drag",b).on("touchmove.drag",p,nU).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(C,N){if(!(f||!e.call(this,C,N))){var j=w(this,t.call(this,C,N),C,N,"mouse");j&&(Vn(C.view).on("mousemove.drag",y,Wc).on("mouseup.drag",g,Wc),VM(C.view),Up(C),u=!1,l=C.clientX,c=C.clientY,j("start",C))}}function y(C){if(Si(C),!u){var N=C.clientX-l,j=C.clientY-c;u=N*N+j*j>d}o.mouse("drag",C)}function g(C){Vn(C.view).on("mousemove.drag mouseup.drag",null),BM(C.view,u),Si(C),o.mouse("end",C)}function b(C,N){if(e.call(this,C,N)){var j=C.changedTouches,S=t.call(this,C,N),P=j.length,M,E;for(M=0;M<P;++M)(E=w(this,S,C,N,j[M].identifier,j[M]))&&(Up(C),E("start",C,j[M]))}}function p(C){var N=C.changedTouches,j=N.length,S,P;for(S=0;S<j;++S)(P=o[N[S].identifier])&&(Si(C),P("drag",C,N[S]))}function v(C){var N=C.changedTouches,j=N.length,S,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),S=0;S<j;++S)(P=o[N[S].identifier])&&(Up(C),P("end",C,N[S]))}function w(C,N,j,S,P,M){var E=a.copy(),k=Nr(M||j,N),T,D,R;if((R=n.call(C,new Vx("beforestart",{sourceEvent:j,target:m,identifier:P,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:E}),S))!=null)return T=R.x-k[0]||0,D=R.y-k[1]||0,function $(L,F,_){var I=k,A;switch(L){case"start":o[P]=$,A=i++;break;case"end":delete o[P],--i;case"drag":k=Nr(_||F,N),A=i;break}E.call(L,C,new Vx(L,{sourceEvent:F,subject:R,target:m,identifier:P,active:A,x:k[0]+T,y:k[1]+D,dx:k[0]-I[0],dy:k[1]-I[1],dispatch:E}),S)}}return m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:xd(!!C),m):e},m.container=function(C){return arguments.length?(t=typeof C=="function"?C:xd(C),m):t},m.subject=function(C){return arguments.length?(n=typeof C=="function"?C:xd(C),m):n},m.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:xd(!!C),m):r},m.on=function(){var C=a.on.apply(a,arguments);return C===a?m:C},m.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,m):Math.sqrt(d)},m}function u0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Eu(){}var Kc=.7,Gf=1/Kc,ki="\\s*([+-]?\\d+)\\s*",qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iU=/^#([0-9a-f]{3,8})$/,lU=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),cU=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),uU=new RegExp(`^rgba\\(${ki},${ki},${ki},${qc}\\)$`),dU=new RegExp(`^rgba\\(${is},${is},${is},${qc}\\)$`),fU=new RegExp(`^hsl\\(${qc},${is},${is}\\)$`),mU=new RegExp(`^hsla\\(${qc},${is},${is},${qc}\\)$`),I1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u0(Eu,Ma,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:D1,formatHex:D1,formatHex8:hU,formatHsl:pU,formatRgb:L1,toString:L1});function D1(){return this.rgb().formatHex()}function hU(){return this.rgb().formatHex8()}function pU(){return WM(this).formatHsl()}function L1(){return this.rgb().formatRgb()}function Ma(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?O1(t):n===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lU.exec(e))?new Mn(t[1],t[2],t[3],1):(t=cU.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uU.exec(e))?yd(t[1],t[2],t[3],t[4]):(t=dU.exec(e))?yd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fU.exec(e))?z1(t[1],t[2]/100,t[3]/100,1):(t=mU.exec(e))?z1(t[1],t[2]/100,t[3]/100,t[4]):I1.hasOwnProperty(e)?O1(I1[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function O1(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function yd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mn(e,t,n,r)}function gU(e){return e instanceof Eu||(e=Ma(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function Bx(e,t,n,r){return arguments.length===1?gU(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}u0(Mn,Bx,HM(Eu,{brighter(e){return e=e==null?Gf:Math.pow(Gf,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kc:Math.pow(Kc,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(ya(this.r),ya(this.g),ya(this.b),Xf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$1,formatHex:$1,formatHex8:xU,formatRgb:F1,toString:F1}));function $1(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}`}function xU(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}${ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function F1(){const e=Xf(this.opacity);return`${e===1?"rgb(":"rgba("}${ya(this.r)}, ${ya(this.g)}, ${ya(this.b)}${e===1?")":`, ${e})`}`}function Xf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ya(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ia(e){return e=ya(e),(e<16?"0":"")+e.toString(16)}function z1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sr(e,t,n,r)}function WM(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);if(e instanceof Eu||(e=Ma(e)),!e)return new Sr;if(e instanceof Sr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,l=a-o,c=(a+o)/2;return l?(t===a?i=(n-r)/l+(n<r)*6:n===a?i=(r-t)/l+2:i=(t-n)/l+4,l/=c<.5?a+o:2-a-o,i*=60):l=c>0&&c<1?0:i,new Sr(i,l,c,e.opacity)}function yU(e,t,n,r){return arguments.length===1?WM(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}u0(Sr,yU,HM(Eu,{brighter(e){return e=e==null?Gf:Math.pow(Gf,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kc:Math.pow(Kc,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Mn(Hp(e>=240?e-240:e+120,o,r),Hp(e,o,r),Hp(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Sr(V1(this.h),vd(this.s),vd(this.l),Xf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xf(this.opacity);return`${e===1?"hsl(":"hsla("}${V1(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function V1(e){return e=(e||0)%360,e<0?e+360:e}function vd(e){return Math.max(0,Math.min(1,e||0))}function Hp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const d0=e=>()=>e;function vU(e,t){return function(n){return e+n*t}}function wU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bU(e){return(e=+e)==1?KM:function(t,n){return n-t?wU(t,n,e):d0(isNaN(t)?n:t)}}function KM(e,t){var n=t-e;return n?vU(e,n):d0(isNaN(e)?t:e)}const Qf=function e(t){var n=bU(t);function r(o,a){var i=n((o=Bx(o)).r,(a=Bx(a)).r),l=n(o.g,a.g),c=n(o.b,a.b),u=KM(o.opacity,a.opacity);return function(f){return o.r=i(f),o.g=l(f),o.b=c(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function jU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function NU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CU(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=mc(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(l){for(i=0;i<r;++i)a[i]=o[i](l);return a}}function SU(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kU(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=mc(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var Ux=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wp=new RegExp(Ux.source,"g");function EU(e){return function(){return e}}function PU(e){return function(t){return e(t)+""}}function qM(e,t){var n=Ux.lastIndex=Wp.lastIndex=0,r,o,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Ux.exec(e))&&(o=Wp.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),l[i]?l[i]+=a:l[++i]=a),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,c.push({i,x:Jr(r,o)})),n=Wp.lastIndex;return n<t.length&&(a=t.slice(n),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?PU(c[0].x):EU(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function mc(e,t){var n=typeof t,r;return t==null||n==="boolean"?d0(t):(n==="number"?Jr:n==="string"?(r=Ma(t))?(t=r,Qf):qM:t instanceof Ma?Qf:t instanceof Date?SU:NU(t)?jU:Array.isArray(t)?CU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kU:Jr)(e,t)}var B1=180/Math.PI,Hx={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YM(e,t,n,r,o,a){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*B1,skewX:Math.atan(c)*B1,scaleX:i,scaleY:l}}var wd;function MU(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Hx:YM(t.a,t.b,t.c,t.d,t.e,t.f)}function RU(e){return e==null||(wd||(wd=document.createElementNS("http://www.w3.org/2000/svg","g")),wd.setAttribute("transform",e),!(e=wd.transform.baseVal.consolidate()))?Hx:(e=e.matrix,YM(e.a,e.b,e.c,e.d,e.e,e.f))}function GM(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function a(u,f,d,m,h,y){if(u!==d||f!==m){var g=h.push("translate(",null,t,null,n);y.push({i:g-4,x:Jr(u,d)},{i:g-2,x:Jr(f,m)})}else(d||m)&&h.push("translate("+d+t+m+n)}function i(u,f,d,m){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),m.push({i:d.push(o(d)+"rotate(",null,r)-2,x:Jr(u,f)})):f&&d.push(o(d)+"rotate("+f+r)}function l(u,f,d,m){u!==f?m.push({i:d.push(o(d)+"skewX(",null,r)-2,x:Jr(u,f)}):f&&d.push(o(d)+"skewX("+f+r)}function c(u,f,d,m,h,y){if(u!==d||f!==m){var g=h.push(o(h)+"scale(",null,",",null,")");y.push({i:g-4,x:Jr(u,d)},{i:g-2,x:Jr(f,m)})}else(d!==1||m!==1)&&h.push(o(h)+"scale("+d+","+m+")")}return function(u,f){var d=[],m=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,d,m),i(u.rotate,f.rotate,d,m),l(u.skewX,f.skewX,d,m),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,m),u=f=null,function(h){for(var y=-1,g=m.length,b;++y<g;)d[(b=m[y]).i]=b.x(h);return d.join("")}}}var TU=GM(MU,"px, ","px)","deg)"),AU=GM(RU,", ",")",")"),_U=1e-12;function U1(e){return((e=Math.exp(e))+1/e)/2}function IU(e){return((e=Math.exp(e))-1/e)/2}function DU(e){return((e=Math.exp(2*e))-1)/(e+1)}const Zd=function e(t,n,r){function o(a,i){var l=a[0],c=a[1],u=a[2],f=i[0],d=i[1],m=i[2],h=f-l,y=d-c,g=h*h+y*y,b,p;if(g<_U)p=Math.log(m/u)/t,b=function(S){return[l+S*h,c+S*y,u*Math.exp(t*S*p)]};else{var v=Math.sqrt(g),w=(m*m-u*u+r*g)/(2*u*n*v),C=(m*m-u*u-r*g)/(2*m*n*v),N=Math.log(Math.sqrt(w*w+1)-w),j=Math.log(Math.sqrt(C*C+1)-C);p=(j-N)/t,b=function(S){var P=S*p,M=U1(N),E=u/(n*v)*(M*DU(t*P+N)-IU(N));return[l+E*h,c+E*y,u*M/U1(t*P+N)]}}return b.duration=p*1e3*t/Math.SQRT2,b}return o.rho=function(a){var i=Math.max(.001,+a),l=i*i,c=l*l;return e(i,l,c)},o}(Math.SQRT2,2,4);var Qi=0,Jl=0,zl=0,XM=1e3,Jf,Zl,Zf=0,Ra=0,gh=0,Yc=typeof performance=="object"&&performance.now?performance:Date,QM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f0(){return Ra||(QM(LU),Ra=Yc.now()+gh)}function LU(){Ra=0}function em(){this._call=this._time=this._next=null}em.prototype=JM.prototype={constructor:em,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?f0():+n)+(t==null?0:+t),!this._next&&Zl!==this&&(Zl?Zl._next=this:Jf=this,Zl=this),this._call=e,this._time=n,Wx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wx())}};function JM(e,t,n){var r=new em;return r.restart(e,t,n),r}function OU(){f0(),++Qi;for(var e=Jf,t;e;)(t=Ra-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qi}function H1(){Ra=(Zf=Yc.now())+gh,Qi=Jl=0;try{OU()}finally{Qi=0,FU(),Ra=0}}function $U(){var e=Yc.now(),t=e-Zf;t>XM&&(gh-=t,Zf=e)}function FU(){for(var e,t=Jf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jf=n);Zl=e,Wx(r)}function Wx(e){if(!Qi){Jl&&(Jl=clearTimeout(Jl));var t=e-Ra;t>24?(e<1/0&&(Jl=setTimeout(H1,e-Yc.now()-gh)),zl&&(zl=clearInterval(zl))):(zl||(Zf=Yc.now(),zl=setInterval($U,XM)),Qi=1,QM(H1))}}function W1(e,t,n){var r=new em;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var zU=hh("start","end","cancel","interrupt"),VU=[],ZM=0,K1=1,Kx=2,ef=3,q1=4,qx=5,tf=6;function xh(e,t,n,r,o,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;BU(e,n,{name:t,index:r,group:o,on:zU,tween:VU,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ZM})}function m0(e,t){var n=Vr(e,t);if(n.state>ZM)throw new Error("too late; already scheduled");return n}function xs(e,t){var n=Vr(e,t);if(n.state>ef)throw new Error("too late; already running");return n}function Vr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function BU(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=JM(a,0,n.time);function a(u){n.state=K1,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var f,d,m,h;if(n.state!==K1)return c();for(f in r)if(h=r[f],h.name===n.name){if(h.state===ef)return W1(i);h.state===q1?(h.state=tf,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=tf,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(W1(function(){n.state===ef&&(n.state=q1,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Kx,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Kx){for(n.state=ef,o=new Array(m=n.tween.length),f=0,d=-1;f<m;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=qx,1),d=-1,m=o.length;++d<m;)o[d].call(e,f);n.state===qx&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=tf,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nf(e,t){var n=e.__transition,r,o,a=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){a=!1;continue}o=r.state>Kx&&r.state<qx,r.state=tf,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}a&&delete e.__transition}}function UU(e){return this.each(function(){nf(this,e)})}function HU(e,t){var n,r;return function(){var o=xs(this,e),a=o.tween;if(a!==n){r=n=a;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function WU(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=xs(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=l;break}c===u&&o.push(l)}a.tween=o}}function KU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Vr(this.node(),n).tween,o=0,a=r.length,i;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?HU:WU)(n,e,t))}function h0(e,t,n){var r=e._id;return e.each(function(){var o=xs(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Vr(o,r).value[t]}}function eR(e,t){var n;return(typeof t=="number"?Jr:t instanceof Ma?Qf:(n=Ma(t))?(t=n,Qf):qM)(e,t)}function qU(e){return function(){this.removeAttribute(e)}}function YU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GU(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function XU(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function QU(e,t,n){var r,o,a;return function(){var i,l=n(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,l)))}}function JU(e,t,n){var r,o,a;return function(){var i,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,l)))}}function ZU(e,t){var n=ph(e),r=n==="transform"?AU:eR;return this.attrTween(e,typeof t=="function"?(n.local?JU:QU)(n,r,h0(this,"attr."+e,t)):t==null?(n.local?YU:qU)(n):(n.local?XU:GU)(n,r,t))}function e7(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function t7(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function n7(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&t7(e,a)),n}return o._value=t,o}function r7(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&e7(e,a)),n}return o._value=t,o}function s7(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ph(e);return this.tween(n,(r.local?n7:r7)(r,t))}function o7(e,t){return function(){m0(this,e).delay=+t.apply(this,arguments)}}function a7(e,t){return t=+t,function(){m0(this,e).delay=t}}function i7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?o7:a7)(t,e)):Vr(this.node(),t).delay}function l7(e,t){return function(){xs(this,e).duration=+t.apply(this,arguments)}}function c7(e,t){return t=+t,function(){xs(this,e).duration=t}}function u7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l7:c7)(t,e)):Vr(this.node(),t).duration}function d7(e,t){if(typeof t!="function")throw new Error;return function(){xs(this,e).ease=t}}function f7(e){var t=this._id;return arguments.length?this.each(d7(t,e)):Vr(this.node(),t).ease}function m7(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xs(this,e).ease=n}}function h7(e){if(typeof e!="function")throw new Error;return this.each(m7(this._id,e))}function p7(e){typeof e!="function"&&(e=TM(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,l=r[o]=[],c,u=0;u<i;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new zs(r,this._parents,this._name,this._id)}function g7(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),l=0;l<a;++l)for(var c=t[l],u=n[l],f=c.length,d=i[l]=new Array(f),m,h=0;h<f;++h)(m=c[h]||u[h])&&(d[h]=m);for(;l<r;++l)i[l]=t[l];return new zs(i,this._parents,this._name,this._id)}function x7(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function y7(e,t,n){var r,o,a=x7(t)?m0:xs;return function(){var i=a(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function v7(e,t){var n=this._id;return arguments.length<2?Vr(this.node(),n).on.on(e):this.each(y7(n,e,t))}function w7(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function b7(){return this.on("end.remove",w7(this._id))}function j7(e){var t=this._name,n=this._id;typeof e!="function"&&(e=l0(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var l=r[i],c=l.length,u=a[i]=new Array(c),f,d,m=0;m<c;++m)(f=l[m])&&(d=e.call(f,f.__data__,m,l))&&("__data__"in f&&(d.__data__=f.__data__),u[m]=d,xh(u[m],t,n,m,u,Vr(f,n)));return new zs(a,this._parents,t,n)}function N7(e){var t=this._name,n=this._id;typeof e!="function"&&(e=RM(e));for(var r=this._groups,o=r.length,a=[],i=[],l=0;l<o;++l)for(var c=r[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var m=e.call(f,f.__data__,d,c),h,y=Vr(f,n),g=0,b=m.length;g<b;++g)(h=m[g])&&xh(h,t,n,g,m,y);a.push(m),i.push(f)}return new zs(a,i,t,n)}var C7=ku.prototype.constructor;function S7(){return new C7(this._groups,this._parents)}function k7(e,t){var n,r,o;return function(){var a=Xi(this,e),i=(this.style.removeProperty(e),Xi(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}function tR(e){return function(){this.style.removeProperty(e)}}function E7(e,t,n){var r,o=n+"",a;return function(){var i=Xi(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}function P7(e,t,n){var r,o,a;return function(){var i=Xi(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Xi(this,e))),i===c?null:i===r&&c===o?a:(o=c,a=t(r=i,l))}}function M7(e,t){var n,r,o,a="style."+t,i="end."+a,l;return function(){var c=xs(this,e),u=c.on,f=c.value[a]==null?l||(l=tR(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(i,o=f),c.on=r}}function R7(e,t,n){var r=(e+="")=="transform"?TU:eR;return t==null?this.styleTween(e,k7(e,r)).on("end.style."+e,tR(e)):typeof t=="function"?this.styleTween(e,P7(e,r,h0(this,"style."+e,t))).each(M7(this._id,e)):this.styleTween(e,E7(e,r,t),n).on("end.style."+e,null)}function T7(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function A7(e,t,n){var r,o;function a(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&T7(e,i,n)),r}return a._value=t,a}function _7(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,A7(e,t,n??""))}function I7(e){return function(){this.textContent=e}}function D7(e){return function(){var t=e(this);this.textContent=t??""}}function L7(e){return this.tween("text",typeof e=="function"?D7(h0(this,"text",e)):I7(e==null?"":e+""))}function O7(e){return function(t){this.textContent=e.call(this,t)}}function $7(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&O7(o)),t}return r._value=e,r}function F7(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$7(e))}function z7(){for(var e=this._name,t=this._id,n=nR(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var f=Vr(c,t);xh(c,e,n,u,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zs(r,this._parents,e,n)}function V7(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,i){var l={value:i},c={value:function(){--o===0&&a()}};n.each(function(){var u=xs(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),o===0&&a()})}var B7=0;function zs(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nR(){return++B7}var js=ku.prototype;zs.prototype={constructor:zs,select:j7,selectAll:N7,selectChild:js.selectChild,selectChildren:js.selectChildren,filter:p7,merge:g7,selection:S7,transition:z7,call:js.call,nodes:js.nodes,node:js.node,size:js.size,empty:js.empty,each:js.each,on:v7,attr:ZU,attrTween:s7,style:R7,styleTween:_7,text:L7,textTween:F7,remove:b7,tween:KU,delay:i7,duration:u7,ease:f7,easeVarying:h7,end:V7,[Symbol.iterator]:js[Symbol.iterator]};function U7(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var H7={time:null,delay:0,duration:250,ease:U7};function W7(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function K7(e){var t,n;e instanceof zs?(t=e._id,e=e._name):(t=nR(),(n=H7).time=f0(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],l=i.length,c,u=0;u<l;++u)(c=i[u])&&xh(c,e,t,u,i,n||W7(c,t));return new zs(r,this._parents,e,t)}ku.prototype.interrupt=UU;ku.prototype.transition=K7;const bd=e=>()=>e;function q7(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Rs(e,t,n){this.k=e,this.x=t,this.y=n}Rs.prototype={constructor:Rs,scale:function(e){return e===1?this:new Rs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Rs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yh=new Rs(1,0,0);rR.prototype=Rs.prototype;function rR(e){for(;!e.__zoom;)if(!(e=e.parentNode))return yh;return e.__zoom}function Kp(e){e.stopImmediatePropagation()}function Vl(e){e.preventDefault(),e.stopImmediatePropagation()}function Y7(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function G7(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Y1(){return this.__zoom||yh}function X7(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Q7(){return navigator.maxTouchPoints||"ontouchstart"in this}function J7(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function sR(){var e=Y7,t=G7,n=J7,r=X7,o=Q7,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Zd,u=hh("start","zoom","end"),f,d,m,h=500,y=150,g=0,b=10;function p(R){R.property("__zoom",Y1).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(R,$,L,F){var _=R.selection?R.selection():R;_.property("__zoom",Y1),R!==_?N(R,$,L,F):_.interrupt().each(function(){j(this,arguments).event(F).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(R,$,L,F){p.scaleTo(R,function(){var _=this.__zoom.k,I=typeof $=="function"?$.apply(this,arguments):$;return _*I},L,F)},p.scaleTo=function(R,$,L,F){p.transform(R,function(){var _=t.apply(this,arguments),I=this.__zoom,A=L==null?C(_):typeof L=="function"?L.apply(this,arguments):L,B=I.invert(A),U=typeof $=="function"?$.apply(this,arguments):$;return n(w(v(I,U),A,B),_,i)},L,F)},p.translateBy=function(R,$,L,F){p.transform(R,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),i)},null,F)},p.translateTo=function(R,$,L,F,_){p.transform(R,function(){var I=t.apply(this,arguments),A=this.__zoom,B=F==null?C(I):typeof F=="function"?F.apply(this,arguments):F;return n(yh.translate(B[0],B[1]).scale(A.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof L=="function"?-L.apply(this,arguments):-L),I,i)},F,_)};function v(R,$){return $=Math.max(a[0],Math.min(a[1],$)),$===R.k?R:new Rs($,R.x,R.y)}function w(R,$,L){var F=$[0]-L[0]*R.k,_=$[1]-L[1]*R.k;return F===R.x&&_===R.y?R:new Rs(R.k,F,_)}function C(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function N(R,$,L,F){R.on("start.zoom",function(){j(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(F).end()}).tween("zoom",function(){var _=this,I=arguments,A=j(_,I).event(F),B=t.apply(_,I),U=L==null?C(B):typeof L=="function"?L.apply(_,I):L,O=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),q=_.__zoom,ne=typeof $=="function"?$.apply(_,I):$,se=c(q.invert(U).concat(O/q.k),ne.invert(U).concat(O/ne.k));return function(z){if(z===1)z=ne;else{var W=se(z),Q=O/W[2];z=new Rs(Q,U[0]-W[0]*Q,U[1]-W[1]*Q)}A.zoom(null,z)}})}function j(R,$,L){return!L&&R.__zooming||new S(R,$)}function S(R,$){this.that=R,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,$),this.taps=0}S.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,$){return this.mouse&&R!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var $=Vn(this.that).datum();u.call(R,this.that,new q7(R,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),$)}};function P(R,...$){if(!e.apply(this,arguments))return;var L=j(this,$).event(R),F=this.__zoom,_=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),I=Nr(R);if(L.wheel)(L.mouse[0][0]!==I[0]||L.mouse[0][1]!==I[1])&&(L.mouse[1]=F.invert(L.mouse[0]=I)),clearTimeout(L.wheel);else{if(F.k===_)return;L.mouse=[I,F.invert(I)],nf(this),L.start()}Vl(R),L.wheel=setTimeout(A,y),L.zoom("mouse",n(w(v(F,_),L.mouse[0],L.mouse[1]),L.extent,i));function A(){L.wheel=null,L.end()}}function M(R,...$){if(m||!e.apply(this,arguments))return;var L=R.currentTarget,F=j(this,$,!0).event(R),_=Vn(R.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",O,!0),I=Nr(R,L),A=R.clientX,B=R.clientY;VM(R.view),Kp(R),F.mouse=[I,this.__zoom.invert(I)],nf(this),F.start();function U(q){if(Vl(q),!F.moved){var ne=q.clientX-A,se=q.clientY-B;F.moved=ne*ne+se*se>g}F.event(q).zoom("mouse",n(w(F.that.__zoom,F.mouse[0]=Nr(q,L),F.mouse[1]),F.extent,i))}function O(q){_.on("mousemove.zoom mouseup.zoom",null),BM(q.view,F.moved),Vl(q),F.event(q).end()}}function E(R,...$){if(e.apply(this,arguments)){var L=this.__zoom,F=Nr(R.changedTouches?R.changedTouches[0]:R,this),_=L.invert(F),I=L.k*(R.shiftKey?.5:2),A=n(w(v(L,I),F,_),t.apply(this,$),i);Vl(R),l>0?Vn(this).transition().duration(l).call(N,A,F,R):Vn(this).call(p.transform,A,F,R)}}function k(R,...$){if(e.apply(this,arguments)){var L=R.touches,F=L.length,_=j(this,$,R.changedTouches.length===F).event(R),I,A,B,U;for(Kp(R),A=0;A<F;++A)B=L[A],U=Nr(B,this),U=[U,this.__zoom.invert(U),B.identifier],_.touch0?!_.touch1&&_.touch0[2]!==U[2]&&(_.touch1=U,_.taps=0):(_.touch0=U,I=!0,_.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(_.taps<2&&(d=U[0],f=setTimeout(function(){f=null},h)),nf(this),_.start())}}function T(R,...$){if(this.__zooming){var L=j(this,$).event(R),F=R.changedTouches,_=F.length,I,A,B,U;for(Vl(R),I=0;I<_;++I)A=F[I],B=Nr(A,this),L.touch0&&L.touch0[2]===A.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===A.identifier&&(L.touch1[0]=B);if(A=L.that.__zoom,L.touch1){var O=L.touch0[0],q=L.touch0[1],ne=L.touch1[0],se=L.touch1[1],z=(z=ne[0]-O[0])*z+(z=ne[1]-O[1])*z,W=(W=se[0]-q[0])*W+(W=se[1]-q[1])*W;A=v(A,Math.sqrt(z/W)),B=[(O[0]+ne[0])/2,(O[1]+ne[1])/2],U=[(q[0]+se[0])/2,(q[1]+se[1])/2]}else if(L.touch0)B=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",n(w(A,B,U),L.extent,i))}}function D(R,...$){if(this.__zooming){var L=j(this,$).event(R),F=R.changedTouches,_=F.length,I,A;for(Kp(R),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),I=0;I<_;++I)A=F[I],L.touch0&&L.touch0[2]===A.identifier?delete L.touch0:L.touch1&&L.touch1[2]===A.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(A=Nr(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<b)){var B=Vn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return p.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:bd(+R),p):r},p.filter=function(R){return arguments.length?(e=typeof R=="function"?R:bd(!!R),p):e},p.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:bd(!!R),p):o},p.extent=function(R){return arguments.length?(t=typeof R=="function"?R:bd([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),p):t},p.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],p):[a[0],a[1]]},p.translateExtent=function(R){return arguments.length?(i[0][0]=+R[0][0],i[1][0]=+R[1][0],i[0][1]=+R[0][1],i[1][1]=+R[1][1],p):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},p.constrain=function(R){return arguments.length?(n=R,p):n},p.duration=function(R){return arguments.length?(l=+R,p):l},p.interpolate=function(R){return arguments.length?(c=R,p):c},p.on=function(){var R=u.on.apply(u,arguments);return R===u?p:R},p.clickDistance=function(R){return arguments.length?(g=(R=+R)*R,p):Math.sqrt(g)},p.tapDistance=function(R){return arguments.length?(b=+R,p):b},p}const ds={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],oR=["Enter"," ","Escape"],aR={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ji;(function(e){e.Strict="strict",e.Loose="loose"})(Ji||(Ji={}));var va;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(va||(va={}));var Xc;(function(e){e.Partial="partial",e.Full="full"})(Xc||(Xc={}));const iR={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var co;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(co||(co={}));var wa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(wa||(wa={}));var Ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ee||(Ee={}));const G1={[Ee.Left]:Ee.Right,[Ee.Right]:Ee.Left,[Ee.Top]:Ee.Bottom,[Ee.Bottom]:Ee.Top};function lR(e){return e===null?null:e?"valid":"invalid"}const cR=e=>"id"in e&&"source"in e&&"target"in e,Z7=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),p0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Pu=(e,t=[0,0])=>{const{width:n,height:r}=Ws(e),o=e.origin??t,a=n*o[0],i=r*o[1];return{x:e.position.x-a,y:e.position.y-i}},eH=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const a=typeof o=="string";let i=!t.nodeLookup&&!a?o:void 0;t.nodeLookup&&(i=a?t.nodeLookup.get(o):p0(o)?o:t.nodeLookup.get(o.id));const l=i?tm(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return vh(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return wh(n)},Mu=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=vh(n,tm(o)),r=!0)}),r?wh(n):{x:0,y:0,width:0,height:0}},g0=(e,t,[n,r,o]=[0,0,1],a=!1,i=!1)=>{const l={...Tu(t,[n,r,o]),width:t.width/o,height:t.height/o},c=[];for(const u of e.values()){const{measured:f,selectable:d=!0,hidden:m=!1}=u;if(i&&!d||m)continue;const h=f.width??u.width??u.initialWidth??null,y=f.height??u.height??u.initialHeight??null,g=Qc(l,el(u)),b=(h??0)*(y??0),p=a&&g>0;(!u.internals.handleBounds||p||g>=b||u.dragging)&&c.push(u)}return c},tH=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function nH(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function rH({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:a},i){if(e.size===0)return Promise.resolve(!0);const l=nH(e,i),c=Mu(l),u=x0(c,t,n,(i==null?void 0:i.minZoom)??o,(i==null?void 0:i.maxZoom)??a,(i==null?void 0:i.padding)??.1);return await r.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function uR({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:a}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=i.origin??r;let d=i.extent||o;if(i.extent==="parent"&&!i.expandParent)if(!l)a==null||a("005",ds.error005());else{const h=l.measured.width,y=l.measured.height;h&&y&&(d=[[c,u],[c+h,u+y]])}else l&&tl(i.extent)&&(d=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const m=tl(d)?Ta(t,d,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(a==null||a("015",ds.error015())),{position:{x:m.x-c+(i.measured.width??0)*f[0],y:m.y-u+(i.measured.height??0)*f[1]},positionAbsolute:m}}async function sH({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const a=new Set(e.map(m=>m.id)),i=[];for(const m of n){if(m.deletable===!1)continue;const h=a.has(m.id),y=!h&&m.parentId&&i.find(g=>g.id===m.parentId);(h||y)&&i.push(m)}const l=new Set(t.map(m=>m.id)),c=r.filter(m=>m.deletable!==!1),f=tH(i,c);for(const m of c)l.has(m.id)&&!f.find(y=>y.id===m.id)&&f.push(m);if(!o)return{edges:f,nodes:i};const d=await o({nodes:i,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:i}:{edges:[],nodes:[]}:d}const Zi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ta=(e={x:0,y:0},t,n)=>({x:Zi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Zi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function dR(e,t,n){const{width:r,height:o}=Ws(n),{x:a,y:i}=n.internals.positionAbsolute;return Ta(e,[[a,i],[a+r,i+o]],t)}const X1=(e,t,n)=>e<t?Zi(Math.abs(e-t),1,t)/t:e>n?-Zi(Math.abs(e-n),1,t)/t:0,fR=(e,t,n=15,r=40)=>{const o=X1(e.x,r,t.width-r)*n,a=X1(e.y,r,t.height-r)*n;return[o,a]},vh=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yx=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),wh=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),el=(e,t=[0,0])=>{var o,a;const{x:n,y:r}=p0(e)?e.internals.positionAbsolute:Pu(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},tm=(e,t=[0,0])=>{var o,a;const{x:n,y:r}=p0(e)?e.internals.positionAbsolute:Pu(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},mR=(e,t)=>wh(vh(Yx(e),Yx(t))),Qc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Q1=e=>Er(e.width)&&Er(e.height)&&Er(e.x)&&Er(e.y),Er=e=>!isNaN(e)&&isFinite(e),oH=(e,t)=>{},Ru=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Tu=({x:e,y:t},[n,r,o],a=!1,i=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return a?Ru(l,i):l},nm=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Ya(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function aH(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ya(e,n),o=Ya(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Ya(e.top??e.y??0,n),o=Ya(e.bottom??e.y??0,n),a=Ya(e.left??e.x??0,t),i=Ya(e.right??e.x??0,t);return{top:r,right:i,bottom:o,left:a,x:a+i,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function iH(e,t,n,r,o,a){const{x:i,y:l}=nm(e,[t,n,r]),{x:c,y:u}=nm({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-c,d=a-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(d)}}const x0=(e,t,n,r,o,a)=>{const i=aH(a,t,n),l=(t-i.x)/e.width,c=(n-i.y)/e.height,u=Math.min(l,c),f=Zi(u,r,o),d=e.x+e.width/2,m=e.y+e.height/2,h=t/2-d*f,y=n/2-m*f,g=iH(e,h,y,f,t,n),b={left:Math.min(g.left-i.left,0),top:Math.min(g.top-i.top,0),right:Math.min(g.right-i.right,0),bottom:Math.min(g.bottom-i.bottom,0)};return{x:h-b.left+b.right,y:y-b.top+b.bottom,zoom:f}},Jc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function tl(e){return e!=null&&e!=="parent"}function Ws(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function hR(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function pR(e,t={width:0,height:0},n,r,o){const a={...e},i=r.get(n);if(i){const l=i.origin||o;a.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],a.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return a}function J1(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function lH(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function cH(e){return{...aR,...e||{}}}function hc(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:a,y:i}=Pr(e),l=Tu({x:a-((o==null?void 0:o.left)??0),y:i-((o==null?void 0:o.top)??0)},r),{x:c,y:u}=n?Ru(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const y0=e=>({width:e.offsetWidth,height:e.offsetHeight}),gR=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},uH=["INPUT","SELECT","TEXTAREA"];function xR(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:uH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const yR=e=>"clientX"in e,Pr=(e,t)=>{var a,i;const n=yR(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Z1=(e,t,n,r,o)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:o,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...y0(i)}})};function vR({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:l}){const c=e*.125+o*.375+i*.375+n*.125,u=t*.125+a*.375+l*.375+r*.125,f=Math.abs(c-e),d=Math.abs(u-t);return[c,u,f,d]}function jd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ej({pos:e,x1:t,y1:n,x2:r,y2:o,c:a}){switch(e){case Ee.Left:return[t-jd(t-r,a),n];case Ee.Right:return[t+jd(r-t,a),n];case Ee.Top:return[t,n-jd(n-o,a)];case Ee.Bottom:return[t,n+jd(o-n,a)]}}function wR({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:a=Ee.Top,curvature:i=.25}){const[l,c]=ej({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[u,f]=ej({pos:a,x1:r,y1:o,x2:e,y2:t,c:i}),[d,m,h,y]=vR({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${c} ${u},${f} ${r},${o}`,d,m,h,y]}function bR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[a,l,o,i]}function dH({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:a="basic"}){if(a==="manual")return r;const i=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return i+l}function fH({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const a=vh(tm(e),tm(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Qc(i,wh(a))>0}const mH=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,hH=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),pH=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||mH;let o;return cR(e)?o={...e}:o={...e,id:r(e)},hH(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function jR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,a,i,l]=bR({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,a,i,l]}const tj={[Ee.Left]:{x:-1,y:0},[Ee.Right]:{x:1,y:0},[Ee.Top]:{x:0,y:-1},[Ee.Bottom]:{x:0,y:1}},gH=({source:e,sourcePosition:t=Ee.Bottom,target:n})=>t===Ee.Left||t===Ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nj=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function xH({source:e,sourcePosition:t=Ee.Bottom,target:n,targetPosition:r=Ee.Top,center:o,offset:a,stepPosition:i}){const l=tj[t],c=tj[r],u={x:e.x+l.x*a,y:e.y+l.y*a},f={x:n.x+c.x*a,y:n.y+c.y*a},d=gH({source:u,sourcePosition:t,target:f}),m=d.x!==0?"x":"y",h=d[m];let y=[],g,b;const p={x:0,y:0},v={x:0,y:0},[,,w,C]=bR({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[m]*c[m]===-1){m==="x"?(g=o.x??u.x+(f.x-u.x)*i,b=o.y??(u.y+f.y)/2):(g=o.x??(u.x+f.x)/2,b=o.y??u.y+(f.y-u.y)*i);const j=[{x:g,y:u.y},{x:g,y:f.y}],S=[{x:u.x,y:b},{x:f.x,y:b}];l[m]===h?y=m==="x"?j:S:y=m==="x"?S:j}else{const j=[{x:u.x,y:f.y}],S=[{x:f.x,y:u.y}];if(m==="x"?y=l.x===h?S:j:y=l.y===h?j:S,t===r){const T=Math.abs(e[m]-n[m]);if(T<=a){const D=Math.min(a-1,a-T);l[m]===h?p[m]=(u[m]>e[m]?-1:1)*D:v[m]=(f[m]>n[m]?-1:1)*D}}if(t!==r){const T=m==="x"?"y":"x",D=l[m]===c[T],R=u[T]>f[T],$=u[T]<f[T];(l[m]===1&&(!D&&R||D&&$)||l[m]!==1&&(!D&&$||D&&R))&&(y=m==="x"?j:S)}const P={x:u.x+p.x,y:u.y+p.y},M={x:f.x+v.x,y:f.y+v.y},E=Math.max(Math.abs(P.x-y[0].x),Math.abs(M.x-y[0].x)),k=Math.max(Math.abs(P.y-y[0].y),Math.abs(M.y-y[0].y));E>=k?(g=(P.x+M.x)/2,b=y[0].y):(g=y[0].x,b=(P.y+M.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...y,{x:f.x+v.x,y:f.y+v.y},n],g,b,w,C]}function yH(e,t,n,r){const o=Math.min(nj(e,t)/2,nj(t,n)/2,r),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${a+o*u},${i}Q ${a},${i} ${a},${i+o*f}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${i+o*c}Q ${a},${i} ${a+o*l},${i}`}function rm({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:a=Ee.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:f=.5}){const[d,m,h,y,g]=xH({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:a,center:{x:l,y:c},offset:u,stepPosition:f});return[d.reduce((p,v,w)=>{let C="";return w>0&&w<d.length-1?C=yH(d[w-1],v,d[w+1],i):C=`${w===0?"M":"L"}${v.x} ${v.y}`,p+=C,p},""),m,h,y,g]}function rj(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function vH(e){var d;const{sourceNode:t,targetNode:n}=e;if(!rj(t)||!rj(n))return null;const r=t.internals.handleBounds||sj(t.handles),o=n.internals.handleBounds||sj(n.handles),a=oj((r==null?void 0:r.source)??[],e.sourceHandle),i=oj(e.connectionMode===Ji.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!a||!i)return(d=e.onError)==null||d.call(e,"008",ds.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(a==null?void 0:a.position)||Ee.Bottom,c=(i==null?void 0:i.position)||Ee.Top,u=Aa(t,a,l),f=Aa(n,i,c);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function sj(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Aa(e,t,n=Ee.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,a=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Ws(e);if(r)return{x:o+i/2,y:a+l/2};switch((t==null?void 0:t.position)??n){case Ee.Top:return{x:o+i/2,y:a};case Ee.Right:return{x:o+i,y:a+l/2};case Ee.Bottom:return{x:o+i/2,y:a+l};case Ee.Left:return{x:o,y:a+l/2}}}function oj(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Gx(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function wH(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const a=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||o].forEach(c=>{if(c&&typeof c=="object"){const u=Gx(c,t);a.has(u)||(i.push({id:u,color:c.color||n,...c}),a.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const NR=1e3,bH=10,v0={nodeOrigin:[0,0],nodeExtent:Gc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},jH={...v0,checkEquality:!0};function w0(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function NH(e,t,n){const r=w0(v0,n);for(const o of e.values())if(o.parentId)j0(o,e,t,r);else{const a=Pu(o,r.nodeOrigin),i=tl(o.extent)?o.extent:r.nodeExtent,l=Ta(a,i,Ws(o));o.internals.positionAbsolute=l}}function CH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const a={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(a):o.type==="target"&&r.push(a)}return{source:n,target:r}}function b0(e){return e==="manual"}function Xx(e,t,n,r={}){var u,f;const o=w0(jH,r),a={i:0},i=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!b0(o.zIndexMode)?NR:0;let c=e.length>0;t.clear(),n.clear();for(const d of e){let m=i.get(d.id);if(o.checkEquality&&d===(m==null?void 0:m.internals.userNode))t.set(d.id,m);else{const h=Pu(d,o.nodeOrigin),y=tl(d.extent)?d.extent:o.nodeExtent,g=Ta(h,y,Ws(d));m={...o.defaults,...d,measured:{width:(u=d.measured)==null?void 0:u.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:g,handleBounds:CH(d,m),z:CR(d,l,o.zIndexMode),userNode:d}},t.set(d.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(c=!1),d.parentId&&j0(m,t,n,r,a)}return c}function SH(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function j0(e,t,n,r,o){const{elevateNodesOnSelect:a,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=w0(v0,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}SH(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&c==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*bH),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const d=a&&!b0(c)?NR:0,{x:m,y:h,z:y}=kH(e,f,i,l,d,c),{positionAbsolute:g}=e.internals,b=m!==g.x||h!==g.y;(b||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:m,y:h}:g,z:y}})}function CR(e,t,n){const r=Er(e.zIndex)?e.zIndex:0;return b0(n)?r:r+(e.selected?t:0)}function kH(e,t,n,r,o,a){const{x:i,y:l}=t.internals.positionAbsolute,c=Ws(e),u=Pu(e,n),f=tl(e.extent)?Ta(u,e.extent,c):u;let d=Ta({x:i+f.x,y:l+f.y},r,c);e.extent==="parent"&&(d=dR(d,c,t));const m=CR(e,o,a),h=t.internals.z??0;return{x:d.x,y:d.y,z:h>=m?h+1:m}}function N0(e,t,n,r=[0,0]){var i;const o=[],a=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=a.get(l.parentId))==null?void 0:i.expandedRect)??el(c),f=mR(u,l.rect);a.set(l.parentId,{expandedRect:f,parent:c})}return a.size>0&&a.forEach(({expandedRect:l,parent:c},u)=>{var w;const f=c.internals.positionAbsolute,d=Ws(c),m=c.origin??r,h=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,g=Math.max(d.width,Math.round(l.width)),b=Math.max(d.height,Math.round(l.height)),p=(g-d.width)*m[0],v=(b-d.height)*m[1];(h>0||y>0||p||v)&&(o.push({id:u,type:"position",position:{x:c.position.x-h+p,y:c.position.y-y+v}}),(w=n.get(u))==null||w.forEach(C=>{e.some(N=>N.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+h,y:C.position.y+y}})})),(d.width<l.width||d.height<l.height||h||y)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?m[0]*h-p:0),height:b+(y?m[1]*y-v:0)}})}),o}function EH(e,t,n,r,o,a,i){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],f=window.getComputedStyle(l),{m22:d}=new window.DOMMatrixReadOnly(f.transform),m=[];for(const h of e.values()){const y=t.get(h.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),c=!0;continue}const g=y0(h.nodeElement),b=y.measured.width!==g.width||y.measured.height!==g.height;if(!!(g.width&&g.height&&(b||!y.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),w=tl(y.extent)?y.extent:a;let{positionAbsolute:C}=y.internals;y.parentId&&y.extent==="parent"?C=dR(C,g,t.get(y.parentId)):w&&(C=Ta(C,w,g));const N={...y,measured:g,internals:{...y.internals,positionAbsolute:C,handleBounds:{source:Z1("source",h.nodeElement,v,d,y.id),target:Z1("target",h.nodeElement,v,d,y.id)}}};t.set(y.id,N),y.parentId&&j0(N,t,n,{nodeOrigin:o,zIndexMode:i}),c=!0,b&&(u.push({id:y.id,type:"dimensions",dimensions:g}),y.expandParent&&y.parentId&&m.push({id:y.id,parentId:y.parentId,rect:el(N,o)}))}}if(m.length>0){const h=N0(m,t,n,o);u.push(...h)}return{changes:u,updatedInternals:c}}async function PH({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,a]],r),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function aj(e,t,n,r,o,a){let i=o;const l=r.get(i)||new Map;r.set(i,l.set(n,t)),i=`${o}-${e}`;const c=r.get(i)||new Map;if(r.set(i,c.set(n,t)),a){i=`${o}-${e}-${a}`;const u=r.get(i)||new Map;r.set(i,u.set(n,t))}}function SR(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:a,sourceHandle:i=null,targetHandle:l=null}=r,c={edgeId:r.id,source:o,target:a,sourceHandle:i,targetHandle:l},u=`${o}-${i}--${a}-${l}`,f=`${a}-${l}--${o}-${i}`;aj("source",c,f,e,o,i),aj("target",c,u,e,a,l),t.set(r.id,r)}}function kR(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:kR(n,t):!1}function ij(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function MH(e,t,n,r){const o=new Map;for(const[a,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!kR(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(a);l&&o.set(a,{id:a,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function qp({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,l,c;const o=[];for(const[u,f]of t){const d=(i=n.get(u))==null?void 0:i.internals.userNode;d&&o.push({...d,position:f.position,dragging:r})}if(!e)return[o[0],o];const a=(l=n.get(e))==null?void 0:l.internals.userNode;return[a?{...a,position:((c=t.get(e))==null?void 0:c.position)||a.position,dragging:r}:o[0],o]}function RH({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const a={x:n-o.distance.x,y:r-o.distance.y},i=Ru(a,t);return{x:i.x-a.x,y:i.y-a.y}}function TH({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let a={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},f=null,d=!1,m=null,h=!1,y=!1,g=null;function b({noDragClassName:v,handleSelector:w,domNode:C,isSelectable:N,nodeId:j,nodeClickDistance:S=0}){m=Vn(C);function P({x:T,y:D}){const{nodeLookup:R,nodeExtent:$,snapGrid:L,snapToGrid:F,nodeOrigin:_,onNodeDrag:I,onSelectionDrag:A,onError:B,updateNodePositions:U}=t();a={x:T,y:D};let O=!1;const q=l.size>1,ne=q&&$?Yx(Mu(l)):null,se=q&&F?RH({dragItems:l,snapGrid:L,x:T,y:D}):null;for(const[z,W]of l){if(!R.has(z))continue;let Q={x:T-W.distance.x,y:D-W.distance.y};F&&(Q=se?{x:Math.round(Q.x+se.x),y:Math.round(Q.y+se.y)}:Ru(Q,L));let ie=null;if(q&&$&&!W.extent&&ne){const{positionAbsolute:Y}=W.internals,he=Y.x-ne.x+$[0][0],fe=Y.x+W.measured.width-ne.x2+$[1][0],Se=Y.y-ne.y+$[0][1],Me=Y.y+W.measured.height-ne.y2+$[1][1];ie=[[he,Se],[fe,Me]]}const{position:ae,positionAbsolute:oe}=uR({nodeId:z,nextPosition:Q,nodeLookup:R,nodeExtent:ie||$,nodeOrigin:_,onError:B});O=O||W.position.x!==ae.x||W.position.y!==ae.y,W.position=ae,W.internals.positionAbsolute=oe}if(y=y||O,!!O&&(U(l,!0),g&&(r||I||!j&&A))){const[z,W]=qp({nodeId:j,dragItems:l,nodeLookup:R});r==null||r(g,l,z,W),I==null||I(g,z,W),j||A==null||A(g,W)}}async function M(){if(!f)return;const{transform:T,panBy:D,autoPanSpeed:R,autoPanOnNodeDrag:$}=t();if(!$){c=!1,cancelAnimationFrame(i);return}const[L,F]=fR(u,f,R);(L!==0||F!==0)&&(a.x=(a.x??0)-L/T[2],a.y=(a.y??0)-F/T[2],await D({x:L,y:F})&&P(a)),i=requestAnimationFrame(M)}function E(T){var q;const{nodeLookup:D,multiSelectionActive:R,nodesDraggable:$,transform:L,snapGrid:F,snapToGrid:_,selectNodesOnDrag:I,onNodeDragStart:A,onSelectionDragStart:B,unselectNodesAndEdges:U}=t();d=!0,(!I||!N)&&!R&&j&&((q=D.get(j))!=null&&q.selected||U()),N&&I&&j&&(e==null||e(j));const O=hc(T.sourceEvent,{transform:L,snapGrid:F,snapToGrid:_,containerBounds:f});if(a=O,l=MH(D,$,O,j),l.size>0&&(n||A||!j&&B)){const[ne,se]=qp({nodeId:j,dragItems:l,nodeLookup:D});n==null||n(T.sourceEvent,l,ne,se),A==null||A(T.sourceEvent,ne,se),j||B==null||B(T.sourceEvent,se)}}const k=UM().clickDistance(S).on("start",T=>{const{domNode:D,nodeDragThreshold:R,transform:$,snapGrid:L,snapToGrid:F}=t();f=(D==null?void 0:D.getBoundingClientRect())||null,h=!1,y=!1,g=T.sourceEvent,R===0&&E(T),a=hc(T.sourceEvent,{transform:$,snapGrid:L,snapToGrid:F,containerBounds:f}),u=Pr(T.sourceEvent,f)}).on("drag",T=>{const{autoPanOnNodeDrag:D,transform:R,snapGrid:$,snapToGrid:L,nodeDragThreshold:F,nodeLookup:_}=t(),I=hc(T.sourceEvent,{transform:R,snapGrid:$,snapToGrid:L,containerBounds:f});if(g=T.sourceEvent,(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1||j&&!_.has(j))&&(h=!0),!h){if(!c&&D&&d&&(c=!0,M()),!d){const A=Pr(T.sourceEvent,f),B=A.x-u.x,U=A.y-u.y;Math.sqrt(B*B+U*U)>F&&E(T)}(a.x!==I.xSnapped||a.y!==I.ySnapped)&&l&&d&&(u=Pr(T.sourceEvent,f),P(I))}}).on("end",T=>{if(!(!d||h)&&(c=!1,d=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:D,updateNodePositions:R,onNodeDragStop:$,onSelectionDragStop:L}=t();if(y&&(R(l,!1),y=!1),o||$||!j&&L){const[F,_]=qp({nodeId:j,dragItems:l,nodeLookup:D,dragging:!1});o==null||o(T.sourceEvent,l,F,_),$==null||$(T.sourceEvent,F,_),j||L==null||L(T.sourceEvent,_)}}}).filter(T=>{const D=T.target;return!T.button&&(!v||!ij(D,`.${v}`,C))&&(!w||ij(D,w,C))});m.call(k)}function p(){m==null||m.on(".drag",null)}return{update:b,destroy:p}}function AH(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())Qc(o,el(a))>0&&r.push(a);return r}const _H=250;function IH(e,t,n,r){var l,c;let o=[],a=1/0;const i=AH(e,n,t+_H);for(const u of i){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:m,y:h}=Aa(u,d,d.position,!0),y=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(h-e.y,2));y>t||(y<a?(o=[{...d,x:m,y:h}],a=y):y===a&&o.push({...d,x:m,y:h}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function ER(e,t,n,r,o,a=!1){var u,f,d;const i=r.get(e);if(!i)return null;const l=o==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((f=i.internals.handleBounds)==null?void 0:f.source)??[],...((d=i.internals.handleBounds)==null?void 0:d.target)??[]],c=(n?l==null?void 0:l.find(m=>m.id===n):l==null?void 0:l[0])??null;return c&&a?{...c,...Aa(i,c,c.position,!0)}:c}function PR(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function DH(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const MR=()=>!0;function LH(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:a,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:f,flowId:d,panBy:m,cancelConnection:h,onConnectStart:y,onConnect:g,onConnectEnd:b,isValidConnection:p=MR,onReconnectEnd:v,updateConnection:w,getTransform:C,getFromHandle:N,autoPanSpeed:j,dragThreshold:S=1,handleDomNode:P}){const M=gR(e.target);let E=0,k;const{x:T,y:D}=Pr(e),R=PR(a,P),$=l==null?void 0:l.getBoundingClientRect();let L=!1;if(!$||!R)return;const F=ER(o,R,r,c,t);if(!F)return;let _=Pr(e,$),I=!1,A=null,B=!1,U=null;function O(){if(!f||!$)return;const[ae,oe]=fR(_,$,j);m({x:ae,y:oe}),E=requestAnimationFrame(O)}const q={...F,nodeId:o,type:R,position:F.position},ne=c.get(o);let z={inProgress:!0,isValid:null,from:Aa(ne,q,Ee.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:ne,to:_,toHandle:null,toPosition:G1[q.position],toNode:null,pointer:_};function W(){L=!0,w(z),y==null||y(e,{nodeId:o,handleId:r,handleType:R})}S===0&&W();function Q(ae){if(!L){const{x:Me,y:qe}=Pr(ae),Ue=Me-T,V=qe-D;if(!(Ue*Ue+V*V>S*S))return;W()}if(!N()||!q){ie(ae);return}const oe=C();_=Pr(ae,$),k=IH(Tu(_,oe,!1,[1,1]),n,c,q),I||(O(),I=!0);const Y=RR(ae,{handle:k,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:p,doc:M,lib:u,flowId:d,nodeLookup:c});U=Y.handleDomNode,A=Y.connection,B=DH(!!k,Y.isValid);const he=c.get(o),fe=he?Aa(he,q,Ee.Left,!0):z.from,Se={...z,from:fe,isValid:B,to:Y.toHandle&&B?nm({x:Y.toHandle.x,y:Y.toHandle.y},oe):_,toHandle:Y.toHandle,toPosition:B&&Y.toHandle?Y.toHandle.position:G1[q.position],toNode:Y.toHandle?c.get(Y.toHandle.nodeId):null,pointer:_};w(Se),z=Se}function ie(ae){if(!("touches"in ae&&ae.touches.length>0)){if(L){(k||U)&&A&&B&&(g==null||g(A));const{inProgress:oe,...Y}=z,he={...Y,toPosition:z.toHandle?z.toPosition:null};b==null||b(ae,he),a&&(v==null||v(ae,he))}h(),cancelAnimationFrame(E),I=!1,B=!1,A=null,U=null,M.removeEventListener("mousemove",Q),M.removeEventListener("mouseup",ie),M.removeEventListener("touchmove",Q),M.removeEventListener("touchend",ie)}}M.addEventListener("mousemove",Q),M.addEventListener("mouseup",ie),M.addEventListener("touchmove",Q),M.addEventListener("touchend",ie)}function RR(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:a,doc:i,lib:l,flowId:c,isValidConnection:u=MR,nodeLookup:f}){const d=a==="target",m=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y}=Pr(e),g=i.elementFromPoint(h,y),b=g!=null&&g.classList.contains(`${l}-flow__handle`)?g:m,p={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const v=PR(void 0,b),w=b.getAttribute("data-nodeid"),C=b.getAttribute("data-handleid"),N=b.classList.contains("connectable"),j=b.classList.contains("connectableend");if(!w||!v)return p;const S={source:d?w:r,sourceHandle:d?C:o,target:d?r:w,targetHandle:d?o:C};p.connection=S;const M=N&&j&&(n===Ji.Strict?d&&v==="source"||!d&&v==="target":w!==r||C!==o);p.isValid=M&&u(S),p.toHandle=ER(w,v,C,f,n,!0)}return p}const Qx={onPointerDown:LH,isValid:RR};function OH({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Vn(e);function a({translateExtent:l,width:c,height:u,zoomStep:f=1,pannable:d=!0,zoomable:m=!0,inversePan:h=!1}){const y=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const C=n(),N=w.sourceEvent.ctrlKey&&Jc()?10:1,j=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*f,S=C[2]*Math.pow(2,j*N);t.scaleTo(S)};let g=[0,0];const b=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(g=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},p=w=>{const C=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const N=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],j=[N[0]-g[0],N[1]-g[1]];g=N;const S=r()*Math.max(C[2],Math.log(C[2]))*(h?-1:1),P={x:C[0]-j[0]*S,y:C[1]-j[1]*S},M=[[0,0],[c,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:C[2]},M,l)},v=sR().on("start",b).on("zoom",d?p:null).on("zoom.wheel",m?y:null);o.call(v,{})}function i(){o.on("zoom",null)}return{update:a,destroy:i,pointer:Nr}}const bh=e=>({x:e.x,y:e.y,zoom:e.k}),Yp=({x:e,y:t,zoom:n})=>yh.translate(e,t).scale(n),mi=(e,t)=>e.target.closest(`.${t}`),TR=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$H=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Gp=(e,t=0,n=$H,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},AR=e=>{const t=e.ctrlKey&&Jc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function FH({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:a,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return f=>{if(mi(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&i){const b=Nr(f),p=AR(f),v=d*Math.pow(2,p);r.scaleTo(n,v,b,f);return}const m=f.deltaMode===1?20:1;let h=o===va.Vertical?0:f.deltaX*m,y=o===va.Horizontal?0:f.deltaY*m;!Jc()&&f.shiftKey&&o!==va.Vertical&&(h=f.deltaY*m,y=0),r.translateBy(n,-(h/d)*a,-(y/d)*a,{internal:!0});const g=bh(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(f,g),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,g),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,g))}}function zH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const a=r.type==="wheel",i=!t&&a&&!r.ctrlKey,l=mi(r,e);if(r.ctrlKey&&a&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),n.call(this,r,o)}}function VH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var a,i,l;if((a=r.sourceEvent)!=null&&a.internal)return;const o=bh(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function BH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return a=>{var i,l;e.usedRightMouseButton=!!(n&&TR(t,e.mouseButton??0)),(i=a.sourceEvent)!=null&&i.sync||r([a.transform.x,a.transform.y,a.transform.k]),o&&!((l=a.sourceEvent)!=null&&l.internal)&&(o==null||o(a.sourceEvent,bh(a.transform)))}}function UH({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:a}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,a&&TR(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&a(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const c=bh(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(i.sourceEvent,c)},n?150:0)}}}function HH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:a,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:f}){return d=>{var b;const m=e||t,h=n&&d.ctrlKey,y=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(mi(d,`${u}-flow__node`)||mi(d,`${u}-flow__edge`)))return!0;if(!r&&!m&&!o&&!a&&!n||i||f&&!y||mi(d,l)&&y||mi(d,c)&&(!y||o&&y&&!e)||!n&&d.ctrlKey&&y)return!1;if(!n&&d.type==="touchstart"&&((b=d.touches)==null?void 0:b.length)>1)return d.preventDefault(),!1;if(!m&&!o&&!h&&y||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const g=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||y)&&g}}function WH({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:a,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=sR().scaleExtent([t,n]).translateExtent(r),m=Vn(e).call(d);v({x:o.x,y:o.y,zoom:Zi(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const h=m.on("wheel.zoom"),y=m.on("dblclick.zoom");d.wheelDelta(AR);function g(k,T){return m?new Promise(D=>{d==null||d.interpolate((T==null?void 0:T.interpolate)==="linear"?mc:Zd).transform(Gp(m,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>D(!0)),k)}):Promise.resolve(!1)}function b({noWheelClassName:k,noPanClassName:T,onPaneContextMenu:D,userSelectionActive:R,panOnScroll:$,panOnDrag:L,panOnScrollMode:F,panOnScrollSpeed:_,preventScrolling:I,zoomOnPinch:A,zoomOnScroll:B,zoomOnDoubleClick:U,zoomActivationKeyPressed:O,lib:q,onTransformChange:ne,connectionInProgress:se,paneClickDistance:z,selectionOnDrag:W}){R&&!u.isZoomingOrPanning&&p();const Q=$&&!O&&!R;d.clickDistance(W?1/0:!Er(z)||z<0?0:z);const ie=Q?FH({zoomPanValues:u,noWheelClassName:k,d3Selection:m,d3Zoom:d,panOnScrollMode:F,panOnScrollSpeed:_,zoomOnPinch:A,onPanZoomStart:i,onPanZoom:a,onPanZoomEnd:l}):zH({noWheelClassName:k,preventScrolling:I,d3ZoomHandler:h});if(m.on("wheel.zoom",ie,{passive:!1}),!R){const oe=VH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:i});d.on("start",oe);const Y=BH({zoomPanValues:u,panOnDrag:L,onPaneContextMenu:!!D,onPanZoom:a,onTransformChange:ne});d.on("zoom",Y);const he=UH({zoomPanValues:u,panOnDrag:L,panOnScroll:$,onPaneContextMenu:D,onPanZoomEnd:l,onDraggingChange:c});d.on("end",he)}const ae=HH({zoomActivationKeyPressed:O,panOnDrag:L,zoomOnScroll:B,panOnScroll:$,zoomOnDoubleClick:U,zoomOnPinch:A,userSelectionActive:R,noPanClassName:T,noWheelClassName:k,lib:q,connectionInProgress:se});d.filter(ae),U?m.on("dblclick.zoom",y):m.on("dblclick.zoom",null)}function p(){d.on("zoom",null)}async function v(k,T,D){const R=Yp(k),$=d==null?void 0:d.constrain()(R,T,D);return $&&await g($),new Promise(L=>L($))}async function w(k,T){const D=Yp(k);return await g(D,T),new Promise(R=>R(D))}function C(k){if(m){const T=Yp(k),D=m.property("__zoom");(D.k!==k.zoom||D.x!==k.x||D.y!==k.y)&&(d==null||d.transform(m,T,null,{sync:!0}))}}function N(){const k=m?rR(m.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function j(k,T){return m?new Promise(D=>{d==null||d.interpolate((T==null?void 0:T.interpolate)==="linear"?mc:Zd).scaleTo(Gp(m,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>D(!0)),k)}):Promise.resolve(!1)}function S(k,T){return m?new Promise(D=>{d==null||d.interpolate((T==null?void 0:T.interpolate)==="linear"?mc:Zd).scaleBy(Gp(m,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>D(!0)),k)}):Promise.resolve(!1)}function P(k){d==null||d.scaleExtent(k)}function M(k){d==null||d.translateExtent(k)}function E(k){const T=!Er(k)||k<0?0:k;d==null||d.clickDistance(T)}return{update:b,destroy:p,setViewport:w,setViewportConstrained:v,getViewport:N,scaleTo:j,scaleBy:S,setScaleExtent:P,setTranslateExtent:M,syncViewport:C,setClickDistance:E}}var nl;(function(e){e.Line="line",e.Handle="handle"})(nl||(nl={}));function KH({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:a}){const i=e-t,l=n-r,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&o&&(c[0]=c[0]*-1),l&&a&&(c[1]=c[1]*-1),c}function lj(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Qs(e,t){return Math.max(0,t-e)}function Js(e,t){return Math.max(0,e-t)}function Nd(e,t,n){return Math.max(0,t-e,e-n)}function cj(e,t){return e?!t:t}function qH(e,t,n,r,o,a,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:f,isVertical:d}=t,m=f&&d,{xSnapped:h,ySnapped:y}=n,{minWidth:g,maxWidth:b,minHeight:p,maxHeight:v}=r,{x:w,y:C,width:N,height:j,aspectRatio:S}=e;let P=Math.floor(f?h-e.pointerX:0),M=Math.floor(d?y-e.pointerY:0);const E=N+(c?-P:P),k=j+(u?-M:M),T=-a[0]*N,D=-a[1]*j;let R=Nd(E,g,b),$=Nd(k,p,v);if(i){let _=0,I=0;c&&P<0?_=Qs(w+P+T,i[0][0]):!c&&P>0&&(_=Js(w+E+T,i[1][0])),u&&M<0?I=Qs(C+M+D,i[0][1]):!u&&M>0&&(I=Js(C+k+D,i[1][1])),R=Math.max(R,_),$=Math.max($,I)}if(l){let _=0,I=0;c&&P>0?_=Js(w+P,l[0][0]):!c&&P<0&&(_=Qs(w+E,l[1][0])),u&&M>0?I=Js(C+M,l[0][1]):!u&&M<0&&(I=Qs(C+k,l[1][1])),R=Math.max(R,_),$=Math.max($,I)}if(o){if(f){const _=Nd(E/S,p,v)*S;if(R=Math.max(R,_),i){let I=0;!c&&!u||c&&!u&&m?I=Js(C+D+E/S,i[1][1])*S:I=Qs(C+D+(c?P:-P)/S,i[0][1])*S,R=Math.max(R,I)}if(l){let I=0;!c&&!u||c&&!u&&m?I=Qs(C+E/S,l[1][1])*S:I=Js(C+(c?P:-P)/S,l[0][1])*S,R=Math.max(R,I)}}if(d){const _=Nd(k*S,g,b)/S;if($=Math.max($,_),i){let I=0;!c&&!u||u&&!c&&m?I=Js(w+k*S+T,i[1][0])/S:I=Qs(w+(u?M:-M)*S+T,i[0][0])/S,$=Math.max($,I)}if(l){let I=0;!c&&!u||u&&!c&&m?I=Qs(w+k*S,l[1][0])/S:I=Js(w+(u?M:-M)*S,l[0][0])/S,$=Math.max($,I)}}}M=M+(M<0?$:-$),P=P+(P<0?R:-R),o&&(m?E>k*S?M=(cj(c,u)?-P:P)/S:P=(cj(c,u)?-M:M)*S:f?(M=P/S,u=c):(P=M*S,c=u));const L=c?w+P:w,F=u?C+M:C;return{width:N+(c?-P:P),height:j+(u?-M:M),x:a[0]*P*(c?-1:1)+L,y:a[1]*M*(u?-1:1)+F}}const _R={width:0,height:0,x:0,y:0},YH={..._R,pointerX:0,pointerY:0,aspectRatio:1};function GH(e){return[[0,0],[e.measured.width,e.measured.height]]}function XH(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,a=e.measured.width??0,i=e.measured.height??0,l=n[0]*a,c=n[1]*i;return[[r-l,o-c],[r+a-l,o+i-c]]}function QH({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const a=Vn(e);let i={controlDirection:lj("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:d,resizeDirection:m,onResizeStart:h,onResize:y,onResizeEnd:g,shouldResize:b}){let p={..._R},v={...YH};i={boundaries:f,resizeDirection:m,keepAspectRatio:d,controlDirection:lj(u)};let w,C=null,N=[],j,S,P,M=!1;const E=UM().on("start",k=>{const{nodeLookup:T,transform:D,snapGrid:R,snapToGrid:$,nodeOrigin:L,paneDomNode:F}=n();if(w=T.get(t),!w)return;C=(F==null?void 0:F.getBoundingClientRect())??null;const{xSnapped:_,ySnapped:I}=hc(k.sourceEvent,{transform:D,snapGrid:R,snapToGrid:$,containerBounds:C});p={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},v={...p,pointerX:_,pointerY:I,aspectRatio:p.width/p.height},j=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(j=T.get(w.parentId),S=j&&w.extent==="parent"?GH(j):void 0),N=[],P=void 0;for(const[A,B]of T)if(B.parentId===t&&(N.push({id:A,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const U=XH(B,w,B.origin??L);P?P=[[Math.min(U[0][0],P[0][0]),Math.min(U[0][1],P[0][1])],[Math.max(U[1][0],P[1][0]),Math.max(U[1][1],P[1][1])]]:P=U}h==null||h(k,{...p})}).on("drag",k=>{const{transform:T,snapGrid:D,snapToGrid:R,nodeOrigin:$}=n(),L=hc(k.sourceEvent,{transform:T,snapGrid:D,snapToGrid:R,containerBounds:C}),F=[];if(!w)return;const{x:_,y:I,width:A,height:B}=p,U={},O=w.origin??$,{width:q,height:ne,x:se,y:z}=qH(v,i.controlDirection,L,i.boundaries,i.keepAspectRatio,O,S,P),W=q!==A,Q=ne!==B,ie=se!==_&&W,ae=z!==I&&Q;if(!ie&&!ae&&!W&&!Q)return;if((ie||ae||O[0]===1||O[1]===1)&&(U.x=ie?se:p.x,U.y=ae?z:p.y,p.x=U.x,p.y=U.y,N.length>0)){const fe=se-_,Se=z-I;for(const Me of N)Me.position={x:Me.position.x-fe+O[0]*(q-A),y:Me.position.y-Se+O[1]*(ne-B)},F.push(Me)}if((W||Q)&&(U.width=W&&(!i.resizeDirection||i.resizeDirection==="horizontal")?q:p.width,U.height=Q&&(!i.resizeDirection||i.resizeDirection==="vertical")?ne:p.height,p.width=U.width,p.height=U.height),j&&w.expandParent){const fe=O[0]*(U.width??0);U.x&&U.x<fe&&(p.x=fe,v.x=v.x-(U.x-fe));const Se=O[1]*(U.height??0);U.y&&U.y<Se&&(p.y=Se,v.y=v.y-(U.y-Se))}const oe=KH({width:p.width,prevWidth:A,height:p.height,prevHeight:B,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),Y={...p,direction:oe};(b==null?void 0:b(k,Y))!==!1&&(M=!0,y==null||y(k,Y),r(U,F))}).on("end",k=>{M&&(g==null||g(k,{...p}),o==null||o({...p}),M=!1)});a.call(E)}function c(){a.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:JH}=te,{useSyncExternalStoreWithSelector:ZH}=CE,eW=e=>e;function IR(e,t=eW,n){const r=ZH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JH(r),r}const uj=(e,t)=>{const n=vE(e),r=(o,a=t)=>IR(n,o,a);return Object.assign(r,n),r},tW=(e,t)=>e?uj(e,t):uj;function dt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const jh=x.createContext(null),nW=jh.Provider,DR=ds.error001();function He(e,t){const n=x.useContext(jh);if(n===null)throw new Error(DR);return IR(n,e,t)}function ft(){const e=x.useContext(jh);if(e===null)throw new Error(DR);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const dj={display:"none"},rW={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},LR="react-flow__node-desc",OR="react-flow__edge-desc",sW="react-flow__aria-live",oW=e=>e.ariaLiveMessage,aW=e=>e.ariaLabelConfig;function iW({rfId:e}){const t=He(oW);return s.jsx("div",{id:`${sW}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:rW,children:t})}function lW({rfId:e,disableKeyboardA11y:t}){const n=He(aW);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${LR}-${e}`,style:dj,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${OR}-${e}`,style:dj,children:n["edge.a11yDescription.default"]}),!t&&s.jsx(iW,{rfId:e})]})}const Nh=x.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},a)=>{const i=`${e}`.split("-");return s.jsx("div",{className:It(["react-flow__panel",n,...i]),style:r,ref:a,...o,children:t})});Nh.displayName="Panel";function cW({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:s.jsx(Nh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const uW=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Cd=e=>e.id;function dW(e,t){return dt(e.selectedNodes.map(Cd),t.selectedNodes.map(Cd))&&dt(e.selectedEdges.map(Cd),t.selectedEdges.map(Cd))}function fW({onSelectionChange:e}){const t=ft(),{selectedNodes:n,selectedEdges:r}=He(uW,dW);return x.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(a=>a(o))},[n,r,e]),null}const mW=e=>!!e.onSelectionChangeHandlers;function hW({onSelectionChange:e}){const t=He(mW);return e||t?s.jsx(fW,{onSelectionChange:e}):null}const $R=[0,0],pW={x:0,y:0,zoom:1},gW=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],fj=[...gW,"rfId"],xW=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),mj={translateExtent:Gc,nodeOrigin:$R,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function yW(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:a,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=He(xW,dt),u=ft();x.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=mj,l()}),[]);const f=x.useRef(mj);return x.useEffect(()=>{for(const d of fj){const m=e[d],h=f.current[d];m!==h&&(typeof e[d]>"u"||(d==="nodes"?t(m):d==="edges"?n(m):d==="minZoom"?r(m):d==="maxZoom"?o(m):d==="translateExtent"?a(m):d==="nodeExtent"?i(m):d==="ariaLabelConfig"?u.setState({ariaLabelConfig:cH(m)}):d==="fitView"?u.setState({fitViewQueued:m}):d==="fitViewOptions"?u.setState({fitViewOptions:m}):u.setState({[d]:m})))}f.current=e},fj.map(d=>e[d])),null}function hj(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function vW(e){var r;const[t,n]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){n(e);return}const o=hj(),a=()=>n(o!=null&&o.matches?"dark":"light");return a(),o==null||o.addEventListener("change",a),()=>{o==null||o.removeEventListener("change",a)}},[e]),t!==null?t:(r=hj())!=null&&r.matches?"dark":"light"}const pj=typeof document<"u"?document:null;function Zc(e=null,t={target:pj,actInsideInputWithModifier:!0}){const[n,r]=x.useState(!1),o=x.useRef(!1),a=x.useRef(new Set([])),[i,l]=x.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((d,m)=>d.concat(...m),[]);return[u,f]}return[[],[]]},[e]);return x.useEffect(()=>{const c=(t==null?void 0:t.target)??pj,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=h=>{var b,p;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!u)&&xR(h))return!1;const g=xj(h.code,l);if(a.current.add(h[g]),gj(i,a.current,!1)){const v=((p=(b=h.composedPath)==null?void 0:b.call(h))==null?void 0:p[0])||h.target,w=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";t.preventDefault!==!1&&(o.current||!w)&&h.preventDefault(),r(!0)}},d=h=>{const y=xj(h.code,l);gj(i,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(h[y]),h.key==="Meta"&&a.current.clear(),o.current=!1},m=()=>{a.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,r]),n}function gj(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function xj(e,t){return t.includes(e)?"code":"key"}const wW=()=>{const e=ft();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,a],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??a},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:a,maxZoom:i,panZoom:l}=e.getState(),c=x0(t,r,o,a,i,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:a,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},f=n.snapGrid??o,d=n.snapToGrid??a;return Tu(u,r,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:a}=r.getBoundingClientRect(),i=nm(t,n);return{x:i.x+o,y:i.y+a}}}),[])};function FR(e,t){const n=[],r=new Map,o=[];for(const a of e)if(a.type==="add"){o.push(a);continue}else if(a.type==="remove"||a.type==="replace")r.set(a.id,[a]);else{const i=r.get(a.id);i?i.push(a):r.set(a.id,[a])}for(const a of t){const i=r.get(a.id);if(!i){n.push(a);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...a};for(const c of i)bW(c,l);n.push(l)}return o.length&&o.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function bW(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function zR(e,t){return FR(e,t)}function VR(e,t){return FR(e,t)}function na(e,t){return{id:e,type:"select",selected:t}}function hi(e,t=new Set,n=!1){const r=[];for(const[o,a]of e){const i=t.has(o);!(a.selected===void 0&&!i)&&a.selected!==i&&(n&&(a.selected=i),r.push(na(a.id,i)))}return r}function yj({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(a=>[a.id,a]));for(const[a,i]of e.entries()){const l=t.get(i.id),c=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;c!==void 0&&c!==i&&n.push({id:i.id,item:i,type:"replace"}),c===void 0&&n.push({item:i,type:"add",index:a})}for(const[a]of t)r.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function vj(e){return{id:e.id,type:"remove"}}const wj=e=>Z7(e),jW=e=>cR(e);function BR(e){return x.forwardRef(e)}const NW=typeof window<"u"?x.useLayoutEffect:x.useEffect;function bj(e){const[t,n]=x.useState(BigInt(0)),[r]=x.useState(()=>CW(()=>n(o=>o+BigInt(1))));return NW(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function CW(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const UR=x.createContext(null);function SW({children:e}){const t=ft(),n=x.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:f,onNodesChange:d,nodeLookup:m,fitViewQueued:h,onNodesChangeMiddlewareMap:y}=t.getState();let g=c;for(const p of l)g=typeof p=="function"?p(g):p;let b=yj({items:g,lookup:m});for(const p of y.values())b=p(b);f&&u(g),b.length>0?d==null||d(b):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:p,nodes:v,setNodes:w}=t.getState();p&&w(v)})},[]),r=bj(n),o=x.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:m}=t.getState();let h=c;for(const y of l)h=typeof y=="function"?y(h):y;f?u(h):d&&d(yj({items:h,lookup:m}))},[]),a=bj(o),i=x.useMemo(()=>({nodeQueue:r,edgeQueue:a}),[]);return s.jsx(UR.Provider,{value:i,children:e})}function kW(){const e=x.useContext(UR);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const EW=e=>!!e.panZoom;function Au(){const e=wW(),t=ft(),n=kW(),r=He(EW),o=x.useMemo(()=>{const a=d=>t.getState().nodeLookup.get(d),i=d=>{n.nodeQueue.push(d)},l=d=>{n.edgeQueue.push(d)},c=d=>{var p,v;const{nodeLookup:m,nodeOrigin:h}=t.getState(),y=wj(d)?d:m.get(d.id),g=y.parentId?pR(y.position,y.measured,y.parentId,m,h):y.position,b={...y,position:g,width:((p=y.measured)==null?void 0:p.width)??y.width,height:((v=y.measured)==null?void 0:v.height)??y.height};return el(b)},u=(d,m,h={replace:!1})=>{i(y=>y.map(g=>{if(g.id===d){const b=typeof m=="function"?m(g):m;return h.replace&&wj(b)?b:{...g,...b}}return g}))},f=(d,m,h={replace:!1})=>{l(y=>y.map(g=>{if(g.id===d){const b=typeof m=="function"?m(g):m;return h.replace&&jW(b)?b:{...g,...b}}return g}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var m;return(m=a(d))==null?void 0:m.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(m=>({...m}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:i,setEdges:l,addNodes:d=>{const m=Array.isArray(d)?d:[d];n.nodeQueue.push(h=>[...h,...m])},addEdges:d=>{const m=Array.isArray(d)?d:[d];n.edgeQueue.push(h=>[...h,...m])},toObject:()=>{const{nodes:d=[],edges:m=[],transform:h}=t.getState(),[y,g,b]=h;return{nodes:d.map(p=>({...p})),edges:m.map(p=>({...p})),viewport:{x:y,y:g,zoom:b}}},deleteElements:async({nodes:d=[],edges:m=[]})=>{const{nodes:h,edges:y,onNodesDelete:g,onEdgesDelete:b,triggerNodeChanges:p,triggerEdgeChanges:v,onDelete:w,onBeforeDelete:C}=t.getState(),{nodes:N,edges:j}=await sH({nodesToRemove:d,edgesToRemove:m,nodes:h,edges:y,onBeforeDelete:C}),S=j.length>0,P=N.length>0;if(S){const M=j.map(vj);b==null||b(j),v(M)}if(P){const M=N.map(vj);g==null||g(N),p(M)}return(P||S)&&(w==null||w({nodes:N,edges:j})),{deletedNodes:N,deletedEdges:j}},getIntersectingNodes:(d,m=!0,h)=>{const y=Q1(d),g=y?d:c(d),b=h!==void 0;return g?(h||t.getState().nodes).filter(p=>{const v=t.getState().nodeLookup.get(p.id);if(v&&!y&&(p.id===d.id||!v.internals.positionAbsolute))return!1;const w=el(b?p:v),C=Qc(w,g);return m&&C>0||C>=w.width*w.height||C>=g.width*g.height}):[]},isNodeIntersecting:(d,m,h=!0)=>{const g=Q1(d)?d:c(d);if(!g)return!1;const b=Qc(g,m);return h&&b>0||b>=m.width*m.height||b>=g.width*g.height},updateNode:u,updateNodeData:(d,m,h={replace:!1})=>{u(d,y=>{const g=typeof m=="function"?m(y):m;return h.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},h)},updateEdge:f,updateEdgeData:(d,m,h={replace:!1})=>{f(d,y=>{const g=typeof m=="function"?m(y):m;return h.replace?{...y,data:g}:{...y,data:{...y.data,...g}}},h)},getNodesBounds:d=>{const{nodeLookup:m,nodeOrigin:h}=t.getState();return eH(d,{nodeLookup:m,nodeOrigin:h})},getHandleConnections:({type:d,id:m,nodeId:h})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${h}-${d}${m?`-${m}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:d,handleId:m,nodeId:h})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${h}${d?m?`-${d}-${m}`:`-${d}`:""}`))==null?void 0:y.values())??[])},fitView:async d=>{const m=t.getState().fitViewResolver??lH();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:m}),n.nodeQueue.push(h=>[...h]),m.promise}}},[]);return x.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const jj=e=>e.selected,PW=typeof window<"u"?window:void 0;function MW({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ft(),{deleteElements:r}=Au(),o=Zc(e,{actInsideInputWithModifier:!1}),a=Zc(t,{target:PW});x.useEffect(()=>{if(o){const{edges:i,nodes:l}=n.getState();r({nodes:l.filter(jj),edges:i.filter(jj)}),n.setState({nodesSelectionActive:!1})}},[o]),x.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function RW(e){const t=ft();x.useEffect(()=>{const n=()=>{var o,a,i,l;if(!e.current||!(((a=(o=e.current).checkVisibility)==null?void 0:a.call(o))??!0))return!1;const r=y0(e.current);(r.height===0||r.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",ds.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ch={position:"absolute",width:"100%",height:"100%",top:0,left:0},TW=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function AW({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=va.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:f,maxZoom:d,zoomActivationKeyCode:m,preventScrolling:h=!0,children:y,noWheelClassName:g,noPanClassName:b,onViewportChange:p,isControlledViewport:v,paneClickDistance:w,selectionOnDrag:C}){const N=ft(),j=x.useRef(null),{userSelectionActive:S,lib:P,connectionInProgress:M}=He(TW,dt),E=Zc(m),k=x.useRef();RW(j);const T=x.useCallback(D=>{p==null||p({x:D[0],y:D[1],zoom:D[2]}),v||N.setState({transform:D})},[p,v]);return x.useEffect(()=>{if(j.current){k.current=WH({domNode:j.current,minZoom:f,maxZoom:d,translateExtent:u,viewport:c,onDraggingChange:L=>N.setState({paneDragging:L}),onPanZoomStart:(L,F)=>{const{onViewportChangeStart:_,onMoveStart:I}=N.getState();I==null||I(L,F),_==null||_(F)},onPanZoom:(L,F)=>{const{onViewportChange:_,onMove:I}=N.getState();I==null||I(L,F),_==null||_(F)},onPanZoomEnd:(L,F)=>{const{onViewportChangeEnd:_,onMoveEnd:I}=N.getState();I==null||I(L,F),_==null||_(F)}});const{x:D,y:R,zoom:$}=k.current.getViewport();return N.setState({panZoom:k.current,transform:[D,R,$],domNode:j.current.closest(".react-flow")}),()=>{var L;(L=k.current)==null||L.destroy()}}},[]),x.useEffect(()=>{var D;(D=k.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:a,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:E,preventScrolling:h,noPanClassName:b,userSelectionActive:S,noWheelClassName:g,lib:P,onTransformChange:T,connectionInProgress:M,selectionOnDrag:C,paneClickDistance:w})},[e,t,n,r,o,a,i,l,E,h,b,S,g,P,T,M,C,w]),s.jsx("div",{className:"react-flow__renderer",ref:j,style:Ch,children:y})}const _W=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function IW(){const{userSelectionActive:e,userSelectionRect:t}=He(_W,dt);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Xp=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},DW=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function LW({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Xc.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:a,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:d,onPaneMouseMove:m,onPaneMouseLeave:h,children:y}){const g=ft(),{userSelectionActive:b,elementsSelectable:p,dragging:v,connectionInProgress:w}=He(DW,dt),C=p&&(e||b),N=x.useRef(null),j=x.useRef(),S=x.useRef(new Set),P=x.useRef(new Set),M=x.useRef(!1),E=_=>{if(M.current||w){M.current=!1;return}c==null||c(_),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},k=_=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){_.preventDefault();return}u==null||u(_)},T=f?_=>f(_):void 0,D=_=>{M.current&&(_.stopPropagation(),M.current=!1)},R=_=>{var ne,se;const{domNode:I}=g.getState();if(j.current=I==null?void 0:I.getBoundingClientRect(),!j.current)return;const A=_.target===N.current;if(!A&&!!_.target.closest(".nokey")||!e||!(a&&A||t)||_.button!==0||!_.isPrimary)return;(se=(ne=_.target)==null?void 0:ne.setPointerCapture)==null||se.call(ne,_.pointerId),M.current=!1;const{x:O,y:q}=Pr(_.nativeEvent,j.current);g.setState({userSelectionRect:{width:0,height:0,startX:O,startY:q,x:O,y:q}}),A||(_.stopPropagation(),_.preventDefault())},$=_=>{const{userSelectionRect:I,transform:A,nodeLookup:B,edgeLookup:U,connectionLookup:O,triggerNodeChanges:q,triggerEdgeChanges:ne,defaultEdgeOptions:se,resetSelectedElements:z}=g.getState();if(!j.current||!I)return;const{x:W,y:Q}=Pr(_.nativeEvent,j.current),{startX:ie,startY:ae}=I;if(!M.current){const Se=t?0:o;if(Math.hypot(W-ie,Q-ae)<=Se)return;z(),i==null||i(_)}M.current=!0;const oe={startX:ie,startY:ae,x:W<ie?W:ie,y:Q<ae?Q:ae,width:Math.abs(W-ie),height:Math.abs(Q-ae)},Y=S.current,he=P.current;S.current=new Set(g0(B,oe,A,n===Xc.Partial,!0).map(Se=>Se.id)),P.current=new Set;const fe=(se==null?void 0:se.selectable)??!0;for(const Se of S.current){const Me=O.get(Se);if(Me)for(const{edgeId:qe}of Me.values()){const Ue=U.get(qe);Ue&&(Ue.selectable??fe)&&P.current.add(qe)}}if(!J1(Y,S.current)){const Se=hi(B,S.current,!0);q(Se)}if(!J1(he,P.current)){const Se=hi(U,P.current);ne(Se)}g.setState({userSelectionRect:oe,userSelectionActive:!0,nodesSelectionActive:!1})},L=_=>{var I,A;_.button===0&&((A=(I=_.target)==null?void 0:I.releasePointerCapture)==null||A.call(I,_.pointerId),!b&&_.target===N.current&&g.getState().userSelectionRect&&(E==null||E(_)),g.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(l==null||l(_),g.setState({nodesSelectionActive:S.current.size>0})))},F=r===!0||Array.isArray(r)&&r.includes(0);return s.jsxs("div",{className:It(["react-flow__pane",{draggable:F,dragging:v,selection:e}]),onClick:C?void 0:Xp(E,N),onContextMenu:Xp(k,N),onWheel:Xp(T,N),onPointerEnter:C?void 0:d,onPointerMove:C?$:m,onPointerUp:C?L:void 0,onPointerDownCapture:C?R:void 0,onClickCapture:C?D:void 0,onPointerLeave:h,ref:N,style:Ch,children:[y,s.jsx(IW,{})]})}function Jx({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",ds.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function HR({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:a,nodeClickDistance:i}){const l=ft(),[c,u]=x.useState(!1),f=x.useRef();return x.useEffect(()=>{f.current=TH({getStoreItems:()=>l.getState(),onNodeMouseDown:d=>{Jx({id:d,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),x.useEffect(()=>{var d,m;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(m=f.current)==null||m.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:a,nodeId:o,nodeClickDistance:i}),()=>{var h;(h=f.current)==null||h.destroy()}},[n,r,t,a,e,o]),c}const OW=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function WR(){const e=ft();return x.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:a,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:f}=e.getState(),d=new Map,m=OW(i),h=o?a[0]:5,y=o?a[1]:5,g=n.direction.x*h*n.factor,b=n.direction.y*y*n.factor;for(const[,p]of u){if(!m(p))continue;let v={x:p.internals.positionAbsolute.x+g,y:p.internals.positionAbsolute.y+b};o&&(v=Ru(v,a));const{position:w,positionAbsolute:C}=uR({nodeId:p.id,nextPosition:v,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});p.position=w,p.internals.positionAbsolute=C,d.set(p.id,p)}c(d)},[])}const C0=x.createContext(null),$W=C0.Provider;C0.Consumer;const KR=()=>x.useContext(C0),FW=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),zW=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:a,connection:i}=r,{fromHandle:l,toHandle:c,isValid:u}=i,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:a===Ji.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function VW({type:e="source",position:t=Ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:f,onTouchStart:d,...m},h){var $,L;const y=i||null,g=e==="target",b=ft(),p=KR(),{connectOnClick:v,noPanClassName:w,rfId:C}=He(FW,dt),{connectingFrom:N,connectingTo:j,clickConnecting:S,isPossibleEndHandle:P,connectionInProcess:M,clickConnectionInProcess:E,valid:k}=He(zW(p,y,e),dt);p||(L=($=b.getState()).onError)==null||L.call($,"010",ds.error010());const T=F=>{const{defaultEdgeOptions:_,onConnect:I,hasDefaultEdges:A}=b.getState(),B={..._,...F};if(A){const{edges:U,setEdges:O}=b.getState();O(pH(B,U))}I==null||I(B),l==null||l(B)},D=F=>{if(!p)return;const _=yR(F.nativeEvent);if(o&&(_&&F.button===0||!_)){const I=b.getState();Qx.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:g,handleId:y,nodeId:p,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:T,isValidConnection:n||I.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}_?f==null||f(F):d==null||d(F)},R=F=>{const{onClickConnectStart:_,onClickConnectEnd:I,connectionClickStartHandle:A,connectionMode:B,isValidConnection:U,lib:O,rfId:q,nodeLookup:ne,connection:se}=b.getState();if(!p||!A&&!o)return;if(!A){_==null||_(F.nativeEvent,{nodeId:p,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:p,type:e,id:y}});return}const z=gR(F.target),W=n||U,{connection:Q,isValid:ie}=Qx.isValid(F.nativeEvent,{handle:{nodeId:p,id:y,type:e},connectionMode:B,fromNodeId:A.nodeId,fromHandleId:A.id||null,fromType:A.type,isValidConnection:W,flowId:q,doc:z,lib:O,nodeLookup:ne});ie&&Q&&T(Q);const ae=structuredClone(se);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,I==null||I(F,ae),b.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":y,"data-nodeid":p,"data-handlepos":t,"data-id":`${C}-${p}-${y}-${e}`,className:It(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!g,target:g,connectable:r,connectablestart:o,connectableend:a,clickconnecting:S,connectingfrom:N,connectingto:j,valid:k,connectionindicator:r&&(!M||P)&&(M||E?a:o)}]),onMouseDown:D,onTouchStart:D,onClick:v?R:void 0,ref:h,...m,children:c})}const bo=x.memo(BR(VW));function BW({data:e,isConnectable:t,sourcePosition:n=Ee.Bottom}){return s.jsxs(s.Fragment,{children:[e==null?void 0:e.label,s.jsx(bo,{type:"source",position:n,isConnectable:t})]})}function UW({data:e,isConnectable:t,targetPosition:n=Ee.Top,sourcePosition:r=Ee.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(bo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,s.jsx(bo,{type:"source",position:r,isConnectable:t})]})}function HW(){return null}function WW({data:e,isConnectable:t,targetPosition:n=Ee.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(bo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const sm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nj={input:BW,default:UW,output:WW,group:HW};function KW(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const qW=e=>{const{width:t,height:n,x:r,y:o}=Mu(e.nodeLookup,{filter:a=>!!a.selected});return{width:Er(t)?t:null,height:Er(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function YW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ft(),{width:o,height:a,transformString:i,userSelectionActive:l}=He(qW,dt),c=WR(),u=x.useRef(null);if(x.useEffect(()=>{var m;n||(m=u.current)==null||m.focus({preventScroll:!0})},[n]),HR({nodeRef:u}),l||!o||!a)return null;const f=e?m=>{const h=r.getState().nodes.filter(y=>y.selected);e(m,h)}:void 0,d=m=>{Object.prototype.hasOwnProperty.call(sm,m.key)&&(m.preventDefault(),c({direction:sm[m.key],factor:m.shiftKey?4:1}))};return s.jsx("div",{className:It(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:s.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:o,height:a}})})}const Cj=typeof window<"u"?window:void 0,GW=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function qR({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:f,selectionMode:d,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:y,panActivationKeyCode:g,zoomActivationKeyCode:b,elementsSelectable:p,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:C,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:S,panOnDrag:P,defaultViewport:M,translateExtent:E,minZoom:k,maxZoom:T,preventScrolling:D,onSelectionContextMenu:R,noWheelClassName:$,noPanClassName:L,disableKeyboardA11y:F,onViewportChange:_,isControlledViewport:I}){const{nodesSelectionActive:A,userSelectionActive:B}=He(GW,dt),U=Zc(u,{target:Cj}),O=Zc(g,{target:Cj}),q=O||P,ne=O||C,se=f&&q!==!0,z=U||B||se;return MW({deleteKeyCode:c,multiSelectionKeyCode:y}),s.jsx(AW,{onPaneContextMenu:a,elementsSelectable:p,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:ne,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:S,panOnDrag:!U&&q,defaultViewport:M,translateExtent:E,minZoom:k,maxZoom:T,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:$,noPanClassName:L,onViewportChange:_,isControlledViewport:I,paneClickDistance:l,selectionOnDrag:se,children:s.jsxs(LW,{onSelectionStart:m,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:q,isSelecting:!!z,selectionMode:d,selectionKeyPressed:U,paneClickDistance:l,selectionOnDrag:se,children:[e,A&&s.jsx(YW,{onSelectionContextMenu:R,noPanClassName:L,disableKeyboardA11y:F})]})})}qR.displayName="FlowRenderer";const XW=x.memo(qR),QW=e=>t=>e?g0(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function JW(e){return He(x.useCallback(QW(e),[e]),dt)}const ZW=e=>e.updateNodeInternals;function eK(){const e=He(ZW),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const a=o.target.getAttribute("data-id");r.set(a,{id:a,nodeElement:o.target,force:!0})}),e(r)}));return x.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function tK({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ft(),a=x.useRef(null),i=x.useRef(null),l=x.useRef(e.sourcePosition),c=x.useRef(e.targetPosition),u=x.useRef(t),f=n&&!!e.internals.handleBounds;return x.useEffect(()=>{a.current&&!e.hidden&&(!f||i.current!==a.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(a.current),i.current=a.current)},[f,e.hidden]),x.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),x.useEffect(()=>{if(a.current){const d=u.current!==t,m=l.current!==e.sourcePosition,h=c.current!==e.targetPosition;(d||m||h)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function nK({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:a,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:f,resizeObserver:d,noDragClassName:m,noPanClassName:h,disableKeyboardA11y:y,rfId:g,nodeTypes:b,nodeClickDistance:p,onError:v}){const{node:w,internals:C,isParent:N}=He(W=>{const Q=W.nodeLookup.get(e),ie=W.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ie}},dt);let j=w.type||"default",S=(b==null?void 0:b[j])||Nj[j];S===void 0&&(v==null||v("003",ds.error003(j)),j="default",S=(b==null?void 0:b.default)||Nj.default);const P=!!(w.draggable||l&&typeof w.draggable>"u"),M=!!(w.selectable||c&&typeof w.selectable>"u"),E=!!(w.connectable||u&&typeof w.connectable>"u"),k=!!(w.focusable||f&&typeof w.focusable>"u"),T=ft(),D=hR(w),R=tK({node:w,nodeType:j,hasDimensions:D,resizeObserver:d}),$=HR({nodeRef:R,disabled:w.hidden||!P,noDragClassName:m,handleSelector:w.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:p}),L=WR();if(w.hidden)return null;const F=Ws(w),_=KW(w),I=M||P||t||n||r||o,A=n?W=>n(W,{...C.userNode}):void 0,B=r?W=>r(W,{...C.userNode}):void 0,U=o?W=>o(W,{...C.userNode}):void 0,O=a?W=>a(W,{...C.userNode}):void 0,q=i?W=>i(W,{...C.userNode}):void 0,ne=W=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ie}=T.getState();M&&(!Q||!P||ie>0)&&Jx({id:e,store:T,nodeRef:R}),t&&t(W,{...C.userNode})},se=W=>{if(!(xR(W.nativeEvent)||y)){if(oR.includes(W.key)&&M){const Q=W.key==="Escape";Jx({id:e,store:T,unselect:Q,nodeRef:R})}else if(P&&w.selected&&Object.prototype.hasOwnProperty.call(sm,W.key)){W.preventDefault();const{ariaLabelConfig:Q}=T.getState();T.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),L({direction:sm[W.key],factor:W.shiftKey?4:1})}}},z=()=>{var he;if(y||!((he=R.current)!=null&&he.matches(":focus-visible")))return;const{transform:W,width:Q,height:ie,autoPanOnNodeFocus:ae,setCenter:oe}=T.getState();if(!ae)return;g0(new Map([[e,w]]),{x:0,y:0,width:Q,height:ie},W,!0).length>0||oe(w.position.x+F.width/2,w.position.y+F.height/2,{zoom:W[2]})};return s.jsx("div",{className:It(["react-flow__node",`react-flow__node-${j}`,{[h]:P},w.className,{selected:w.selected,selectable:M,parent:N,draggable:P,dragging:$}]),ref:R,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:D?"visible":"hidden",...w.style,..._},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:A,onMouseMove:B,onMouseLeave:U,onContextMenu:O,onClick:ne,onDoubleClick:q,onKeyDown:k?se:void 0,tabIndex:k?0:void 0,onFocus:k?z:void 0,role:w.ariaRole??(k?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${LR}-${g}`,"aria-label":w.ariaLabel,...w.domAttributes,children:s.jsx($W,{value:e,children:s.jsx(S,{id:e,data:w.data,type:j,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:w.selected??!1,selectable:M,draggable:P,deletable:w.deletable??!0,isConnectable:E,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:$,dragHandle:w.dragHandle,zIndex:C.z,parentId:w.parentId,...F})})})}var rK=x.memo(nK);const sK=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function YR(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:a}=He(sK,dt),i=JW(e.onlyRenderVisibleElements),l=eK();return s.jsx("div",{className:"react-flow__nodes",style:Ch,children:i.map(c=>s.jsx(rK,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:a},c))})}YR.displayName="NodeRenderer";const oK=x.memo(YR);function aK(e){return He(x.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const a=n.nodeLookup.get(o.source),i=n.nodeLookup.get(o.target);a&&i&&fH({sourceNode:a,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),dt)}const iK=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return s.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},lK=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return s.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Sj={[wa.Arrow]:iK,[wa.ArrowClosed]:lK};function cK(e){const t=ft();return x.useMemo(()=>{var o,a;return Object.prototype.hasOwnProperty.call(Sj,e)?Sj[e]:((a=(o=t.getState()).onError)==null||a.call(o,"009",ds.error009(e)),null)},[e])}const uK=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=cK(t);return c?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:s.jsx(c,{color:n,strokeWidth:i})}):null},GR=({defaultColor:e,rfId:t})=>{const n=He(a=>a.edges),r=He(a=>a.defaultEdgeOptions),o=x.useMemo(()=>wH(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:o.map(a=>s.jsx(uK,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};GR.displayName="MarkerDefinitions";var dK=x.memo(GR);function XR({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:a,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...f}){const[d,m]=x.useState({x:1,y:0,width:0,height:0}),h=It(["react-flow__edge-textwrapper",u]),y=x.useRef(null);return x.useEffect(()=>{if(y.current){const g=y.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?s.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:h,visibility:d.width?"visible":"hidden",...f,children:[o&&s.jsx("rect",{width:d.width+2*i[0],x:-i[0],y:-i[1],height:d.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:y,style:r,children:n}),c]}):null}XR.displayName="EdgeText";const fK=x.memo(XR);function Sh({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...f}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...f,d:e,fill:"none",className:It(["react-flow__edge-path",f.className])}),u?s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Er(t)&&Er(n)?s.jsx(fK,{x:t,y:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function kj({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ee.Left||e===Ee.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function QR({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:a=Ee.Top}){const[i,l]=kj({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,u]=kj({pos:a,x1:r,y1:o,x2:e,y2:t}),[f,d,m,h]=vR({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${r},${o}`,f,d,m,h]}function JR(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:h,style:y,markerEnd:g,markerStart:b,interactionWidth:p})=>{const[v,w,C]=QR({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:a,targetPosition:l}),N=e.isInternal?void 0:t;return s.jsx(Sh,{id:N,path:v,labelX:w,labelY:C,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:h,style:y,markerEnd:g,markerStart:b,interactionWidth:p})})}const mK=JR({isInternal:!1}),ZR=JR({isInternal:!0});mK.displayName="SimpleBezierEdge";ZR.displayName="SimpleBezierEdgeInternal";function eT(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,sourcePosition:h=Ee.Bottom,targetPosition:y=Ee.Top,markerEnd:g,markerStart:b,pathOptions:p,interactionWidth:v})=>{const[w,C,N]=rm({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:a,targetPosition:y,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),j=e.isInternal?void 0:t;return s.jsx(Sh,{id:j,path:w,labelX:C,labelY:N,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:g,markerStart:b,interactionWidth:v})})}const tT=eT({isInternal:!1}),nT=eT({isInternal:!0});tT.displayName="SmoothStepEdge";nT.displayName="SmoothStepEdgeInternal";function rT(e){return x.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return s.jsx(tT,{...n,id:r,pathOptions:x.useMemo(()=>{var a;return{borderRadius:0,offset:(a=n.pathOptions)==null?void 0:a.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const hK=rT({isInternal:!1}),sT=rT({isInternal:!0});hK.displayName="StepEdge";sT.displayName="StepEdgeInternal";function oT(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:h,markerStart:y,interactionWidth:g})=>{const[b,p,v]=jR({sourceX:n,sourceY:r,targetX:o,targetY:a}),w=e.isInternal?void 0:t;return s.jsx(Sh,{id:w,path:b,labelX:p,labelY:v,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:h,markerStart:y,interactionWidth:g})})}const pK=oT({isInternal:!1}),aT=oT({isInternal:!0});pK.displayName="StraightEdge";aT.displayName="StraightEdgeInternal";function iT(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:i=Ee.Bottom,targetPosition:l=Ee.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:h,style:y,markerEnd:g,markerStart:b,pathOptions:p,interactionWidth:v})=>{const[w,C,N]=wR({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:a,targetPosition:l,curvature:p==null?void 0:p.curvature}),j=e.isInternal?void 0:t;return s.jsx(Sh,{id:j,path:w,labelX:C,labelY:N,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:h,style:y,markerEnd:g,markerStart:b,interactionWidth:v})})}const gK=iT({isInternal:!1}),lT=iT({isInternal:!0});gK.displayName="BezierEdge";lT.displayName="BezierEdgeInternal";const Ej={default:lT,straight:aT,step:sT,smoothstep:nT,simplebezier:ZR},Pj={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},xK=(e,t,n)=>n===Ee.Left?e-t:n===Ee.Right?e+t:e,yK=(e,t,n)=>n===Ee.Top?e-t:n===Ee.Bottom?e+t:e,Mj="react-flow__edgeupdater";function Rj({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:a,onMouseOut:i,type:l}){return s.jsx("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:i,className:It([Mj,`${Mj}-${l}`]),cx:xK(t,r,e),cy:yK(n,r,e),r,stroke:"transparent",fill:"transparent"})}function vK({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:a,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:f,onReconnectEnd:d,setReconnecting:m,setUpdateHover:h}){const y=ft(),g=(C,N)=>{if(C.button!==0)return;const{autoPanOnConnect:j,domNode:S,isValidConnection:P,connectionMode:M,connectionRadius:E,lib:k,onConnectStart:T,onConnectEnd:D,cancelConnection:R,nodeLookup:$,rfId:L,panBy:F,updateConnection:_}=y.getState(),I=N.type==="target",A=(O,q)=>{m(!1),d==null||d(O,n,N.type,q)},B=O=>u==null?void 0:u(n,O),U=(O,q)=>{m(!0),f==null||f(C,n,N.type),T==null||T(O,q)};Qx.onPointerDown(C.nativeEvent,{autoPanOnConnect:j,connectionMode:M,connectionRadius:E,domNode:S,handleId:N.id,nodeId:N.nodeId,nodeLookup:$,isTarget:I,edgeUpdaterType:N.type,lib:k,flowId:L,cancelConnection:R,panBy:F,isValidConnection:P,onConnect:B,onConnectStart:U,onConnectEnd:D,onReconnectEnd:A,updateConnection:_,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},b=C=>g(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=C=>g(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>h(!0),w=()=>h(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(Rj,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:b,onMouseEnter:v,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&s.jsx(Rj,{position:c,centerX:a,centerY:i,radius:t,onMouseDown:p,onMouseEnter:v,onMouseOut:w,type:"target"})]})}function wK({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:a,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:f,onReconnect:d,onReconnectStart:m,onReconnectEnd:h,rfId:y,edgeTypes:g,noPanClassName:b,onError:p,disableKeyboardA11y:v}){let w=He(oe=>oe.edgeLookup.get(e));const C=He(oe=>oe.defaultEdgeOptions);w=C?{...C,...w}:w;let N=w.type||"default",j=(g==null?void 0:g[N])||Ej[N];j===void 0&&(p==null||p("011",ds.error011(N)),N="default",j=(g==null?void 0:g.default)||Ej.default);const S=!!(w.focusable||t&&typeof w.focusable>"u"),P=typeof d<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),M=!!(w.selectable||r&&typeof w.selectable>"u"),E=x.useRef(null),[k,T]=x.useState(!1),[D,R]=x.useState(!1),$=ft(),{zIndex:L,sourceX:F,sourceY:_,targetX:I,targetY:A,sourcePosition:B,targetPosition:U}=He(x.useCallback(oe=>{const Y=oe.nodeLookup.get(w.source),he=oe.nodeLookup.get(w.target);if(!Y||!he)return{zIndex:w.zIndex,...Pj};const fe=vH({id:e,sourceNode:Y,targetNode:he,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:oe.connectionMode,onError:p});return{zIndex:dH({selected:w.selected,zIndex:w.zIndex,sourceNode:Y,targetNode:he,elevateOnSelect:oe.elevateEdgesOnSelect,zIndexMode:oe.zIndexMode}),...fe||Pj}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),dt),O=x.useMemo(()=>w.markerStart?`url('#${Gx(w.markerStart,y)}')`:void 0,[w.markerStart,y]),q=x.useMemo(()=>w.markerEnd?`url('#${Gx(w.markerEnd,y)}')`:void 0,[w.markerEnd,y]);if(w.hidden||F===null||_===null||I===null||A===null)return null;const ne=oe=>{var Se;const{addSelectedEdges:Y,unselectNodesAndEdges:he,multiSelectionActive:fe}=$.getState();M&&($.setState({nodesSelectionActive:!1}),w.selected&&fe?(he({nodes:[],edges:[w]}),(Se=E.current)==null||Se.blur()):Y([e])),o&&o(oe,w)},se=a?oe=>{a(oe,{...w})}:void 0,z=i?oe=>{i(oe,{...w})}:void 0,W=l?oe=>{l(oe,{...w})}:void 0,Q=c?oe=>{c(oe,{...w})}:void 0,ie=u?oe=>{u(oe,{...w})}:void 0,ae=oe=>{var Y;if(!v&&oR.includes(oe.key)&&M){const{unselectNodesAndEdges:he,addSelectedEdges:fe}=$.getState();oe.key==="Escape"?((Y=E.current)==null||Y.blur(),he({edges:[w]})):fe([e])}};return s.jsx("svg",{style:{zIndex:L},children:s.jsxs("g",{className:It(["react-flow__edge",`react-flow__edge-${N}`,w.className,b,{selected:w.selected,animated:w.animated,inactive:!M&&!o,updating:k,selectable:M}]),onClick:ne,onDoubleClick:se,onContextMenu:z,onMouseEnter:W,onMouseMove:Q,onMouseLeave:ie,onKeyDown:S?ae:void 0,tabIndex:S?0:void 0,role:w.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":S?`${OR}-${y}`:void 0,ref:E,...w.domAttributes,children:[!D&&s.jsx(j,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:M,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:F,sourceY:_,targetX:I,targetY:A,sourcePosition:B,targetPosition:U,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:O,markerEnd:q,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),P&&s.jsx(vK,{edge:w,isReconnectable:P,reconnectRadius:f,onReconnect:d,onReconnectStart:m,onReconnectEnd:h,sourceX:F,sourceY:_,targetX:I,targetY:A,sourcePosition:B,targetPosition:U,setUpdateHover:T,setReconnecting:R})]})})}var bK=x.memo(wK);const jK=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function cT({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:a,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:m,onReconnectStart:h,onReconnectEnd:y,disableKeyboardA11y:g}){const{edgesFocusable:b,edgesReconnectable:p,elementsSelectable:v,onError:w}=He(jK,dt),C=aK(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(dK,{defaultColor:e,rfId:n}),C.map(N=>s.jsx(bK,{id:N,edgesFocusable:b,edgesReconnectable:p,elementsSelectable:v,noPanClassName:o,onReconnect:a,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f,reconnectRadius:d,onDoubleClick:m,onReconnectStart:h,onReconnectEnd:y,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:g},N))]})}cT.displayName="EdgeRenderer";const NK=x.memo(cT),CK=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function SK({children:e}){const t=He(CK);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function kK(e){const t=Au(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const EK=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function PK(e){const t=He(EK),n=ft();return x.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function MK(e){return e.connection.inProgress?{...e.connection,to:Tu(e.connection.to,e.transform)}:{...e.connection}}function RK(e){return MK}function TK(e){const t=RK();return He(t,dt)}const AK=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function _K({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:a,height:i,isValid:l,inProgress:c}=He(AK,dt);return!(a&&o&&c)?null:s.jsx("svg",{style:e,width:a,height:i,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:It(["react-flow__connection",lR(l)]),children:s.jsx(uT,{style:t,type:n,CustomComponent:r,isValid:l})})})}const uT=({style:e,type:t=co.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:a,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:f,toHandle:d,toPosition:m,pointer:h}=TK();if(!o)return;if(n)return s.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:a.x,fromY:a.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:m,connectionStatus:lR(r),toNode:f,toHandle:d,pointer:h});let y="";const g={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:m};switch(t){case co.Bezier:[y]=wR(g);break;case co.SimpleBezier:[y]=QR(g);break;case co.Step:[y]=rm({...g,borderRadius:0});break;case co.SmoothStep:[y]=rm(g);break;default:[y]=jR(g)}return s.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};uT.displayName="ConnectionLine";const IK={};function Tj(e=IK){x.useRef(e),ft(),x.useEffect(()=>{},[e])}function DK(){ft(),x.useRef(!1),x.useEffect(()=>{},[])}function dT({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:m,onSelectionEnd:h,connectionLineType:y,connectionLineStyle:g,connectionLineComponent:b,connectionLineContainerStyle:p,selectionKeyCode:v,selectionOnDrag:w,selectionMode:C,multiSelectionKeyCode:N,panActivationKeyCode:j,zoomActivationKeyCode:S,deleteKeyCode:P,onlyRenderVisibleElements:M,elementsSelectable:E,defaultViewport:k,translateExtent:T,minZoom:D,maxZoom:R,preventScrolling:$,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:_,panOnScroll:I,panOnScrollSpeed:A,panOnScrollMode:B,zoomOnDoubleClick:U,panOnDrag:O,onPaneClick:q,onPaneMouseEnter:ne,onPaneMouseMove:se,onPaneMouseLeave:z,onPaneScroll:W,onPaneContextMenu:Q,paneClickDistance:ie,nodeClickDistance:ae,onEdgeContextMenu:oe,onEdgeMouseEnter:Y,onEdgeMouseMove:he,onEdgeMouseLeave:fe,reconnectRadius:Se,onReconnect:Me,onReconnectStart:qe,onReconnectEnd:Ue,noDragClassName:V,noWheelClassName:K,noPanClassName:X,disableKeyboardA11y:me,nodeExtent:pe,rfId:ue,viewport:H,onViewportChange:ee}){return Tj(e),Tj(t),DK(),kK(n),PK(H),s.jsx(XW,{onPaneClick:q,onPaneMouseEnter:ne,onPaneMouseMove:se,onPaneMouseLeave:z,onPaneContextMenu:Q,onPaneScroll:W,paneClickDistance:ie,deleteKeyCode:P,selectionKeyCode:v,selectionOnDrag:w,selectionMode:C,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:N,panActivationKeyCode:j,zoomActivationKeyCode:S,elementsSelectable:E,zoomOnScroll:F,zoomOnPinch:_,zoomOnDoubleClick:U,panOnScroll:I,panOnScrollSpeed:A,panOnScrollMode:B,panOnDrag:O,defaultViewport:k,translateExtent:T,minZoom:D,maxZoom:R,onSelectionContextMenu:d,preventScrolling:$,noDragClassName:V,noWheelClassName:K,noPanClassName:X,disableKeyboardA11y:me,onViewportChange:ee,isControlledViewport:!!H,children:s.jsxs(SK,{children:[s.jsx(NK,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:i,onReconnect:Me,onReconnectStart:qe,onReconnectEnd:Ue,onlyRenderVisibleElements:M,onEdgeContextMenu:oe,onEdgeMouseEnter:Y,onEdgeMouseMove:he,onEdgeMouseLeave:fe,reconnectRadius:Se,defaultMarkerColor:L,noPanClassName:X,disableKeyboardA11y:me,rfId:ue}),s.jsx(_K,{style:g,type:y,component:b,containerStyle:p}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(oK,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:ae,onlyRenderVisibleElements:M,noPanClassName:X,noDragClassName:V,disableKeyboardA11y:me,nodeExtent:pe,rfId:ue}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}dT.displayName="GraphView";const LK=x.memo(dT),Aj=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:d,zIndexMode:m="basic"}={})=>{const h=new Map,y=new Map,g=new Map,b=new Map,p=r??t??[],v=n??e??[],w=f??[0,0],C=d??Gc;SR(g,b,p);const N=Xx(v,h,y,{nodeOrigin:w,nodeExtent:C,zIndexMode:m});let j=[0,0,1];if(i&&o&&a){const S=Mu(h,{filter:k=>!!((k.width||k.initialWidth)&&(k.height||k.initialHeight))}),{x:P,y:M,zoom:E}=x0(S,o,a,c,u,(l==null?void 0:l.padding)??.1);j=[P,M,E]}return{rfId:"1",width:o??0,height:a??0,transform:j,nodes:v,nodesInitialized:N,nodeLookup:h,parentLookup:y,edges:p,edgeLookup:b,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Gc,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ji.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...iR},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:oH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:aR,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},OK=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:d,zIndexMode:m})=>tW((h,y)=>{async function g(){const{nodeLookup:b,panZoom:p,fitViewOptions:v,fitViewResolver:w,width:C,height:N,minZoom:j,maxZoom:S}=y();p&&(await rH({nodes:b,width:C,height:N,panZoom:p,minZoom:j,maxZoom:S},v),w==null||w.resolve(!0),h({fitViewResolver:null}))}return{...Aj({nodes:e,edges:t,width:o,height:a,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:m}),setNodes:b=>{const{nodeLookup:p,parentLookup:v,nodeOrigin:w,elevateNodesOnSelect:C,fitViewQueued:N,zIndexMode:j}=y(),S=Xx(b,p,v,{nodeOrigin:w,nodeExtent:d,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:j});N&&S?(g(),h({nodes:b,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:b,nodesInitialized:S})},setEdges:b=>{const{connectionLookup:p,edgeLookup:v}=y();SR(p,v,b),h({edges:b})},setDefaultNodesAndEdges:(b,p)=>{if(b){const{setNodes:v}=y();v(b),h({hasDefaultNodes:!0})}if(p){const{setEdges:v}=y();v(p),h({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:p,nodeLookup:v,parentLookup:w,domNode:C,nodeOrigin:N,nodeExtent:j,debug:S,fitViewQueued:P,zIndexMode:M}=y(),{changes:E,updatedInternals:k}=EH(b,v,w,C,N,j,M);k&&(NH(v,w,{nodeOrigin:N,nodeExtent:j,zIndexMode:M}),P?(g(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(E==null?void 0:E.length)>0&&(S&&console.log("React Flow: trigger node changes",E),p==null||p(E)))},updateNodePositions:(b,p=!1)=>{const v=[];let w=[];const{nodeLookup:C,triggerNodeChanges:N,connection:j,updateConnection:S,onNodesChangeMiddlewareMap:P}=y();for(const[M,E]of b){const k=C.get(M),T=!!(k!=null&&k.expandParent&&(k!=null&&k.parentId)&&(E!=null&&E.position)),D={id:M,type:"position",position:T?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:p};if(k&&j.inProgress&&j.fromNode.id===k.id){const R=Aa(k,j.fromHandle,Ee.Left,!0);S({...j,from:R})}T&&k.parentId&&v.push({id:M,parentId:k.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),w.push(D)}if(v.length>0){const{parentLookup:M,nodeOrigin:E}=y(),k=N0(v,C,M,E);w.push(...k)}for(const M of P.values())w=M(w);N(w)},triggerNodeChanges:b=>{const{onNodesChange:p,setNodes:v,nodes:w,hasDefaultNodes:C,debug:N}=y();if(b!=null&&b.length){if(C){const j=zR(b,w);v(j)}N&&console.log("React Flow: trigger node changes",b),p==null||p(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:p,setEdges:v,edges:w,hasDefaultEdges:C,debug:N}=y();if(b!=null&&b.length){if(C){const j=VR(b,w);v(j)}N&&console.log("React Flow: trigger edge changes",b),p==null||p(b)}},addSelectedNodes:b=>{const{multiSelectionActive:p,edgeLookup:v,nodeLookup:w,triggerNodeChanges:C,triggerEdgeChanges:N}=y();if(p){const j=b.map(S=>na(S,!0));C(j);return}C(hi(w,new Set([...b]),!0)),N(hi(v))},addSelectedEdges:b=>{const{multiSelectionActive:p,edgeLookup:v,nodeLookup:w,triggerNodeChanges:C,triggerEdgeChanges:N}=y();if(p){const j=b.map(S=>na(S,!0));N(j);return}N(hi(v,new Set([...b]))),C(hi(w,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:p}={})=>{const{edges:v,nodes:w,nodeLookup:C,triggerNodeChanges:N,triggerEdgeChanges:j}=y(),S=b||w,P=p||v,M=S.map(k=>{const T=C.get(k.id);return T&&(T.selected=!1),na(k.id,!1)}),E=P.map(k=>na(k.id,!1));N(M),j(E)},setMinZoom:b=>{const{panZoom:p,maxZoom:v}=y();p==null||p.setScaleExtent([b,v]),h({minZoom:b})},setMaxZoom:b=>{const{panZoom:p,minZoom:v}=y();p==null||p.setScaleExtent([v,b]),h({maxZoom:b})},setTranslateExtent:b=>{var p;(p=y().panZoom)==null||p.setTranslateExtent(b),h({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:p,triggerNodeChanges:v,triggerEdgeChanges:w,elementsSelectable:C}=y();if(!C)return;const N=p.reduce((S,P)=>P.selected?[...S,na(P.id,!1)]:S,[]),j=b.reduce((S,P)=>P.selected?[...S,na(P.id,!1)]:S,[]);v(N),w(j)},setNodeExtent:b=>{const{nodes:p,nodeLookup:v,parentLookup:w,nodeOrigin:C,elevateNodesOnSelect:N,nodeExtent:j,zIndexMode:S}=y();b[0][0]===j[0][0]&&b[0][1]===j[0][1]&&b[1][0]===j[1][0]&&b[1][1]===j[1][1]||(Xx(p,v,w,{nodeOrigin:C,nodeExtent:b,elevateNodesOnSelect:N,checkEquality:!1,zIndexMode:S}),h({nodeExtent:b}))},panBy:b=>{const{transform:p,width:v,height:w,panZoom:C,translateExtent:N}=y();return PH({delta:b,panZoom:C,transform:p,translateExtent:N,width:v,height:w})},setCenter:async(b,p,v)=>{const{width:w,height:C,maxZoom:N,panZoom:j}=y();if(!j)return Promise.resolve(!1);const S=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:N;return await j.setViewport({x:w/2-b*S,y:C/2-p*S,zoom:S},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...iR}})},updateConnection:b=>{h({connection:b})},reset:()=>h({...Aj()})}},Object.is);function fT({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:a,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:f,nodeExtent:d,zIndexMode:m,children:h}){const[y]=x.useState(()=>OK({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:f,nodeExtent:d,zIndexMode:m}));return s.jsx(nW,{value:y,children:s.jsx(SW,{children:h})})}function $K({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:a,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:f,nodeOrigin:d,nodeExtent:m,zIndexMode:h}){return x.useContext(jh)?s.jsx(s.Fragment,{children:e}):s.jsx(fT,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:a,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:d,nodeExtent:m,zIndexMode:h,children:e})}const FK={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zK({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:a,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:m,onConnect:h,onConnectStart:y,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:p,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:C,onNodeContextMenu:N,onNodeDoubleClick:j,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:M,onNodesDelete:E,onEdgesDelete:k,onDelete:T,onSelectionChange:D,onSelectionDragStart:R,onSelectionDrag:$,onSelectionDragStop:L,onSelectionContextMenu:F,onSelectionStart:_,onSelectionEnd:I,onBeforeDelete:A,connectionMode:B,connectionLineType:U=co.Bezier,connectionLineStyle:O,connectionLineComponent:q,connectionLineContainerStyle:ne,deleteKeyCode:se="Backspace",selectionKeyCode:z="Shift",selectionOnDrag:W=!1,selectionMode:Q=Xc.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:ae=Jc()?"Meta":"Control",zoomActivationKeyCode:oe=Jc()?"Meta":"Control",snapToGrid:Y,snapGrid:he,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:Se,nodesDraggable:Me,autoPanOnNodeFocus:qe,nodesConnectable:Ue,nodesFocusable:V,nodeOrigin:K=$R,edgesFocusable:X,edgesReconnectable:me,elementsSelectable:pe=!0,defaultViewport:ue=pW,minZoom:H=.5,maxZoom:ee=2,translateExtent:ge=Gc,preventScrolling:Te=!0,nodeExtent:Oe,defaultMarkerColor:mt="#b1b1b7",zoomOnScroll:Cn=!0,zoomOnPinch:Dt=!0,panOnScroll:Bt=!1,panOnScrollSpeed:Jn=.5,panOnScrollMode:at=va.Free,zoomOnDoubleClick:Zn=!0,panOnDrag:Qt=!0,onPaneClick:zu,onPaneMouseEnter:Vu,onPaneMouseMove:Yh,onPaneMouseLeave:Ml,onPaneScroll:Br,onPaneContextMenu:Gh,paneClickDistance:_e=1,nodeClickDistance:Xe=0,children:et,onReconnect:Dn,onReconnectStart:Ln,onReconnectEnd:Ur,onEdgeContextMenu:vs,onEdgeDoubleClick:On,onEdgeMouseEnter:Hr,onEdgeMouseMove:uI,onEdgeMouseLeave:dI,reconnectRadius:fI=10,onNodesChange:mI,onEdgesChange:hI,noDragClassName:pI="nodrag",noWheelClassName:gI="nowheel",noPanClassName:pw="nopan",fitView:gw,fitViewOptions:xw,connectOnClick:xI,attributionPosition:yI,proOptions:vI,defaultEdgeOptions:wI,elevateNodesOnSelect:bI=!0,elevateEdgesOnSelect:jI=!1,disableKeyboardA11y:yw=!1,autoPanOnConnect:NI,autoPanOnNodeDrag:CI,autoPanSpeed:SI,connectionRadius:kI,isValidConnection:EI,onError:PI,style:MI,id:vw,nodeDragThreshold:RI,connectionDragThreshold:TI,viewport:AI,onViewportChange:_I,width:II,height:DI,colorMode:LI="light",debug:OI,onScroll:Bu,ariaLabelConfig:$I,zIndexMode:ww="basic",...FI},zI){const Xh=vw||"1",VI=vW(LI),BI=x.useCallback(bw=>{bw.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Bu==null||Bu(bw)},[Bu]);return s.jsx("div",{"data-testid":"rf__wrapper",...FI,onScroll:BI,style:{...MI,...FK},ref:zI,className:It(["react-flow",o,VI]),id:vw,role:"application",children:s.jsxs($K,{nodes:e,edges:t,width:II,height:DI,fitView:gw,fitViewOptions:xw,minZoom:H,maxZoom:ee,nodeOrigin:K,nodeExtent:Oe,zIndexMode:ww,children:[s.jsx(LK,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:C,onNodeContextMenu:N,onNodeDoubleClick:j,nodeTypes:a,edgeTypes:i,connectionLineType:U,connectionLineStyle:O,connectionLineComponent:q,connectionLineContainerStyle:ne,selectionKeyCode:z,selectionOnDrag:W,selectionMode:Q,deleteKeyCode:se,multiSelectionKeyCode:ae,panActivationKeyCode:ie,zoomActivationKeyCode:oe,onlyRenderVisibleElements:fe,defaultViewport:ue,translateExtent:ge,minZoom:H,maxZoom:ee,preventScrolling:Te,zoomOnScroll:Cn,zoomOnPinch:Dt,zoomOnDoubleClick:Zn,panOnScroll:Bt,panOnScrollSpeed:Jn,panOnScrollMode:at,panOnDrag:Qt,onPaneClick:zu,onPaneMouseEnter:Vu,onPaneMouseMove:Yh,onPaneMouseLeave:Ml,onPaneScroll:Br,onPaneContextMenu:Gh,paneClickDistance:_e,nodeClickDistance:Xe,onSelectionContextMenu:F,onSelectionStart:_,onSelectionEnd:I,onReconnect:Dn,onReconnectStart:Ln,onReconnectEnd:Ur,onEdgeContextMenu:vs,onEdgeDoubleClick:On,onEdgeMouseEnter:Hr,onEdgeMouseMove:uI,onEdgeMouseLeave:dI,reconnectRadius:fI,defaultMarkerColor:mt,noDragClassName:pI,noWheelClassName:gI,noPanClassName:pw,rfId:Xh,disableKeyboardA11y:yw,nodeExtent:Oe,viewport:AI,onViewportChange:_I}),s.jsx(yW,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:y,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:p,nodesDraggable:Me,autoPanOnNodeFocus:qe,nodesConnectable:Ue,nodesFocusable:V,edgesFocusable:X,edgesReconnectable:me,elementsSelectable:pe,elevateNodesOnSelect:bI,elevateEdgesOnSelect:jI,minZoom:H,maxZoom:ee,nodeExtent:Oe,onNodesChange:mI,onEdgesChange:hI,snapToGrid:Y,snapGrid:he,connectionMode:B,translateExtent:ge,connectOnClick:xI,defaultEdgeOptions:wI,fitView:gw,fitViewOptions:xw,onNodesDelete:E,onEdgesDelete:k,onDelete:T,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:M,onSelectionDrag:$,onSelectionDragStart:R,onSelectionDragStop:L,onMove:f,onMoveStart:d,onMoveEnd:m,noPanClassName:pw,nodeOrigin:K,rfId:Xh,autoPanOnConnect:NI,autoPanOnNodeDrag:CI,autoPanSpeed:SI,onError:PI,connectionRadius:kI,isValidConnection:EI,selectNodesOnDrag:Se,nodeDragThreshold:RI,connectionDragThreshold:TI,onBeforeDelete:A,debug:OI,ariaLabelConfig:$I,zIndexMode:ww}),s.jsx(hW,{onSelectionChange:D}),et,s.jsx(cW,{proOptions:vI,position:yI}),s.jsx(lW,{rfId:Xh,disableKeyboardA11y:yw})]})})}var VK=BR(zK);const BK=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function UK({children:e}){const t=He(BK);return t?ls.createPortal(e,t):null}function HK(e){const[t,n]=x.useState(e),r=x.useCallback(o=>n(a=>zR(o,a)),[]);return[t,n,r]}function WK(e){const[t,n]=x.useState(e),r=x.useCallback(o=>n(a=>VR(o,a)),[]);return[t,n,r]}function KK({onStart:e,onChange:t,onEnd:n}){const r=ft();x.useEffect(()=>{r.setState({onViewportChangeStart:e})},[e]),x.useEffect(()=>{r.setState({onViewportChange:t})},[t]),x.useEffect(()=>{r.setState({onViewportChangeEnd:n})},[n])}function _j(e){return He(x.useCallback(n=>n.nodeLookup.get(e),[e]),dt)}function qK({dimensions:e,lineWidth:t,variant:n,className:r}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:It(["react-flow__background-pattern",n,r])})}function YK({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:It(["react-flow__background-pattern","dots",t])})}var To;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(To||(To={}));const GK={[To.Dots]:1,[To.Lines]:1,[To.Cross]:6},XK=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function mT({id:e,variant:t=To.Dots,gap:n=20,size:r,lineWidth:o=1,offset:a=0,color:i,bgColor:l,style:c,className:u,patternClassName:f}){const d=x.useRef(null),{transform:m,patternId:h}=He(XK,dt),y=r||GK[t],g=t===To.Dots,b=t===To.Cross,p=Array.isArray(n)?n:[n,n],v=[p[0]*m[2]||1,p[1]*m[2]||1],w=y*m[2],C=Array.isArray(a)?a:[a,a],N=b?[w,w]:v,j=[C[0]*m[2]||1+N[0]/2,C[1]*m[2]||1+N[1]/2],S=`${h}${e||""}`;return s.jsxs("svg",{className:It(["react-flow__background",u]),style:{...c,...Ch,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:d,"data-testid":"rf__background",children:[s.jsx("pattern",{id:S,x:m[0]%v[0],y:m[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:g?s.jsx(YK,{radius:w/2,className:f}):s.jsx(qK,{dimensions:N,lineWidth:o,variant:t,className:f})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}mT.displayName="Background";const QK=x.memo(mT);function JK(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ZK(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function eq(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tq(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nq(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Sd({children:e,className:t,...n}){return s.jsx("button",{type:"button",className:It(["react-flow__controls-button",t]),...n,children:e})}const rq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function hT({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:f,position:d="bottom-left",orientation:m="vertical","aria-label":h}){const y=ft(),{isInteractive:g,minZoomReached:b,maxZoomReached:p,ariaLabelConfig:v}=He(rq,dt),{zoomIn:w,zoomOut:C,fitView:N}=Au(),j=()=>{w(),a==null||a()},S=()=>{C(),i==null||i()},P=()=>{N(o),l==null||l()},M=()=>{y.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)},E=m==="horizontal"?"horizontal":"vertical";return s.jsxs(Nh,{className:It(["react-flow__controls",E,u]),position:d,style:e,"data-testid":"rf__controls","aria-label":h??v["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(Sd,{onClick:j,className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:p,children:s.jsx(JK,{})}),s.jsx(Sd,{onClick:S,className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:b,children:s.jsx(ZK,{})})]}),n&&s.jsx(Sd,{className:"react-flow__controls-fitview",onClick:P,title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:s.jsx(eq,{})}),r&&s.jsx(Sd,{className:"react-flow__controls-interactive",onClick:M,title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:g?s.jsx(nq,{}):s.jsx(tq,{})}),f]})}hT.displayName="Controls";const sq=x.memo(hT);function oq({id:e,x:t,y:n,width:r,height:o,style:a,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:f,shapeRendering:d,selected:m,onClick:h}){const{background:y,backgroundColor:g}=a||{},b=i||y||g;return s.jsx("rect",{className:It(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:b,stroke:l,strokeWidth:c},shapeRendering:d,onClick:h?p=>h(p,e):void 0})}const aq=x.memo(oq),iq=e=>e.nodes.map(t=>t.id),Qp=e=>e instanceof Function?e:()=>e;function lq({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:a=aq,onClick:i}){const l=He(iq,dt),c=Qp(t),u=Qp(e),f=Qp(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(m=>s.jsx(uq,{id:m,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:a,onClick:i,shapeRendering:d},m))})}function cq({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:a,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:f,y:d,width:m,height:h}=He(y=>{const{internals:g}=y.nodeLookup.get(e),b=g.userNode,{x:p,y:v}=g.positionAbsolute,{width:w,height:C}=Ws(b);return{node:b,x:p,y:v,width:w,height:C}},dt);return!u||u.hidden||!hR(u)?null:s.jsx(l,{x:f,y:d,width:m,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:a,shapeRendering:i,onClick:c,id:u.id})}const uq=x.memo(cq);var dq=x.memo(lq);const fq=200,mq=150,hq=e=>!e.hidden,pq=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?mR(Mu(e.nodeLookup,{filter:hq}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},gq="react-flow__minimap-desc";function pT({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:f,maskStrokeWidth:d,position:m="bottom-right",onClick:h,onNodeClick:y,pannable:g=!1,zoomable:b=!1,ariaLabel:p,inversePan:v,zoomStep:w=1,offsetScale:C=5}){const N=ft(),j=x.useRef(null),{boundingRect:S,viewBB:P,rfId:M,panZoom:E,translateExtent:k,flowWidth:T,flowHeight:D,ariaLabelConfig:R}=He(pq,dt),$=(e==null?void 0:e.width)??fq,L=(e==null?void 0:e.height)??mq,F=S.width/$,_=S.height/L,I=Math.max(F,_),A=I*$,B=I*L,U=C*I,O=S.x-(A-S.width)/2-U,q=S.y-(B-S.height)/2-U,ne=A+U*2,se=B+U*2,z=`${gq}-${M}`,W=x.useRef(0),Q=x.useRef();W.current=I,x.useEffect(()=>{if(j.current&&E)return Q.current=OH({domNode:j.current,panZoom:E,getTransform:()=>N.getState().transform,getViewScale:()=>W.current}),()=>{var Y;(Y=Q.current)==null||Y.destroy()}},[E]),x.useEffect(()=>{var Y;(Y=Q.current)==null||Y.update({translateExtent:k,width:T,height:D,inversePan:v,pannable:g,zoomStep:w,zoomable:b})},[g,b,v,w,k,T,D]);const ie=h?Y=>{var Se;const[he,fe]=((Se=Q.current)==null?void 0:Se.pointer(Y))||[0,0];h(Y,{x:he,y:fe})}:void 0,ae=y?x.useCallback((Y,he)=>{const fe=N.getState().nodeLookup.get(he).internals.userNode;y(Y,fe)},[]):void 0,oe=p??R["minimap.ariaLabel"];return s.jsx(Nh,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:It(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:$,height:L,viewBox:`${O} ${q} ${ne} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":z,ref:j,onClick:ie,children:[oe&&s.jsx("title",{id:z,children:oe}),s.jsx(dq,{onClick:ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${O-U},${q-U}h${ne+U*2}v${se+U*2}h${-ne-U*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pT.displayName="MiniMap";const xq=x.memo(pT),yq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,vq={[nl.Line]:"right",[nl.Handle]:"bottom-right"};function wq({nodeId:e,position:t,variant:n=nl.Handle,className:r,style:o=void 0,children:a,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:m,autoScale:h=!0,shouldResize:y,onResizeStart:g,onResize:b,onResizeEnd:p}){const v=KR(),w=typeof e=="string"?e:v,C=ft(),N=x.useRef(null),j=n===nl.Handle,S=He(x.useCallback(yq(j&&h),[j,h]),dt),P=x.useRef(null),M=t??vq[n];x.useEffect(()=>{if(!(!N.current||!w))return P.current||(P.current=QH({domNode:N.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:k,transform:T,snapGrid:D,snapToGrid:R,nodeOrigin:$,domNode:L}=C.getState();return{nodeLookup:k,transform:T,snapGrid:D,snapToGrid:R,nodeOrigin:$,paneDomNode:L}},onChange:(k,T)=>{const{triggerNodeChanges:D,nodeLookup:R,parentLookup:$,nodeOrigin:L}=C.getState(),F=[],_={x:k.x,y:k.y},I=R.get(w);if(I&&I.expandParent&&I.parentId){const A=I.origin??L,B=k.width??I.measured.width??0,U=k.height??I.measured.height??0,O={id:I.id,parentId:I.parentId,rect:{width:B,height:U,...pR({x:k.x??I.position.x,y:k.y??I.position.y},{width:B,height:U},I.parentId,R,A)}},q=N0([O],R,$,L);F.push(...q),_.x=k.x?Math.max(A[0]*B,k.x):void 0,_.y=k.y?Math.max(A[1]*U,k.y):void 0}if(_.x!==void 0&&_.y!==void 0){const A={id:w,type:"position",position:{..._}};F.push(A)}if(k.width!==void 0&&k.height!==void 0){const B={id:w,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:k.width,height:k.height}};F.push(B)}for(const A of T){const B={...A,type:"position"};F.push(B)}D(F)},onEnd:({width:k,height:T})=>{const D={id:w,type:"dimensions",resizing:!1,dimensions:{width:k,height:T}};C.getState().triggerNodeChanges([D])}})),P.current.update({controlPosition:M,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:f},keepAspectRatio:d,resizeDirection:m,onResizeStart:g,onResize:b,onResizeEnd:p,shouldResize:y}),()=>{var k;(k=P.current)==null||k.destroy()}},[M,l,c,u,f,d,g,b,p,y]);const E=M.split("-");return s.jsx("div",{className:It(["react-flow__resize-control","nodrag",...E,n,r]),ref:N,style:{...o,scale:S,...i&&{[j?"backgroundColor":"borderColor"]:i}},children:a})}x.memo(wq);function bq(e){var i,l;const t=((i=e.status)==null?void 0:i.phase)||"Unknown",n=(l=e.status)==null?void 0:l.deployment;if(!n)return t;const{replicas:r=0,readyReplicas:o=0,updatedReplicas:a=0}=n;return r>0&&a<r?"Updating":r>0&&o===0?"Pending":r>0&&o<r?"Progressing":o>0&&o>=r?"Ready":t}function Jp(e){let t=0,n=0,r=0;return e.forEach(o=>{const a=bq(o).toLowerCase();a==="ready"||a==="running"?t++:a==="failed"||a==="error"?r++:n++}),{ready:t,pending:n,failed:r}}function Zp({count:e,variant:t}){const n={success:{backgroundColor:"hsl(152 70% 32%)",color:"hsl(152 80% 80%)"},warning:{backgroundColor:"hsl(35 65% 30%)",color:"hsl(38 90% 72%)"},destructive:{backgroundColor:"hsl(0 55% 32%)",color:"hsl(0 80% 78%)"}};return s.jsx("span",{className:"inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 rounded-full text-[9px] font-bold",style:n[t],children:e})}function jq({modelAPIs:e,mcpServers:t,agents:n}){const r=x.useMemo(()=>[{label:"Agents",colorVar:"--agent-color",...Jp(n)},{label:"MCP Servers",colorVar:"--mcpserver-color",...Jp(t)},{label:"Model APIs",colorVar:"--modelapi-color",...Jp(e)}],[e,t,n]);return s.jsx("div",{className:"absolute bottom-3 left-14 z-10 opacity-40 hover:opacity-100 transition-opacity duration-300",children:s.jsx("div",{className:"bg-card/90 backdrop-blur-sm border border-border rounded-lg px-3 py-2 shadow-sm",children:s.jsx("div",{className:"flex flex-col gap-1.5",children:r.map(o=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:`hsl(var(${o.colorVar}))`}}),s.jsx("span",{className:"text-[10px] text-muted-foreground w-[70px] truncate",children:o.label}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zp,{count:o.ready,variant:"success"}),s.jsx(Zp,{count:o.pending,variant:"warning"}),s.jsx(Zp,{count:o.failed,variant:"destructive"})]})]},o.label))})})})}const gT={ModelAPI:"modelapis",MCPServer:"mcpservers",Agent:"agents"},xT=x.createContext(1),yT=x.createContext(!1),Nq={Box:Wt,Server:kt,Bot:ln,Info:ul,MessageSquare:fi,Brain:ui,Wrench:Do,Stethoscope:Sv},Cq={ModelAPI:{icon:Wt,colorClass:"border-l-[hsl(var(--modelapi-color))]",badgeVariant:"modelapi",quickActions:[{icon:"Info",label:"Overview",tab:"overview"},{icon:"Stethoscope",label:"Diagnostics",tab:"diagnostics"}]},MCPServer:{icon:kt,colorClass:"border-l-[hsl(var(--mcpserver-color))]",badgeVariant:"mcpserver",quickActions:[{icon:"Info",label:"Overview",tab:"overview"},{icon:"Wrench",label:"Tools",tab:"tools"}]},Agent:{icon:ln,colorClass:"border-l-[hsl(var(--agent-color))]",badgeVariant:"agent",quickActions:[{icon:"Info",label:"Overview",tab:"overview"},{icon:"MessageSquare",label:"Chat",tab:"chat"},{icon:"Brain",label:"Memory",tab:"memory"}]}};function Sq(e){switch(e==null?void 0:e.toLowerCase()){case"ready":case"running":return"success";case"pending":case"waiting":case"updating":case"progressing":return"warning";case"failed":case"error":return"destructive";default:return"secondary"}}function kq(e){switch(e==null?void 0:e.toLowerCase()){case"ready":case"running":return"bg-success";case"pending":case"waiting":case"updating":case"progressing":return"bg-warning";case"failed":case"error":return"bg-destructive";default:return"bg-muted-foreground"}}function Eq(e){if(!e)return!1;const t=e.toLowerCase();return t.includes("error")||t.includes("warning")||t.includes("fail")||t.includes("crash")}function Pq({data:e,onEdit:t}){const n=Vt(),r=x.useContext(xT),o=x.useContext(yT),a=Cq[e.resourceType],i=a.icon,l=gT[e.resourceType],{namespace:c,name:u}=e.resource.metadata,f=`/${l}/${c}/${u}`,d=(b,p)=>{p.stopPropagation(),n(b==="overview"?f:`${f}?tab=${b}`)},m=b=>{b.stopPropagation(),t==null||t(e)},h=kq(e.status),y=Eq(e.statusMessage),g=s.jsxs(s.Fragment,{children:[s.jsx(bo,{type:"target",position:Ee.Top,id:"top",className:"!w-2 !h-2 !bg-muted-foreground/40 !border-none"}),s.jsx(bo,{type:"target",position:Ee.Left,id:"left",className:"!w-2 !h-2 !bg-muted-foreground/40 !border-none"}),s.jsx(bo,{type:"source",position:Ee.Bottom,id:"bottom",className:"!w-2 !h-2 !bg-muted-foreground/40 !border-none"}),s.jsx(bo,{type:"source",position:Ee.Right,id:"right",className:"!w-2 !h-2 !bg-muted-foreground/40 !border-none"})]});return o?s.jsxs(s.Fragment,{children:[g,s.jsxs("div",{className:`
            flex items-center gap-2 bg-card border border-border rounded-full px-3 py-1.5
            border-l-4 ${a.colorClass}
            shadow-sm hover:shadow-md hover:border-primary/30
            transition-all duration-200
          `,children:[s.jsx(i,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),s.jsx("span",{className:"text-[10px] font-medium text-foreground truncate max-w-[120px]",children:e.label}),s.jsx("div",{className:`w-2 h-2 rounded-full ${h} shrink-0`})]})]}):s.jsxs(s.Fragment,{children:[g,s.jsxs("div",{className:`
          bg-card border border-border rounded-xl px-4 py-3 min-w-[200px] max-w-[240px]
          border-l-4 ${a.colorClass}
          shadow-sm hover:shadow-md hover:border-primary/30
          transition-all duration-200 group
          ${e.isHighlighted?"ring-2 ring-primary ring-offset-2 ring-offset-background":""}
        `,style:e.isDimmed?{opacity:.15,pointerEvents:"none"}:void 0,children:[s.jsxs("div",{className:"absolute -top-1.5 -right-1.5 flex items-center gap-1",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h} border-2 border-card`}),y&&s.jsx(Dc,{className:"h-3 w-3 text-warning"})]}),s.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[s.jsx(i,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"}),s.jsx("span",{className:"text-sm font-semibold text-foreground truncate flex-1",children:e.label})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground font-mono truncate",children:e.namespace}),s.jsx(Z,{variant:Sq(e.status),className:"text-[9px] px-1.5 py-0 h-4",children:e.status||"Unknown"})]}),r>=1.2&&e.resource.metadata.labels&&s.jsx("div",{className:"border-t border-border/50 pt-1.5 mt-1 transition-opacity duration-200",children:Object.entries(e.resource.metadata.labels).slice(0,2).map(([b,p])=>s.jsxs("div",{className:"text-[9px] text-muted-foreground truncate",children:[s.jsx("span",{className:"font-mono",children:b}),": ",p]},b))}),s.jsx("div",{className:"grid grid-cols-4 gap-0 mt-1.5 border-t border-border/50 pt-1.5",children:[...a.quickActions.map(b=>{const p=Nq[b.icon];return s.jsxs(ar,{delayDuration:600,children:[s.jsx(ir,{asChild:!0,children:s.jsx("button",{onClick:v=>d(b.tab,v),className:"p-1.5 rounded-lg text-muted-foreground transition-all duration-300 ease-out hover:scale-[2] hover:text-[hsl(180_100%_80%)] hover:bg-[linear-gradient(135deg,hsl(270_80%_60%/0.25),hsl(190_100%_50%/0.25))] hover:shadow-[0_0_12px_hsl(270_80%_60%/0.5),0_0_24px_hsl(190_100%_50%/0.3)] hover:z-10 relative flex items-center justify-center",children:s.jsx(p,{className:"h-3.5 w-3.5"})})}),s.jsx(Un,{side:"bottom",className:"text-sm px-3 py-1.5 font-medium",children:b.label})]},b.tab)}),...Array.from({length:3-a.quickActions.length},(b,p)=>s.jsx("div",{},`spacer-${p}`)),s.jsxs(ar,{delayDuration:600,children:[s.jsx(ir,{asChild:!0,children:s.jsx("button",{onClick:m,className:"p-1.5 rounded-lg text-muted-foreground transition-all duration-300 ease-out hover:scale-[2] hover:text-[hsl(180_100%_80%)] hover:bg-[linear-gradient(135deg,hsl(270_80%_60%/0.25),hsl(190_100%_50%/0.25))] hover:shadow-[0_0_12px_hsl(270_80%_60%/0.5),0_0_24px_hsl(190_100%_50%/0.3)] hover:z-10 relative flex items-center justify-center",children:s.jsx(u2,{className:"h-3.5 w-3.5"})})}),s.jsx(Un,{side:"bottom",className:"text-sm px-3 py-1.5 font-medium",children:"Edit"})]},"edit")]})]})]})}function Mq({data:e}){return s.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto select-none",children:[s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground/60",children:e.label}),s.jsxs("span",{className:"text-[10px] text-muted-foreground/40",children:["(",e.count,")"]})]})}const Ij=240,Dj=120;function Lj(e,t,n,r){return{top:{x:e+n/2,y:t},bottom:{x:e+n/2,y:t+r},left:{x:e,y:t+r/2},right:{x:e+n,y:t+r/2}}}function Rq(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}const Oj={top:Ee.Top,bottom:Ee.Bottom,left:Ee.Left,right:Ee.Right};function Tq(e,t,n,r,o,a){const i=Lj(e.x,e.y,n,r),l=Lj(t.x,t.y,o,a),c=["top","bottom","left","right"];let u={src:i.right,tgt:l.left,srcSide:"right",tgtSide:"left",d:1/0};for(const f of c)for(const d of c){const m=Rq(i[f],l[d]);m<u.d&&(u={src:i[f],tgt:l[d],srcSide:f,tgtSide:d,d:m})}return u}function Aq({id:e,source:t,target:n,label:r,style:o,markerEnd:a,animated:i,labelStyle:l,labelBgStyle:c}){var M,E,k,T;const u=_j(t),f=_j(n);if(!u||!f)return null;const d=u.internals.positionAbsolute,m=f.internals.positionAbsolute,h=((M=u.measured)==null?void 0:M.width)??Ij,y=((E=u.measured)==null?void 0:E.height)??Dj,g=((k=f.measured)==null?void 0:k.width)??Ij,b=((T=f.measured)==null?void 0:T.height)??Dj,{src:p,tgt:v,srcSide:w,tgtSide:C}=Tq(d,m,h,y,g,b),[N,j,S]=rm({sourceX:p.x,sourceY:p.y,targetX:v.x,targetY:v.y,sourcePosition:Oj[w],targetPosition:Oj[C],borderRadius:8}),P=typeof a=="string"?a:a&&typeof a=="object"&&"type"in a?`url(#${a.type})`:void 0;return s.jsxs(s.Fragment,{children:[s.jsx("path",{id:e,d:N,style:o,className:`react-flow__edge-path ${i?"react-flow__edge-path--animated":""}`,markerEnd:P,fill:"none"}),r&&s.jsx(UK,{children:s.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${j}px, ${S}px)`,pointerEvents:"none",...c,padding:"1px 4px",borderRadius:3},children:s.jsx("span",{style:l,children:r})})})]})}const $j=[{kind:"ModelAPI",label:"ModelAPI",colorVar:"--modelapi-color"},{kind:"Agent",label:"Agent",colorVar:"--agent-color"},{kind:"MCPServer",label:"MCPServer",colorVar:"--mcpserver-color"}];function _q({kindFilter:e,statusFilter:t,searchQuery:n,onToggleKind:r,onToggleStatus:o,onSearchChange:a,onReLayout:i,onFitView:l,onCreateResource:c}){return s.jsxs("div",{className:"absolute top-3 left-3 right-3 z-10 flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fc,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(Re,{placeholder:"Search nodes...",value:n,onChange:u=>a(u.target.value),className:"h-8 w-48 pl-7 text-xs bg-card/90 backdrop-blur-sm border-border"})]}),s.jsx("div",{className:"flex items-center gap-1",children:$j.map(u=>s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs("button",{onClick:()=>c(u.kind),className:"flex items-center gap-1.5 text-[10px] font-medium px-2 py-1 rounded-full border border-border bg-card hover:bg-secondary text-foreground shadow-sm transition-all duration-150",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:`hsl(var(${u.colorVar}))`}}),s.jsx("span",{children:u.label}),s.jsx(Dr,{className:"h-3 w-3 text-muted-foreground"})]})}),s.jsxs(Un,{side:"bottom",children:["Create ",u.label]})]},u.kind))}),s.jsx("div",{className:"flex-1"}),s.jsx("div",{className:"flex items-center gap-1",children:[{key:"ready",color:"hsl(var(--success))"},{key:"pending",color:"hsl(var(--warning))"},{key:"failed",color:"hsl(var(--destructive))"}].map(({key:u,color:f})=>{const d=t.has(u);return s.jsxs("button",{onClick:()=>o(u),className:`
                flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full capitalize transition-all duration-150
                ${d?"bg-secondary text-foreground":"text-muted-foreground/40 hover:text-muted-foreground"}
              `,children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:f,opacity:d?1:.3}}),u]},u)})}),s.jsx("div",{className:"flex items-center gap-1 bg-card/90 backdrop-blur-sm rounded-lg border border-border px-1 py-0.5",children:$j.map(u=>{const f=e.has(u.kind);return s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx("button",{onClick:()=>r(u.kind),className:`flex items-center gap-1 px-1.5 py-1 rounded text-[10px] font-medium transition-all duration-150
                    ${f?"text-foreground":"text-muted-foreground/30"}
                  `,children:s.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0 transition-opacity",style:{backgroundColor:`hsl(var(${u.colorVar}))`,opacity:f?1:.2}})})}),s.jsx(Un,{side:"bottom",children:f?`Hide ${u.label}`:`Show ${u.label}`})]},u.kind)})}),s.jsxs("div",{className:"flex items-center gap-1 bg-card/90 backdrop-blur-sm rounded-lg border border-border px-1 py-0.5",children:[s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"xs",onClick:i,className:"h-7 w-7 p-0",children:s.jsx(CO,{className:"h-3.5 w-3.5"})})}),s.jsx(Un,{side:"bottom",children:"Re-layout (resets positions)"})]}),s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"xs",onClick:l,className:"h-7 w-7 p-0",children:s.jsx(kO,{className:"h-3.5 w-3.5"})})}),s.jsx(Un,{side:"bottom",children:"Fit to view"})]})]})]})}var S0="ContextMenu",[Iq]=Xt(S0,[lh]),Nn=lh(),[Dq,vT]=Iq(S0),wT=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:o,modal:a=!0}=e,[i,l]=x.useState(!1),c=Nn(t),u=St(r),f=x.useCallback(d=>{l(d),u(d)},[u]);return s.jsx(Dq,{scope:t,open:i,onOpenChange:f,modal:a,children:s.jsx(UP,{...c,dir:o,open:i,onOpenChange:f,modal:a,children:n})})};wT.displayName=S0;var bT="ContextMenuTrigger",jT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=e,a=vT(bT,n),i=Nn(n),l=x.useRef({x:0,y:0}),c=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=x.useRef(0),f=x.useCallback(()=>window.clearTimeout(u.current),[]),d=m=>{l.current={x:m.clientX,y:m.clientY},a.onOpenChange(!0)};return x.useEffect(()=>f,[f]),x.useEffect(()=>void(r&&f()),[r,f]),s.jsxs(s.Fragment,{children:[s.jsx(HP,{...i,virtualRef:c}),s.jsx(Pe.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...o,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:le(e.onContextMenu,m=>{f(),d(m),m.preventDefault()}),onPointerDown:r?e.onPointerDown:le(e.onPointerDown,kd(m=>{f(),u.current=window.setTimeout(()=>d(m),700)})),onPointerMove:r?e.onPointerMove:le(e.onPointerMove,kd(f)),onPointerCancel:r?e.onPointerCancel:le(e.onPointerCancel,kd(f)),onPointerUp:r?e.onPointerUp:le(e.onPointerUp,kd(f))})]})});jT.displayName=bT;var Lq="ContextMenuPortal",NT=e=>{const{__scopeContextMenu:t,...n}=e,r=Nn(t);return s.jsx(WP,{...r,...n})};NT.displayName=Lq;var CT="ContextMenuContent",ST=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=vT(CT,n),a=Nn(n),i=x.useRef(!1);return s.jsx(KP,{...a,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!o.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ST.displayName=CT;var Oq="ContextMenuGroup",$q=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(qP,{...o,...r,ref:t})});$q.displayName=Oq;var Fq="ContextMenuLabel",kT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(YP,{...o,...r,ref:t})});kT.displayName=Fq;var zq="ContextMenuItem",ET=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(GP,{...o,...r,ref:t})});ET.displayName=zq;var Vq="ContextMenuCheckboxItem",PT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(XP,{...o,...r,ref:t})});PT.displayName=Vq;var Bq="ContextMenuRadioGroup",Uq=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(QP,{...o,...r,ref:t})});Uq.displayName=Bq;var Hq="ContextMenuRadioItem",MT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(JP,{...o,...r,ref:t})});MT.displayName=Hq;var Wq="ContextMenuItemIndicator",RT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(ZP,{...o,...r,ref:t})});RT.displayName=Wq;var Kq="ContextMenuSeparator",TT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(eM,{...o,...r,ref:t})});TT.displayName=Kq;var qq="ContextMenuArrow",Yq=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(tM,{...o,...r,ref:t})});Yq.displayName=qq;var Gq="ContextMenuSubTrigger",AT=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(nM,{...o,...r,ref:t})});AT.displayName=Gq;var Xq="ContextMenuSubContent",_T=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Nn(n);return s.jsx(rM,{...o,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_T.displayName=Xq;function kd(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var Qq=wT,Jq=jT,Zq=NT,IT=ST,DT=kT,LT=ET,OT=PT,$T=MT,FT=RT,zT=TT,VT=AT,BT=_T;const eY=Qq,tY=Jq,nY=x.forwardRef(({className:e,inset:t,children:n,...r},o)=>s.jsxs(VT,{ref:o,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r,children:[n,s.jsx(wv,{className:"ml-auto h-4 w-4"})]}));nY.displayName=VT.displayName;const rY=x.forwardRef(({className:e,...t},n)=>s.jsx(BT,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));rY.displayName=BT.displayName;const UT=x.forwardRef(({className:e,...t},n)=>s.jsx(Zq,{children:s.jsx(IT,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));UT.displayName=IT.displayName;const rf=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(LT,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));rf.displayName=LT.displayName;const sY=x.forwardRef(({className:e,children:t,checked:n,...r},o)=>s.jsxs(OT,{ref:o,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FT,{children:s.jsx(Fr,{className:"h-4 w-4"})})}),t]}));sY.displayName=OT.displayName;const oY=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs($T,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FT,{children:s.jsx(o2,{className:"h-2 w-2 fill-current"})})}),t]}));oY.displayName=$T.displayName;const aY=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(DT,{ref:r,className:J("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));aY.displayName=DT.displayName;const HT=x.forwardRef(({className:e,...t},n)=>s.jsx(zT,{ref:n,className:J("-mx-1 my-1 h-px bg-border",e),...t}));HT.displayName=zT.displayName;const iY={overview:Ho,yaml:Wo,pods:os,diagnostics:Sv,tools:Do,chat:fi};function lY(e){const t=[{label:"View Overview",tab:"overview",icon:"overview"},{label:"View YAML",tab:"yaml",icon:"yaml"},{label:"View Pods",tab:"pods",icon:"pods"}];return e==="ModelAPI"&&t.push({label:"View Diagnostics",tab:"diagnostics",icon:"diagnostics"}),e==="MCPServer"&&t.push({label:"View Tools",tab:"tools",icon:"tools"}),e==="Agent"&&t.push({label:"Open Chat",tab:"chat",icon:"chat"}),t}function cY({children:e,data:t,onFocusNode:n,onEditNode:r}){const o=Vt(),a=gT[t.resourceType],{namespace:i,name:l}=t.resource.metadata,c=`/${a}/${i}/${l}`,u=`${t.resourceType}/${i}/${l}`,f=lY(t.resourceType);return s.jsxs(eY,{children:[s.jsx(tY,{asChild:!0,children:e}),s.jsxs(UT,{className:"w-48",children:[f.map(d=>{const m=iY[d.icon]||Ho;return s.jsxs(rf,{onClick:()=>o(d.tab==="overview"?c:`${c}?tab=${d.tab}`),className:"gap-2",children:[s.jsx(m,{className:"h-4 w-4"}),d.label]},d.tab)}),s.jsx(HT,{}),s.jsxs(rf,{onClick:()=>n(u),className:"gap-2",children:[s.jsx(wO,{className:"h-4 w-4"}),"Focus in Graph"]}),s.jsxs(rf,{onClick:()=>r(t),className:"gap-2",children:[s.jsx(u2,{className:"h-4 w-4"}),"Edit"]})]})]})}const Bl=120,uY={nodeSep:80,rankSep:300};function Fj(e){const t=new Map,n=new Map;return e.forEach(r=>{t.has(r.source)||t.set(r.source,new Set),t.get(r.source).add(r.target),n.has(r.target)||n.set(r.target,new Set),n.get(r.target).add(r.source)}),{forward:t,reverse:n}}function dY(e,t){const n=new Map;e.forEach(i=>n.set(i,i));function r(i){for(;n.get(i)!==i;)n.set(i,n.get(n.get(i))),i=n.get(i);return i}function o(i,l){const c=r(i),u=r(l);c!==u&&n.set(c,u)}t.forEach(i=>{n.has(i.source)&&n.has(i.target)&&o(i.source,i.target)});const a=new Map;return e.forEach(i=>{const l=r(i);a.has(l)||a.set(l,new Set),a.get(l).add(i)}),Array.from(a.values())}function fY(e,t){const n=new Set(e.map(c=>c.id)),r=t.filter(c=>n.has(c.source)&&n.has(c.target)),{reverse:o}=Fj(r),a=new Map,i=[];if(e.forEach(c=>{(!o.has(c.id)||o.get(c.id).size===0)&&(a.set(c.id,0),i.push(c.id))}),i.length===0)return e.forEach(c=>a.set(c.id,0)),a;const{forward:l}=Fj(r);for(;i.length>0;){const c=i.shift(),u=a.get(c),f=l.get(c);f&&f.forEach(d=>{const m=a.get(d)??-1;u+1>m&&(a.set(d,u+1),i.push(d))})}return e.forEach(c=>{a.has(c.id)||a.set(c.id,0)}),a}function zj(e,t,n=new Set,r={}){const o={...uY,...r},a=o.rankSep,i=o.nodeSep,l=e.filter(j=>j.type==="resourceNode"),c=e.filter(j=>j.type==="columnHeader");l.filter(j=>{var S;return((S=j.data)==null?void 0:S.resourceType)==="ModelAPI"}),l.filter(j=>{var S;return((S=j.data)==null?void 0:S.resourceType)==="MCPServer"});const u=l.filter(j=>{var S;return((S=j.data)==null?void 0:S.resourceType)==="Agent"}),f=fY(u,t),m=Math.max(0,...Array.from(f.values()))+1,h=1,y=h+m;function g(j){return j*a}const b=dY(l.map(j=>j.id),t);b.sort((j,S)=>S.size-j.size);let p=0;const v=new Map;b.forEach(j=>{const S=new Map;j.forEach(R=>{var _;const $=l.find(I=>I.id===R);if(!$)return;const L=(_=$.data)==null?void 0:_.resourceType;let F;L==="ModelAPI"?F=0:L==="MCPServer"?F=y:F=h+(f.get(R)??0),S.has(F)||S.set(F,[]),S.get(F).push($)});let P=0;S.forEach(R=>{const $=R.length*(Bl+i);$>P&&(P=$)});const M=new Map;Array.from(S.entries()).filter(([R])=>R!==0&&R!==y).forEach(([R,$])=>{$.forEach((L,F)=>{if(!n.has(L.id)){const _=p+F*(Bl+i);v.set(L.id,{x:g(R),y:_}),M.set(L.id,_)}})});const k=S.get(0);k&&k.forEach((R,$)=>{if(n.has(R.id))return;const L=[];t.forEach(_=>{_.source===R.id&&M.has(_.target)&&L.push(M.get(_.target))});const F=L.length>0?L.reduce((_,I)=>_+I,0)/L.length:p+$*(Bl+i);v.set(R.id,{x:g(0),y:F})});const T=S.get(y);T&&T.forEach((R,$)=>{if(n.has(R.id))return;const L=[];t.forEach(_=>{_.source===R.id&&M.has(_.target)&&L.push(M.get(_.target))});const F=L.length>0?L.reduce((_,I)=>_+I,0)/L.length:p+$*(Bl+i);v.set(R.id,{x:g(y),y:F})});const D=i*1.5;p+=P+D}),l.forEach(j=>{var M;if(v.has(j.id)||n.has(j.id))return;const S=(M=j.data)==null?void 0:M.resourceType;let P;S==="ModelAPI"?P=0:S==="MCPServer"?P=y:P=h+(f.get(j.id)??0),v.set(j.id,{x:g(P),y:p}),p+=Bl+i});const w=l.map(j=>{if(n.has(j.id))return j;const S=v.get(j.id);return S?{...j,position:S}:j}),C={ModelAPI:0,Agent:h,MCPServer:y};return[...c.map(j=>{const S=j.id.replace("header-",""),P=C[S];if(P===void 0)return j;let M=0;const E=w.filter(k=>{var D;return n.has(k.id)?!1:((D=k.data)==null?void 0:D.resourceType)===S});return E.length>0&&(M=Math.min(...E.map(k=>k.position.y))),{...j,position:{x:g(P),y:M-60}}}),...w]}const WT="visual-map-node-positions";function eg(e){var i,l;const t=((i=e.status)==null?void 0:i.phase)||"Unknown",n=(l=e.status)==null?void 0:l.deployment;if(!n)return t;const{replicas:r=0,readyReplicas:o=0,updatedReplicas:a=0}=n;return r>0&&a<r?"Updating":r>0&&o===0?"Pending":r>0&&o<r?"Progressing":o>0&&o>=r?"Ready":t}function mY(e,t,n){const r=[],o=[],a=(i,l,c)=>`${i}/${l}/${c}`;return["ModelAPI","Agent","MCPServer"].forEach(i=>{const l=i==="ModelAPI"?e:i==="MCPServer"?t:n,c={ModelAPI:"Model APIs",Agent:"Agents",MCPServer:"MCP Servers"};r.push({id:`header-${i}`,type:"columnHeader",position:{x:0,y:-60},data:{label:c[i],count:l.length},draggable:!1,selectable:!1})}),e.forEach(i=>{var l;r.push({id:a("ModelAPI",i.metadata.namespace,i.metadata.name),type:"resourceNode",position:{x:0,y:0},data:{label:i.metadata.name,namespace:i.metadata.namespace,status:eg(i),statusMessage:(l=i.status)==null?void 0:l.message,resourceType:"ModelAPI",resource:i}})}),t.forEach(i=>{var l;r.push({id:a("MCPServer",i.metadata.namespace,i.metadata.name),type:"resourceNode",position:{x:0,y:0},data:{label:i.metadata.name,namespace:i.metadata.namespace,status:eg(i),statusMessage:(l=i.status)==null?void 0:l.message,resourceType:"MCPServer",resource:i}})}),n.forEach(i=>{var c,u,f,d;const l=a("Agent",i.metadata.namespace,i.metadata.name);if(r.push({id:l,type:"resourceNode",position:{x:0,y:0},data:{label:i.metadata.name,namespace:i.metadata.namespace,status:eg(i),statusMessage:(c=i.status)==null?void 0:c.message,resourceType:"Agent",resource:i}}),i.spec.modelAPI){const m=a("ModelAPI",i.metadata.namespace,i.spec.modelAPI);o.push({id:`edge-modelapi-${i.metadata.name}`,source:m,target:l,type:"dynamic",animated:!0,label:"model",style:{stroke:"hsl(var(--modelapi-color))",strokeWidth:2},markerEnd:{type:wa.ArrowClosed,color:"hsl(var(--modelapi-color))"},labelStyle:{fill:"hsl(var(--muted-foreground))",fontSize:10},labelBgStyle:{fill:"hsl(var(--card))",fillOpacity:.9}})}(u=i.spec.mcpServers)==null||u.forEach(m=>{const h=a("MCPServer",i.metadata.namespace,m);o.push({id:`edge-mcp-${m}-${i.metadata.name}`,source:h,target:l,type:"dynamic",animated:!0,label:"tools",style:{stroke:"hsl(var(--mcpserver-color))",strokeWidth:2},markerEnd:{type:wa.ArrowClosed,color:"hsl(var(--mcpserver-color))"},labelStyle:{fill:"hsl(var(--muted-foreground))",fontSize:10},labelBgStyle:{fill:"hsl(var(--card))",fillOpacity:.9}})}),(d=(f=i.spec.agentNetwork)==null?void 0:f.access)==null||d.forEach(m=>{const h=a("Agent",i.metadata.namespace,m);o.push({id:`edge-a2a-${i.metadata.name}-${m}`,source:l,target:h,type:"dynamic",animated:!0,label:"a2a",style:{stroke:"hsl(var(--agent-color))",strokeWidth:2},markerEnd:{type:wa.ArrowClosed,color:"hsl(var(--agent-color))"},labelStyle:{fill:"hsl(var(--muted-foreground))",fontSize:10},labelBgStyle:{fill:"hsl(var(--card))",fillOpacity:.9}})})}),{nodes:r,edges:o}}function hY(e,t,n){const r=e.map(i=>{var l,c,u,f,d;return`${i.metadata.namespace}/${i.metadata.name}:${(l=i.status)==null?void 0:l.phase}:${((u=(c=i.status)==null?void 0:c.deployment)==null?void 0:u.readyReplicas)??""}/${((d=(f=i.status)==null?void 0:f.deployment)==null?void 0:d.replicas)??""}`}).sort().join(","),o=t.map(i=>{var l,c,u,f,d;return`${i.metadata.namespace}/${i.metadata.name}:${(l=i.status)==null?void 0:l.phase}:${((u=(c=i.status)==null?void 0:c.deployment)==null?void 0:u.readyReplicas)??""}/${((d=(f=i.status)==null?void 0:f.deployment)==null?void 0:d.replicas)??""}`}).sort().join(","),a=n.map(i=>{var l,c,u,f,d,m,h,y;return`${i.metadata.namespace}/${i.metadata.name}:${(l=i.status)==null?void 0:l.phase}:${i.spec.modelAPI}:${(c=i.spec.mcpServers)==null?void 0:c.sort().join("+")}:${((f=(u=i.spec.agentNetwork)==null?void 0:u.access)==null?void 0:f.sort().join("+"))??""}:${((m=(d=i.status)==null?void 0:d.deployment)==null?void 0:m.readyReplicas)??""}/${((y=(h=i.status)==null?void 0:h.deployment)==null?void 0:y.replicas)??""}`}).sort().join(",");return`${r}|${o}|${a}`}function pY(){try{const e=localStorage.getItem(WT);if(e){const t=JSON.parse(e);return new Map(Object.entries(t))}}catch{}return new Map}function Vj(e){try{const t={};e.forEach((n,r)=>{t[r]=n}),localStorage.setItem(WT,JSON.stringify(t))}catch{}}function gY(e,t,n){const r=x.useRef(pY()),o=x.useRef(""),a=x.useRef(!1),i=x.useRef([]),l=x.useRef(new Set),c=x.useMemo(()=>hY(e,t,n),[e,t,n]),{initialNodes:u,initialEdges:f,changed:d,newNodeIds:m}=x.useMemo(()=>{const g=c!==o.current,{nodes:b,edges:p}=mY(e,t,n),v=new Set(b.filter(N=>N.type==="resourceNode").map(N=>N.id)),w=new Set;a.current&&v.forEach(N=>{l.current.has(N)||w.add(N)}),l.current=v;let C;return g||!a.current?(o.current=c,a.current=!0,C=zj(b,p,new Set(r.current.keys())),C=C.map(N=>{const j=r.current.get(N.id);return j?{...N,position:j}:N}),i.current=C):C=i.current,{initialNodes:C,initialEdges:p,changed:g,newNodeIds:w}},[e,t,n,c]),h=x.useCallback((g,b)=>{r.current.set(b.id,{...b.position}),Vj(r.current)},[]),y=x.useCallback((g,b)=>(r.current.clear(),Vj(r.current),zj(g,b,new Set)),[]);return{initialNodes:u,initialEdges:f,changed:d,newNodeIds:m,handleNodeDragStop:h,reLayout:y}}function xY(){const[e,t]=x.useState(new Set(["ModelAPI","MCPServer","Agent"])),[n,r]=x.useState(new Set),[o,a]=x.useState(""),i=x.useCallback(u=>{t(f=>{const d=new Set(f);return d.has(u)?d.size>1&&d.delete(u):d.add(u),d})},[]),l=x.useCallback(u=>{r(f=>{const d=new Set(f);return d.has(u)?d.delete(u):d.add(u),d})},[]),c=x.useCallback((u,f)=>{const d=new Set,m=u.map(y=>{var v;if(y.type!=="resourceNode")return y;const g=y.data;let b=!0;if(e.has(g.resourceType)||(b=!1),n.size>0){const w=(v=g.status)==null?void 0:v.toLowerCase(),N={updating:"pending",progressing:"pending"}[w]||w;n.has(N)||(b=!1)}if(o){const w=o.toLowerCase(),C=g.label.toLowerCase().includes(w),N=g.namespace.toLowerCase().includes(w);!C&&!N&&(b=!1)}if(!b)return d.add(y.id),{...y,data:{...g,isDimmed:!0,isHighlighted:!1}};const p=o.length>0;return{...y,data:{...g,isDimmed:!1,isHighlighted:p}}}),h=f.map(y=>{const g=d.has(y.source)||d.has(y.target);return{...y,style:{...y.style,opacity:g?.1:1},animated:g?!1:y.animated,labelStyle:{...y.labelStyle,opacity:g?0:1}}});return{nodes:m,edges:h}},[e,n,o]);return{kindFilter:e,statusFilter:n,searchQuery:o,toggleKind:i,toggleStatus:l,setSearchQuery:a,applyFilters:c}}var _u=e=>e.type==="checkbox",la=e=>e instanceof Date,mn=e=>e==null;const KT=e=>typeof e=="object";var Rt=e=>!mn(e)&&!Array.isArray(e)&&KT(e)&&!la(e),yY=e=>Rt(e)&&e.target?_u(e.target)?e.target.checked:e.target.value:e,vY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wY=(e,t)=>e.has(vY(t)),bY=e=>{const t=e.constructor&&e.constructor.prototype;return Rt(t)&&t.hasOwnProperty("isPrototypeOf")},k0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ht(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(k0&&(e instanceof Blob||r))&&(n||Rt(e)))if(t=n?[]:{},!n&&!bY(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=ht(e[o]));else return e;return t}var kh=e=>/^\w*$/.test(e),pt=e=>e===void 0,Eh=e=>Array.isArray(e)?e.filter(Boolean):[],E0=e=>Eh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(e,t,n)=>{if(!t||!Rt(e))return n;const r=(kh(t)?[t]:E0(t)).reduce((o,a)=>mn(o)?o:o[a],e);return pt(r)||r===e?pt(e[t])?n:e[t]:r},Yr=e=>typeof e=="boolean",tt=(e,t,n)=>{let r=-1;const o=kh(t)?[t]:E0(t),a=o.length,i=a-1;for(;++r<a;){const l=o[r];let c=n;if(r!==i){const u=e[l];c=Rt(u)||Array.isArray(u)?u:isNaN(+o[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Bj={BLUR:"blur",FOCUS_OUT:"focusout"},sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ns={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qT=te.createContext(null);qT.displayName="HookFormContext";const jY=()=>te.useContext(qT);var NY=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const i=a;return t._proxyFormState[i]!==sr.all&&(t._proxyFormState[i]=!r||sr.all),e[i]}});return o};const YT=typeof window<"u"?te.useLayoutEffect:te.useEffect;var ns=e=>typeof e=="string",CY=(e,t,n,r,o)=>ns(e)?(r&&t.watch.add(e),ve(n,e,o)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),ve(n,a))):(r&&(t.watchAll=!0),n),Zx=e=>mn(e)||!KT(e);function uo(e,t,n=new WeakSet){if(Zx(e)||Zx(t))return e===t;if(la(e)&&la(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const i=e[a];if(!o.includes(a))return!1;if(a!=="ref"){const l=t[a];if(la(i)&&la(l)||Rt(i)&&Rt(l)||Array.isArray(i)&&Array.isArray(l)?!uo(i,l,n):i!==l)return!1}}return!0}var SY=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Rn=e=>Array.isArray(e)?e:[e],Uj=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}},dn=e=>Rt(e)&&!Object.keys(e).length,P0=e=>e.type==="file",kr=e=>typeof e=="function",om=e=>{if(!k0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},GT=e=>e.type==="select-multiple",M0=e=>e.type==="radio",kY=e=>M0(e)||_u(e),tg=e=>om(e)&&e.isConnected;function EY(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=pt(e)?r++:e[t[r++]];return e}function PY(e){for(const t in e)if(e.hasOwnProperty(t)&&!pt(e[t]))return!1;return!0}function Pt(e,t){const n=Array.isArray(t)?t:kh(t)?[t]:E0(t),r=n.length===1?e:EY(e,n),o=n.length-1,a=n[o];return r&&delete r[a],o!==0&&(Rt(r)&&dn(r)||Array.isArray(r)&&PY(r))&&Pt(e,n.slice(0,-1)),e}var XT=e=>{for(const t in e)if(kr(e[t]))return!0;return!1};function am(e,t={}){const n=Array.isArray(e);if(Rt(e)||n)for(const r in e)Array.isArray(e[r])||Rt(e[r])&&!XT(e[r])?(t[r]=Array.isArray(e[r])?[]:{},am(e[r],t[r])):mn(e[r])||(t[r]=!0);return t}function QT(e,t,n){const r=Array.isArray(e);if(Rt(e)||r)for(const o in e)Array.isArray(e[o])||Rt(e[o])&&!XT(e[o])?pt(t)||Zx(n[o])?n[o]=Array.isArray(e[o])?am(e[o],[]):{...am(e[o])}:QT(e[o],mn(t)?{}:t[o],n[o]):n[o]=!uo(e[o],t[o]);return n}var Ul=(e,t)=>QT(e,t,am(t));const Hj={value:!1,isValid:!1},Wj={value:!0,isValid:!0};var JT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pt(e[0].attributes.value)?pt(e[0].value)||e[0].value===""?Wj:{value:e[0].value,isValid:!0}:Wj:Hj}return Hj},ZT=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>pt(e)?e:t?e===""?NaN:e&&+e:n&&ns(e)?new Date(e):r?r(e):e;const Kj={isValid:!1,value:null};var eA=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Kj):Kj;function qj(e){const t=e.ref;return P0(t)?t.files:M0(t)?eA(e.refs).value:GT(t)?[...t.selectedOptions].map(({value:n})=>n):_u(t)?JT(e.refs).value:ZT(pt(t.value)?e.ref.value:t.value,e)}var MY=(e,t,n,r)=>{const o={};for(const a of e){const i=ve(t,a);i&&tt(o,a,i._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},im=e=>e instanceof RegExp,Hl=e=>pt(e)?e:im(e)?e.source:Rt(e)?im(e.value)?e.value.source:e.value:e,pi=e=>({isOnSubmit:!e||e===sr.onSubmit,isOnBlur:e===sr.onBlur,isOnChange:e===sr.onChange,isOnAll:e===sr.all,isOnTouch:e===sr.onTouched});const Yj="AsyncFunction";var RY=e=>!!e&&!!e.validate&&!!(kr(e.validate)&&e.validate.constructor.name===Yj||Rt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Yj)),TY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ey=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ei=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const a=ve(e,o);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],o)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(Ei(l,t))break}else if(Rt(l)&&Ei(l,t))break}}};function Gj(e,t,n){const r=ve(e,n);if(r||kh(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const a=o.join("."),i=ve(t,a),l=ve(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};o.pop()}return{name:n}}var AY=(e,t,n,r)=>{n(e);const{name:o,...a}=e;return dn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!r||sr.all))},_Y=(e,t,n)=>!e||!t||e===t||Rn(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),IY=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,DY=(e,t)=>!Eh(ve(e,t)).length&&Pt(e,t),tA=(e,t,n)=>{const r=Rn(ve(e,n));return tt(r,"root",t[n]),tt(e,n,r),e},sf=e=>ns(e);function Xj(e,t,n="validate"){if(sf(e)||Array.isArray(e)&&e.every(sf)||Yr(e)&&!e)return{type:n,message:sf(e)?e:"",ref:t}}var Ga=e=>Rt(e)&&!im(e)?e:{value:e,message:""},ty=async(e,t,n,r,o,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:f,min:d,max:m,pattern:h,validate:y,name:g,valueAsNumber:b,mount:p}=e._f,v=ve(n,g);if(!p||t.has(g))return{};const w=l?l[0]:i,C=T=>{o&&w.reportValidity&&(w.setCustomValidity(Yr(T)?"":T||""),w.reportValidity())},N={},j=M0(i),S=_u(i),P=j||S,M=(b||P0(i))&&pt(i.value)&&pt(v)||om(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,E=SY.bind(null,g,r,N),k=(T,D,R,$=Ns.maxLength,L=Ns.minLength)=>{const F=T?D:R;N[g]={type:T?$:L,message:F,ref:i,...E(T?$:L,F)}};if(a?!Array.isArray(v)||!v.length:c&&(!P&&(M||mn(v))||Yr(v)&&!v||S&&!JT(l).isValid||j&&!eA(l).isValid)){const{value:T,message:D}=sf(c)?{value:!!c,message:c}:Ga(c);if(T&&(N[g]={type:Ns.required,message:D,ref:w,...E(Ns.required,D)},!r))return C(D),N}if(!M&&(!mn(d)||!mn(m))){let T,D;const R=Ga(m),$=Ga(d);if(!mn(v)&&!isNaN(v)){const L=i.valueAsNumber||v&&+v;mn(R.value)||(T=L>R.value),mn($.value)||(D=L<$.value)}else{const L=i.valueAsDate||new Date(v),F=A=>new Date(new Date().toDateString()+" "+A),_=i.type=="time",I=i.type=="week";ns(R.value)&&v&&(T=_?F(v)>F(R.value):I?v>R.value:L>new Date(R.value)),ns($.value)&&v&&(D=_?F(v)<F($.value):I?v<$.value:L<new Date($.value))}if((T||D)&&(k(!!T,R.message,$.message,Ns.max,Ns.min),!r))return C(N[g].message),N}if((u||f)&&!M&&(ns(v)||a&&Array.isArray(v))){const T=Ga(u),D=Ga(f),R=!mn(T.value)&&v.length>+T.value,$=!mn(D.value)&&v.length<+D.value;if((R||$)&&(k(R,T.message,D.message),!r))return C(N[g].message),N}if(h&&!M&&ns(v)){const{value:T,message:D}=Ga(h);if(im(T)&&!v.match(T)&&(N[g]={type:Ns.pattern,message:D,ref:i,...E(Ns.pattern,D)},!r))return C(D),N}if(y){if(kr(y)){const T=await y(v,n),D=Xj(T,w);if(D&&(N[g]={...D,...E(Ns.validate,D.message)},!r))return C(D.message),N}else if(Rt(y)){let T={};for(const D in y){if(!dn(T)&&!r)break;const R=Xj(await y[D](v,n),w,D);R&&(T={...R,...E(D,R.message)},C(R.message),r&&(N[g]=T))}if(!dn(T)&&(N[g]={ref:w,...T},!r))return N}}return C(!0),N};const LY={mode:sr.onSubmit,reValidateMode:sr.onChange,shouldFocusError:!0};function OY(e={}){let t={...LY,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:kr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=Rt(t.defaultValues)||Rt(t.values)?ht(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ht(o),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const m={array:Uj(),state:Uj()},h=t.criteriaMode===sr.all,y=V=>K=>{clearTimeout(u),u=setTimeout(V,K)},g=async V=>{if(!t.disabled&&(f.isValid||d.isValid||V)){const K=t.resolver?dn((await S()).errors):await M(r,!0);K!==n.isValid&&m.state.next({isValid:K})}},b=(V,K)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((V||Array.from(l.mount)).forEach(X=>{X&&(K?tt(n.validatingFields,X,K):Pt(n.validatingFields,X))}),m.state.next({validatingFields:n.validatingFields,isValidating:!dn(n.validatingFields)}))},p=(V,K=[],X,me,pe=!0,ue=!0)=>{if(me&&X&&!t.disabled){if(i.action=!0,ue&&Array.isArray(ve(r,V))){const H=X(ve(r,V),me.argA,me.argB);pe&&tt(r,V,H)}if(ue&&Array.isArray(ve(n.errors,V))){const H=X(ve(n.errors,V),me.argA,me.argB);pe&&tt(n.errors,V,H),DY(n.errors,V)}if((f.touchedFields||d.touchedFields)&&ue&&Array.isArray(ve(n.touchedFields,V))){const H=X(ve(n.touchedFields,V),me.argA,me.argB);pe&&tt(n.touchedFields,V,H)}(f.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Ul(o,a)),m.state.next({name:V,isDirty:k(V,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tt(a,V,K)},v=(V,K)=>{tt(n.errors,V,K),m.state.next({errors:n.errors})},w=V=>{n.errors=V,m.state.next({errors:n.errors,isValid:!1})},C=(V,K,X,me)=>{const pe=ve(r,V);if(pe){const ue=ve(a,V,pt(X)?ve(o,V):X);pt(ue)||me&&me.defaultChecked||K?tt(a,V,K?ue:qj(pe._f)):R(V,ue),i.mount&&g()}},N=(V,K,X,me,pe)=>{let ue=!1,H=!1;const ee={name:V};if(!t.disabled){if(!X||me){(f.isDirty||d.isDirty)&&(H=n.isDirty,n.isDirty=ee.isDirty=k(),ue=H!==ee.isDirty);const ge=uo(ve(o,V),K);H=!!ve(n.dirtyFields,V),ge?Pt(n.dirtyFields,V):tt(n.dirtyFields,V,!0),ee.dirtyFields=n.dirtyFields,ue=ue||(f.dirtyFields||d.dirtyFields)&&H!==!ge}if(X){const ge=ve(n.touchedFields,V);ge||(tt(n.touchedFields,V,X),ee.touchedFields=n.touchedFields,ue=ue||(f.touchedFields||d.touchedFields)&&ge!==X)}ue&&pe&&m.state.next(ee)}return ue?ee:{}},j=(V,K,X,me)=>{const pe=ve(n.errors,V),ue=(f.isValid||d.isValid)&&Yr(K)&&n.isValid!==K;if(t.delayError&&X?(c=y(()=>v(V,X)),c(t.delayError)):(clearTimeout(u),c=null,X?tt(n.errors,V,X):Pt(n.errors,V)),(X?!uo(pe,X):pe)||!dn(me)||ue){const H={...me,...ue&&Yr(K)?{isValid:K}:{},errors:n.errors,name:V};n={...n,...H},m.state.next(H)}},S=async V=>{b(V,!0);const K=await t.resolver(a,t.context,MY(V||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(V),K},P=async V=>{const{errors:K}=await S(V);if(V)for(const X of V){const me=ve(K,X);me?tt(n.errors,X,me):Pt(n.errors,X)}else n.errors=K;return K},M=async(V,K,X={valid:!0})=>{for(const me in V){const pe=V[me];if(pe){const{_f:ue,...H}=pe;if(ue){const ee=l.array.has(ue.name),ge=pe._f&&RY(pe._f);ge&&f.validatingFields&&b([me],!0);const Te=await ty(pe,l.disabled,a,h,t.shouldUseNativeValidation&&!K,ee);if(ge&&f.validatingFields&&b([me]),Te[ue.name]&&(X.valid=!1,K))break;!K&&(ve(Te,ue.name)?ee?tA(n.errors,Te,ue.name):tt(n.errors,ue.name,Te[ue.name]):Pt(n.errors,ue.name))}!dn(H)&&await M(H,K,X)}}return X.valid},E=()=>{for(const V of l.unMount){const K=ve(r,V);K&&(K._f.refs?K._f.refs.every(X=>!tg(X)):!tg(K._f.ref))&&z(V)}l.unMount=new Set},k=(V,K)=>!t.disabled&&(V&&K&&tt(a,V,K),!uo(A(),o)),T=(V,K,X)=>CY(V,l,{...i.mount?a:pt(K)?o:ns(V)?{[V]:K}:K},X,K),D=V=>Eh(ve(i.mount?a:o,V,t.shouldUnregister?ve(o,V,[]):[])),R=(V,K,X={})=>{const me=ve(r,V);let pe=K;if(me){const ue=me._f;ue&&(!ue.disabled&&tt(a,V,ZT(K,ue)),pe=om(ue.ref)&&mn(K)?"":K,GT(ue.ref)?[...ue.ref.options].forEach(H=>H.selected=pe.includes(H.value)):ue.refs?_u(ue.ref)?ue.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(pe)?H.checked=!!pe.find(ee=>ee===H.value):H.checked=pe===H.value||!!pe)}):ue.refs.forEach(H=>H.checked=H.value===pe):P0(ue.ref)?ue.ref.value="":(ue.ref.value=pe,ue.ref.type||m.state.next({name:V,values:ht(a)})))}(X.shouldDirty||X.shouldTouch)&&N(V,pe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&I(V)},$=(V,K,X)=>{for(const me in K){if(!K.hasOwnProperty(me))return;const pe=K[me],ue=V+"."+me,H=ve(r,ue);(l.array.has(V)||Rt(pe)||H&&!H._f)&&!la(pe)?$(ue,pe,X):R(ue,pe,X)}},L=(V,K,X={})=>{const me=ve(r,V),pe=l.array.has(V),ue=ht(K);tt(a,V,ue),pe?(m.array.next({name:V,values:ht(a)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&X.shouldDirty&&m.state.next({name:V,dirtyFields:Ul(o,a),isDirty:k(V,ue)})):me&&!me._f&&!mn(ue)?$(V,ue,X):R(V,ue,X),ey(V,l)&&m.state.next({...n,name:V}),m.state.next({name:i.mount?V:void 0,values:ht(a)})},F=async V=>{i.mount=!0;const K=V.target;let X=K.name,me=!0;const pe=ve(r,X),ue=ge=>{me=Number.isNaN(ge)||la(ge)&&isNaN(ge.getTime())||uo(ge,ve(a,X,ge))},H=pi(t.mode),ee=pi(t.reValidateMode);if(pe){let ge,Te;const Oe=K.type?qj(pe._f):yY(V),mt=V.type===Bj.BLUR||V.type===Bj.FOCUS_OUT,Cn=!TY(pe._f)&&!t.resolver&&!ve(n.errors,X)&&!pe._f.deps||IY(mt,ve(n.touchedFields,X),n.isSubmitted,ee,H),Dt=ey(X,l,mt);tt(a,X,Oe),mt?(pe._f.onBlur&&pe._f.onBlur(V),c&&c(0)):pe._f.onChange&&pe._f.onChange(V);const Bt=N(X,Oe,mt),Jn=!dn(Bt)||Dt;if(!mt&&m.state.next({name:X,type:V.type,values:ht(a)}),Cn)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?mt&&g():mt||g()),Jn&&m.state.next({name:X,...Dt?{}:Bt});if(!mt&&Dt&&m.state.next({...n}),t.resolver){const{errors:at}=await S([X]);if(ue(Oe),me){const Zn=Gj(n.errors,r,X),Qt=Gj(at,r,Zn.name||X);ge=Qt.error,X=Qt.name,Te=dn(at)}}else b([X],!0),ge=(await ty(pe,l.disabled,a,h,t.shouldUseNativeValidation))[X],b([X]),ue(Oe),me&&(ge?Te=!1:(f.isValid||d.isValid)&&(Te=await M(r,!0)));me&&(pe._f.deps&&I(pe._f.deps),j(X,Te,ge,Bt))}},_=(V,K)=>{if(ve(n.errors,K)&&V.focus)return V.focus(),1},I=async(V,K={})=>{let X,me;const pe=Rn(V);if(t.resolver){const ue=await P(pt(V)?V:pe);X=dn(ue),me=V?!pe.some(H=>ve(ue,H)):X}else V?(me=(await Promise.all(pe.map(async ue=>{const H=ve(r,ue);return await M(H&&H._f?{[ue]:H}:H)}))).every(Boolean),!(!me&&!n.isValid)&&g()):me=X=await M(r);return m.state.next({...!ns(V)||(f.isValid||d.isValid)&&X!==n.isValid?{}:{name:V},...t.resolver||!V?{isValid:X}:{},errors:n.errors}),K.shouldFocus&&!me&&Ei(r,_,V?pe:l.mount),me},A=V=>{const K={...i.mount?a:o};return pt(V)?K:ns(V)?ve(K,V):V.map(X=>ve(K,X))},B=(V,K)=>({invalid:!!ve((K||n).errors,V),isDirty:!!ve((K||n).dirtyFields,V),error:ve((K||n).errors,V),isValidating:!!ve(n.validatingFields,V),isTouched:!!ve((K||n).touchedFields,V)}),U=V=>{V&&Rn(V).forEach(K=>Pt(n.errors,K)),m.state.next({errors:V?n.errors:{}})},O=(V,K,X)=>{const me=(ve(r,V,{_f:{}})._f||{}).ref,pe=ve(n.errors,V)||{},{ref:ue,message:H,type:ee,...ge}=pe;tt(n.errors,V,{...ge,...K,ref:me}),m.state.next({name:V,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&me&&me.focus&&me.focus()},q=(V,K)=>kr(V)?m.state.subscribe({next:X=>"values"in X&&V(T(void 0,K),X)}):T(V,K,!0),ne=V=>m.state.subscribe({next:K=>{_Y(V.name,K.name,V.exact)&&AY(K,V.formState||f,Me,V.reRenderRoot)&&V.callback({values:{...a},...n,...K,defaultValues:o})}}).unsubscribe,se=V=>(i.mount=!0,d={...d,...V.formState},ne({...V,formState:d})),z=(V,K={})=>{for(const X of V?Rn(V):l.mount)l.mount.delete(X),l.array.delete(X),K.keepValue||(Pt(r,X),Pt(a,X)),!K.keepError&&Pt(n.errors,X),!K.keepDirty&&Pt(n.dirtyFields,X),!K.keepTouched&&Pt(n.touchedFields,X),!K.keepIsValidating&&Pt(n.validatingFields,X),!t.shouldUnregister&&!K.keepDefaultValue&&Pt(o,X);m.state.next({values:ht(a)}),m.state.next({...n,...K.keepDirty?{isDirty:k()}:{}}),!K.keepIsValid&&g()},W=({disabled:V,name:K})=>{(Yr(V)&&i.mount||V||l.disabled.has(K))&&(V?l.disabled.add(K):l.disabled.delete(K))},Q=(V,K={})=>{let X=ve(r,V);const me=Yr(K.disabled)||Yr(t.disabled);return tt(r,V,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:V}},name:V,mount:!0,...K}}),l.mount.add(V),X?W({disabled:Yr(K.disabled)?K.disabled:t.disabled,name:V}):C(V,!0,K.value),{...me?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Hl(K.min),max:Hl(K.max),minLength:Hl(K.minLength),maxLength:Hl(K.maxLength),pattern:Hl(K.pattern)}:{},name:V,onChange:F,onBlur:F,ref:pe=>{if(pe){Q(V,K),X=ve(r,V);const ue=pt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,H=kY(ue),ee=X._f.refs||[];if(H?ee.find(ge=>ge===ue):ue===X._f.ref)return;tt(r,V,{_f:{...X._f,...H?{refs:[...ee.filter(tg),ue,...Array.isArray(ve(o,V))?[{}]:[]],ref:{type:ue.type,name:V}}:{ref:ue}}}),C(V,!1,void 0,ue)}else X=ve(r,V,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(wY(l.array,V)&&i.action)&&l.unMount.add(V)}}},ie=()=>t.shouldFocusError&&Ei(r,_,l.mount),ae=V=>{Yr(V)&&(m.state.next({disabled:V}),Ei(r,(K,X)=>{const me=ve(r,X);me&&(K.disabled=me._f.disabled||V,Array.isArray(me._f.refs)&&me._f.refs.forEach(pe=>{pe.disabled=me._f.disabled||V}))},0,!1))},oe=(V,K)=>async X=>{let me;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let pe=ht(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:H}=await S();n.errors=ue,pe=ht(H)}else await M(r);if(l.disabled.size)for(const ue of l.disabled)Pt(pe,ue);if(Pt(n.errors,"root"),dn(n.errors)){m.state.next({errors:{}});try{await V(pe,X)}catch(ue){me=ue}}else K&&await K({...n.errors},X),ie(),setTimeout(ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dn(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},Y=(V,K={})=>{ve(r,V)&&(pt(K.defaultValue)?L(V,ht(ve(o,V))):(L(V,K.defaultValue),tt(o,V,ht(K.defaultValue))),K.keepTouched||Pt(n.touchedFields,V),K.keepDirty||(Pt(n.dirtyFields,V),n.isDirty=K.defaultValue?k(V,ht(ve(o,V))):k()),K.keepError||(Pt(n.errors,V),f.isValid&&g()),m.state.next({...n}))},he=(V,K={})=>{const X=V?ht(V):o,me=ht(X),pe=dn(V),ue=pe?o:me;if(K.keepDefaultValues||(o=X),!K.keepValues){if(K.keepDirtyValues){const H=new Set([...l.mount,...Object.keys(Ul(o,a))]);for(const ee of Array.from(H))ve(n.dirtyFields,ee)?tt(ue,ee,ve(a,ee)):L(ee,ve(ue,ee))}else{if(k0&&pt(V))for(const H of l.mount){const ee=ve(r,H);if(ee&&ee._f){const ge=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(om(ge)){const Te=ge.closest("form");if(Te){Te.reset();break}}}}if(K.keepFieldsRef)for(const H of l.mount)L(H,ve(ue,H));else r={}}a=t.shouldUnregister?K.keepDefaultValues?ht(o):{}:ht(ue),m.array.next({values:{...ue}}),m.state.next({values:{...ue}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!K.keepIsValid||!!K.keepDirtyValues,i.watch=!!t.shouldUnregister,m.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!uo(V,o)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:K.keepDirtyValues?K.keepDefaultValues&&a?Ul(o,a):n.dirtyFields:K.keepDefaultValues&&V?Ul(o,V):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},fe=(V,K)=>he(kr(V)?V(a):V,K),Se=(V,K={})=>{const X=ve(r,V),me=X&&X._f;if(me){const pe=me.refs?me.refs[0]:me.ref;pe.focus&&(pe.focus(),K.shouldSelect&&kr(pe.select)&&pe.select())}},Me=V=>{n={...n,...V}},Ue={control:{register:Q,unregister:z,getFieldState:B,handleSubmit:oe,setError:O,_subscribe:ne,_runSchema:S,_focusError:ie,_getWatch:T,_getDirty:k,_setValid:g,_setFieldArray:p,_setDisabledField:W,_setErrors:w,_getFieldArray:D,_reset:he,_resetDefaultValues:()=>kr(t.defaultValues)&&t.defaultValues().then(V=>{fe(V,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:ae,_subjects:m,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(V){i=V},get _defaultValues(){return o},get _names(){return l},set _names(V){l=V},get _formState(){return n},get _options(){return t},set _options(V){t={...t,...V}}},subscribe:se,trigger:I,register:Q,handleSubmit:oe,watch:q,setValue:L,getValues:A,reset:fe,resetField:Y,clearErrors:U,unregister:z,setError:O,setFocus:Se,getFieldState:B};return{...Ue,formControl:Ue}}var Zs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},ng=(e,t,n={})=>n.shouldFocus||pt(n.shouldFocus)?n.focusName||`${e}.${pt(n.focusIndex)?t:n.focusIndex}.`:"",rg=(e,t)=>[...e,...Rn(t)],sg=e=>Array.isArray(e)?e.map(()=>{}):void 0;function og(e,t,n){return[...e.slice(0,t),...Rn(n),...e.slice(t)]}var ag=(e,t,n)=>Array.isArray(e)?(pt(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],ig=(e,t)=>[...Rn(t),...Rn(e)];function $Y(e,t){let n=0;const r=[...e];for(const o of t)r.splice(o-n,1),n++;return Eh(r).length?r:[]}var lg=(e,t)=>pt(t)?[]:$Y(e,Rn(t).sort((n,r)=>n-r)),cg=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},Qj=(e,t,n)=>(e[t]=n,e);function Jj(e){const t=jY(),{control:n=t.control,name:r,keyName:o="id",shouldUnregister:a,rules:i}=e,[l,c]=te.useState(n._getFieldArray(r)),u=te.useRef(n._getFieldArray(r).map(Zs)),f=te.useRef(l),d=te.useRef(!1);f.current=l,n._names.array.add(r),te.useMemo(()=>i&&n.register(r,i),[n,i,r]),YT(()=>n._subjects.array.subscribe({next:({values:N,name:j})=>{if(j===r||!j){const S=ve(N,r);Array.isArray(S)&&(c(S),u.current=S.map(Zs))}}}).unsubscribe,[n,r]);const m=te.useCallback(N=>{d.current=!0,n._setFieldArray(r,N)},[n,r]),h=(N,j)=>{const S=Rn(ht(N)),P=rg(n._getFieldArray(r),S);n._names.focus=ng(r,P.length-1,j),u.current=rg(u.current,S.map(Zs)),m(P),c(P),n._setFieldArray(r,P,rg,{argA:sg(N)})},y=(N,j)=>{const S=Rn(ht(N)),P=ig(n._getFieldArray(r),S);n._names.focus=ng(r,0,j),u.current=ig(u.current,S.map(Zs)),m(P),c(P),n._setFieldArray(r,P,ig,{argA:sg(N)})},g=N=>{const j=lg(n._getFieldArray(r),N);u.current=lg(u.current,N),m(j),c(j),!Array.isArray(ve(n._fields,r))&&tt(n._fields,r,void 0),n._setFieldArray(r,j,lg,{argA:N})},b=(N,j,S)=>{const P=Rn(ht(j)),M=og(n._getFieldArray(r),N,P);n._names.focus=ng(r,N,S),u.current=og(u.current,N,P.map(Zs)),m(M),c(M),n._setFieldArray(r,M,og,{argA:N,argB:sg(j)})},p=(N,j)=>{const S=n._getFieldArray(r);cg(S,N,j),cg(u.current,N,j),m(S),c(S),n._setFieldArray(r,S,cg,{argA:N,argB:j},!1)},v=(N,j)=>{const S=n._getFieldArray(r);ag(S,N,j),ag(u.current,N,j),m(S),c(S),n._setFieldArray(r,S,ag,{argA:N,argB:j},!1)},w=(N,j)=>{const S=ht(j),P=Qj(n._getFieldArray(r),N,S);u.current=[...P].map((M,E)=>!M||E===N?Zs():u.current[E]),m(P),c([...P]),n._setFieldArray(r,P,Qj,{argA:N,argB:S},!0,!1)},C=N=>{const j=Rn(ht(N));u.current=j.map(Zs),m([...j]),c([...j]),n._setFieldArray(r,[...j],S=>S,{},!0,!1)};return te.useEffect(()=>{if(n._state.action=!1,ey(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!pi(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!pi(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(N=>{const j=ve(N.errors,r),S=ve(n._formState.errors,r);(S?!j&&S.type||j&&(S.type!==j.type||S.message!==j.message):j&&j.type)&&(j?tt(n._formState.errors,r,j):Pt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const N=ve(n._fields,r);N&&N._f&&!(pi(n._options.reValidateMode).isOnSubmit&&pi(n._options.mode).isOnSubmit)&&ty(N,n._names.disabled,n._formValues,n._options.criteriaMode===sr.all,n._options.shouldUseNativeValidation,!0).then(j=>!dn(j)&&n._subjects.state.next({errors:tA(n._formState.errors,j,r)}))}n._subjects.state.next({name:r,values:ht(n._formValues)}),n._names.focus&&Ei(n._fields,(N,j)=>{if(n._names.focus&&j.startsWith(n._names.focus)&&N.focus)return N.focus(),1}),n._names.focus="",n._setValid(),d.current=!1},[l,r,n]),te.useEffect(()=>(!ve(n._formValues,r)&&n._setFieldArray(r),()=>{const N=(j,S)=>{const P=ve(n._fields,j);P&&P._f&&(P._f.mount=S)};n._options.shouldUnregister||a?n.unregister(r):N(r,!1)}),[r,n,o,a]),{swap:te.useCallback(p,[m,r,n]),move:te.useCallback(v,[m,r,n]),prepend:te.useCallback(y,[m,r,n]),append:te.useCallback(h,[m,r,n]),remove:te.useCallback(g,[m,r,n]),insert:te.useCallback(b,[m,r,n]),update:te.useCallback(w,[m,r,n]),replace:te.useCallback(C,[m,r,n]),fields:te.useMemo(()=>l.map((N,j)=>({...N,[o]:u.current[j]||Zs()})),[l,o])}}function gl(e={}){const t=te.useRef(void 0),n=te.useRef(void 0),[r,o]=te.useState({isDirty:!1,isValidating:!1,isLoading:kr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:kr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!kr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=OY(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,YT(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),te.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),te.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),te.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),te.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),te.useEffect(()=>{e.values&&!uo(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,o(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),te.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=NY(r,a),t.current}const mr=x.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));mr.displayName="Textarea";var FY="Label",nA=x.forwardRef((e,t)=>s.jsx(Pe.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nA.displayName=FY;var rA=nA;const zY=cl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=x.forwardRef(({className:e,...t},n)=>s.jsx(rA,{ref:n,className:J(zY(),e),...t}));xe.displayName=rA.displayName;function sA(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ph="Switch",[VY]=Xt(Ph),[BY,UY]=VY(Ph),oA=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[m,h]=x.useState(null),y=De(t,w=>h(w)),g=x.useRef(!1),b=m?f||!!m.closest("form"):!0,[p,v]=Ir({prop:o,defaultProp:a??!1,onChange:u,caller:Ph});return s.jsxs(BY,{scope:n,checked:p,disabled:l,children:[s.jsx(Pe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":i,"data-state":cA(p),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:le(e.onClick,w=>{v(C=>!C),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&s.jsx(lA,{control:m,bubbles:!g.current,name:r,value:c,checked:p,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});oA.displayName=Ph;var aA="SwitchThumb",iA=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=UY(aA,n);return s.jsx(Pe.span,{"data-state":cA(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});iA.displayName=aA;var HY="SwitchBubbleInput",lA=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},a)=>{const i=x.useRef(null),l=De(i,a),c=sA(n),u=O2(t);return x.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&h){const y=new Event("click",{bubbles:r});h.call(f,n),f.dispatchEvent(y)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lA.displayName=HY;function cA(e){return e?"checked":"unchecked"}var uA=oA,WY=iA;const Pi=x.forwardRef(({className:e,...t},n)=>s.jsx(uA,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:s.jsx(WY,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pi.displayName=uA.displayName;var KY="Separator",Zj="horizontal",qY=["horizontal","vertical"],dA=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=Zj,...o}=e,a=YY(r)?r:Zj,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Pe.div,{"data-orientation":a,...l,...o,ref:t})});dA.displayName=KY;function YY(e){return qY.includes(e)}var fA=dA;const Ie=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>s.jsx(fA,{ref:o,decorative:n,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Ie.displayName=fA.displayName;var GY=[" ","Enter","ArrowUp","ArrowDown"],XY=[" ","Enter"],_a="Select",[Mh,Rh,QY]=Am(_a),[xl]=Xt(_a,[QY,Ko]),Th=Ko(),[JY,Yo]=xl(_a),[ZY,eG]=xl(_a),mA=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:m,required:h,form:y}=e,g=Th(t),[b,p]=x.useState(null),[v,w]=x.useState(null),[C,N]=x.useState(!1),j=ju(u),[S,P]=Ir({prop:r,defaultProp:o??!1,onChange:a,caller:_a}),[M,E]=Ir({prop:i,defaultProp:l,onChange:c,caller:_a}),k=x.useRef(null),T=b?y||!!b.closest("form"):!0,[D,R]=x.useState(new Set),$=Array.from(D).map(L=>L.props.value).join(";");return s.jsx(zm,{...g,children:s.jsxs(JY,{required:h,scope:t,trigger:b,onTriggerChange:p,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:Wn(),value:M,onValueChange:E,open:S,onOpenChange:P,dir:j,triggerPointerDownPosRef:k,disabled:m,children:[s.jsx(Mh.Provider,{scope:t,children:s.jsx(ZY,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{R(F=>new Set(F).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{R(F=>{const _=new Set(F);return _.delete(L),_})},[]),children:n})}),T?s.jsxs(OA,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:d,value:M,onChange:L=>E(L.target.value),disabled:m,form:y,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(D)]},$):null]})})};mA.displayName=_a;var hA="SelectTrigger",pA=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Th(n),i=Yo(hA,n),l=i.disabled||r,c=De(t,i.onTriggerChange),u=Rh(n),f=x.useRef("touch"),[d,m,h]=FA(g=>{const b=u().filter(w=>!w.disabled),p=b.find(w=>w.value===i.value),v=zA(b,g,p);v!==void 0&&i.onValueChange(v.value)}),y=g=>{l||(i.onOpenChange(!0),h()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(pu,{asChild:!0,...a,children:s.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$A(i.value)?"":void 0,...o,ref:c,onClick:le(o.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&y(g)}),onPointerDown:le(o.onPointerDown,g=>{f.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:le(o.onKeyDown,g=>{const b=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&GY.includes(g.key)&&(y(),g.preventDefault())})})})});pA.displayName=hA;var gA="SelectValue",xA=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:i="",...l}=e,c=Yo(gA,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,d=De(t,c.onValueNodeChange);return zt(()=>{u(f)},[u,f]),s.jsx(Pe.span,{...l,ref:d,style:{pointerEvents:"none"},children:$A(c.value)?s.jsx(s.Fragment,{children:i}):a})});xA.displayName=gA;var tG="SelectIcon",yA=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(Pe.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});yA.displayName=tG;var nG="SelectPortal",vA=e=>s.jsx(ll,{asChild:!0,...e});vA.displayName=nG;var Ia="SelectContent",wA=x.forwardRef((e,t)=>{const n=Yo(Ia,e.__scopeSelect),[r,o]=x.useState();if(zt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?ls.createPortal(s.jsx(bA,{scope:e.__scopeSelect,children:s.jsx(Mh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(jA,{...e,ref:t})});wA.displayName=Ia;var xr=10,[bA,Go]=xl(Ia),rG="SelectContentImpl",sG=Io("SelectContent.RemoveScroll"),jA=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:g,avoidCollisions:b,...p}=e,v=Yo(Ia,n),[w,C]=x.useState(null),[N,j]=x.useState(null),S=De(t,z=>C(z)),[P,M]=x.useState(null),[E,k]=x.useState(null),T=Rh(n),[D,R]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(w)return nh(w)},[w]),eh();const L=x.useCallback(z=>{const[W,...Q]=T().map(oe=>oe.ref.current),[ie]=Q.slice(-1),ae=document.activeElement;for(const oe of z)if(oe===ae||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===W&&N&&(N.scrollTop=0),oe===ie&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==ae))return},[T,N]),F=x.useCallback(()=>L([P,w]),[L,P,w]);x.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:_,triggerPointerDownPosRef:I}=v;x.useEffect(()=>{if(w){let z={x:0,y:0};const W=ie=>{var ae,oe;z={x:Math.abs(Math.round(ie.pageX)-(((ae=I.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((oe=I.current)==null?void 0:oe.y)??0))}},Q=ie=>{z.x<=10&&z.y<=10?ie.preventDefault():w.contains(ie.target)||_(!1),document.removeEventListener("pointermove",W),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,_,I]),x.useEffect(()=>{const z=()=>_(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[_]);const[A,B]=FA(z=>{const W=T().filter(ae=>!ae.disabled),Q=W.find(ae=>ae.ref.current===document.activeElement),ie=zA(W,z,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),U=x.useCallback((z,W,Q)=>{const ie=!$.current&&!Q;(v.value!==void 0&&v.value===W||ie)&&(M(z),ie&&($.current=!0))},[v.value]),O=x.useCallback(()=>w==null?void 0:w.focus(),[w]),q=x.useCallback((z,W,Q)=>{const ie=!$.current&&!Q;(v.value!==void 0&&v.value===W||ie)&&k(z)},[v.value]),ne=r==="popper"?ny:NA,se=ne===ny?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return s.jsx(bA,{scope:n,content:w,viewport:N,onViewportChange:j,itemRefCallback:U,selectedItem:P,onItemLeave:O,itemTextRefCallback:q,focusSelectedItem:F,selectedItemText:E,position:r,isPositioned:D,searchRef:A,children:s.jsx(xu,{as:sG,allowPinchZoom:!0,children:s.jsx(gu,{asChild:!0,trapped:v.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:le(o,z=>{var W;(W=v.trigger)==null||W.focus({preventScroll:!0}),z.preventDefault()}),children:s.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(ne,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:z=>z.preventDefault(),...p,...se,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:le(p.onKeyDown,z=>{const W=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!W&&z.key.length===1&&B(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ie=T().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ae=z.target,oe=ie.indexOf(ae);ie=ie.slice(oe+1)}setTimeout(()=>L(ie)),z.preventDefault()}})})})})})})});jA.displayName=rG;var oG="SelectItemAlignedPosition",NA=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=Yo(Ia,n),i=Go(Ia,n),[l,c]=x.useState(null),[u,f]=x.useState(null),d=De(t,S=>f(S)),m=Rh(n),h=x.useRef(!1),y=x.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:p,focusSelectedItem:v}=i,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&p){const S=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),E=p.getBoundingClientRect();if(a.dir!=="rtl"){const ae=E.left-P.left,oe=M.left-ae,Y=S.left-oe,he=S.width+Y,fe=Math.max(he,P.width),Se=window.innerWidth-xr,Me=Ox(oe,[xr,Math.max(xr,Se-fe)]);l.style.minWidth=he+"px",l.style.left=Me+"px"}else{const ae=P.right-E.right,oe=window.innerWidth-M.right-ae,Y=window.innerWidth-S.right-oe,he=S.width+Y,fe=Math.max(he,P.width),Se=window.innerWidth-xr,Me=Ox(oe,[xr,Math.max(xr,Se-fe)]);l.style.minWidth=he+"px",l.style.right=Me+"px"}const k=m(),T=window.innerHeight-xr*2,D=g.scrollHeight,R=window.getComputedStyle(u),$=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),F=parseInt(R.borderBottomWidth,10),_=parseInt(R.paddingBottom,10),I=$+L+D+_+F,A=Math.min(b.offsetHeight*5,I),B=window.getComputedStyle(g),U=parseInt(B.paddingTop,10),O=parseInt(B.paddingBottom,10),q=S.top+S.height/2-xr,ne=T-q,se=b.offsetHeight/2,z=b.offsetTop+se,W=$+L+z,Q=I-W;if(W<=q){const ae=k.length>0&&b===k[k.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-g.offsetTop-g.offsetHeight,Y=Math.max(ne,se+(ae?O:0)+oe+F),he=W+Y;l.style.height=he+"px"}else{const ae=k.length>0&&b===k[0].ref.current;l.style.top="0px";const Y=Math.max(q,$+g.offsetTop+(ae?U:0)+se)+Q;l.style.height=Y+"px",g.scrollTop=W-q+g.offsetTop}l.style.margin=`${xr}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,l,u,g,b,p,a.dir,r]);zt(()=>w(),[w]);const[C,N]=x.useState();zt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=x.useCallback(S=>{S&&y.current===!0&&(w(),v==null||v(),y.current=!1)},[w,v]);return s.jsx(iG,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:j,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Pe.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});NA.displayName=oG;var aG="SelectPopperPosition",ny=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=xr,...a}=e,i=Th(n);return s.jsx(Vm,{...i,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ny.displayName=aG;var[iG,R0]=xl(Ia,{}),ry="SelectViewport",CA=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Go(ry,n),i=R0(ry,n),l=De(t,a.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Mh.Slot,{scope:n,children:s.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:le(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&d){const h=Math.abs(c.current-f.scrollTop);if(h>0){const y=window.innerHeight-xr*2,g=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),p=Math.max(g,b);if(p<y){const v=p+h,w=Math.min(y,v),C=v-w;d.style.height=w+"px",d.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});CA.displayName=ry;var SA="SelectGroup",[lG,cG]=xl(SA),uG=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Wn();return s.jsx(lG,{scope:n,id:o,children:s.jsx(Pe.div,{role:"group","aria-labelledby":o,...r,ref:t})})});uG.displayName=SA;var kA="SelectLabel",EA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=cG(kA,n);return s.jsx(Pe.div,{id:o.id,...r,ref:t})});EA.displayName=kA;var lm="SelectItem",[dG,PA]=xl(lm),MA=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...i}=e,l=Yo(lm,n),c=Go(lm,n),u=l.value===r,[f,d]=x.useState(a??""),[m,h]=x.useState(!1),y=De(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,o)}),g=Wn(),b=x.useRef("touch"),p=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(dG,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:x.useCallback(v=>{d(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Mh.ItemSlot,{scope:n,value:r,disabled:o,textValue:f,children:s.jsx(Pe.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:y,onFocus:le(i.onFocus,()=>h(!0)),onBlur:le(i.onBlur,()=>h(!1)),onClick:le(i.onClick,()=>{b.current!=="mouse"&&p()}),onPointerUp:le(i.onPointerUp,()=>{b.current==="mouse"&&p()}),onPointerDown:le(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:le(i.onPointerMove,v=>{var w;b.current=v.pointerType,o?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:le(i.onKeyDown,v=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(XY.includes(v.key)&&p(),v.key===" "&&v.preventDefault())})})})})});MA.displayName=lm;var ec="SelectItemText",RA=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,i=Yo(ec,n),l=Go(ec,n),c=PA(ec,n),u=eG(ec,n),[f,d]=x.useState(null),m=De(t,p=>d(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,p,c.value,c.disabled)}),h=f==null?void 0:f.textContent,y=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return zt(()=>(g(y),()=>b(y)),[g,b,y]),s.jsxs(s.Fragment,{children:[s.jsx(Pe.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ls.createPortal(a.children,i.valueNode):null]})});RA.displayName=ec;var TA="SelectItemIndicator",AA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return PA(TA,n).isSelected?s.jsx(Pe.span,{"aria-hidden":!0,...r,ref:t}):null});AA.displayName=TA;var sy="SelectScrollUpButton",_A=x.forwardRef((e,t)=>{const n=Go(sy,e.__scopeSelect),r=R0(sy,e.__scopeSelect),[o,a]=x.useState(!1),i=De(t,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(DA,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_A.displayName=sy;var oy="SelectScrollDownButton",IA=x.forwardRef((e,t)=>{const n=Go(oy,e.__scopeSelect),r=R0(oy,e.__scopeSelect),[o,a]=x.useState(!1),i=De(t,r.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(DA,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});IA.displayName=oy;var DA=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Go("SelectScrollButton",n),i=x.useRef(null),l=Rh(n),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),zt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Pe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:le(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:le(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:le(o.onPointerLeave,()=>{c()})})}),fG="SelectSeparator",LA=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Pe.div,{"aria-hidden":!0,...r,ref:t})});LA.displayName=fG;var ay="SelectArrow",mG=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Th(n),a=Yo(ay,n),i=Go(ay,n);return a.open&&i.position==="popper"?s.jsx(Bm,{...o,...r,ref:t}):null});mG.displayName=ay;var hG="SelectBubbleInput",OA=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=x.useRef(null),a=De(r,o),i=sA(t);return x.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(Pe.select,{...n,style:{...Lk,...n.style},ref:a,defaultValue:t})});OA.displayName=hG;function $A(e){return e===""||e===void 0}function FA(e){const t=St(e),n=x.useRef(""),r=x.useRef(0),o=x.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function zA(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=pG(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function pG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gG=mA,VA=pA,xG=xA,yG=yA,vG=vA,BA=wA,wG=CA,UA=EA,HA=MA,bG=RA,jG=AA,WA=_A,KA=IA,qA=LA;const xn=gG,yn=xG,sn=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(VA,{ref:r,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(yG,{asChild:!0,children:s.jsx(fu,{className:"h-4 w-4 opacity-50"})})]}));sn.displayName=VA.displayName;const YA=x.forwardRef(({className:e,...t},n)=>s.jsx(WA,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bv,{className:"h-4 w-4"})}));YA.displayName=WA.displayName;const GA=x.forwardRef(({className:e,...t},n)=>s.jsx(KA,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fu,{className:"h-4 w-4"})}));GA.displayName=KA.displayName;const on=x.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(vG,{children:s.jsxs(BA,{ref:o,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(YA,{}),s.jsx(wG,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(GA,{})]})}));on.displayName=BA.displayName;const NG=x.forwardRef(({className:e,...t},n)=>s.jsx(UA,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NG.displayName=UA.displayName;const ze=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(HA,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jG,{children:s.jsx(Fr,{className:"h-4 w-4"})})}),s.jsx(bG,{children:t})]}));ze.displayName=HA.displayName;const CG=x.forwardRef(({className:e,...t},n)=>s.jsx(qA,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));CG.displayName=qA.displayName;var Ah="Collapsible",[SG]=Xt(Ah),[kG,T0]=SG(Ah),XA=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:a,onOpenChange:i,...l}=e,[c,u]=Ir({prop:r,defaultProp:o??!1,onChange:i,caller:Ah});return s.jsx(kG,{scope:n,disabled:a,contentId:Wn(),open:c,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Pe.div,{"data-state":_0(c),"data-disabled":a?"":void 0,...l,ref:t})})});XA.displayName=Ah;var QA="CollapsibleTrigger",JA=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=T0(QA,n);return s.jsx(Pe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":_0(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:le(e.onClick,o.onOpenToggle)})});JA.displayName=QA;var A0="CollapsibleContent",ZA=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=T0(A0,e.__scopeCollapsible);return s.jsx(Kt,{present:n||o.open,children:({present:a})=>s.jsx(EG,{...r,ref:t,present:a})})});ZA.displayName=A0;var EG=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...a}=e,i=T0(A0,n),[l,c]=x.useState(r),u=x.useRef(null),f=De(t,u),d=x.useRef(0),m=d.current,h=x.useRef(0),y=h.current,g=i.open||l,b=x.useRef(g),p=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),zt(()=>{const v=u.current;if(v){p.current=p.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();d.current=w.height,h.current=w.width,b.current||(v.style.transitionDuration=p.current.transitionDuration,v.style.animationName=p.current.animationName),c(r)}},[i.open,r]),s.jsx(Pe.div,{"data-state":_0(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...a,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&o})});function _0(e){return e?"open":"closed"}var PG=XA;const MG=PG,RG=JA,TG=ZA;function I0({control:e,register:t,labelsFieldName:n="labels",annotationsFieldName:r="annotations"}){const{fields:o,append:a,remove:i}=Jj({control:e,name:n}),{fields:l,append:c,remove:u}=Jj({control:e,name:r});return s.jsxs(MG,{children:[s.jsx(RG,{asChild:!0,children:s.jsxs(G,{variant:"ghost",type:"button",className:"w-full justify-between px-0 hover:bg-transparent",children:[s.jsxs(xe,{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(mu,{className:"h-4 w-4"}),"Labels & Annotations"]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.length+l.length," items"]})]})}),s.jsxs(TG,{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{className:"text-sm",children:"Labels"}),s.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:()=>a({key:"",value:""}),children:[s.jsx(Dr,{className:"h-3 w-3 mr-1"}),"Add Label"]})]}),o.length>0&&s.jsx("div",{className:"space-y-2",children:o.map((f,d)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{...t(`${n}.${d}.key`),placeholder:"key",className:"font-mono text-xs"}),s.jsx(Re,{...t(`${n}.${d}.value`),placeholder:"value",className:"font-mono text-xs"}),s.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(d),children:s.jsx(cs,{className:"h-4 w-4 text-destructive"})})]},f.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{className:"text-sm",children:"Annotations"}),s.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:()=>c({key:"",value:""}),children:[s.jsx(Dr,{className:"h-3 w-3 mr-1"}),"Add Annotation"]})]}),l.length>0&&s.jsx("div",{className:"space-y-2",children:l.map((f,d)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{...t(`${r}.${d}.key`),placeholder:"key",className:"font-mono text-xs"}),s.jsx(Re,{...t(`${r}.${d}.value`),placeholder:"value",className:"font-mono text-xs flex-1"}),s.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(d),children:s.jsx(cs,{className:"h-4 w-4 text-destructive"})})]},f.id))})]})]})]})}var _h="Popover",[e_]=Xt(_h,[Ko]),Iu=Ko(),[AG,Xo]=e_(_h),t_=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!1}=e,l=Iu(t),c=x.useRef(null),[u,f]=x.useState(!1),[d,m]=Ir({prop:r,defaultProp:o??!1,onChange:a,caller:_h});return s.jsx(zm,{...l,children:s.jsx(AG,{scope:t,contentId:Wn(),triggerRef:c,open:d,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:i,children:n})})};t_.displayName=_h;var n_="PopoverAnchor",_G=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Xo(n_,n),a=Iu(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return x.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(pu,{...a,...r,ref:t})});_G.displayName=n_;var r_="PopoverTrigger",s_=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Xo(r_,n),a=Iu(n),i=De(t,o.triggerRef),l=s.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":c_(o.open),...r,ref:i,onClick:le(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:s.jsx(pu,{asChild:!0,...a,children:l})});s_.displayName=r_;var D0="PopoverPortal",[IG,DG]=e_(D0,{forceMount:void 0}),o_=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,a=Xo(D0,t);return s.jsx(IG,{scope:t,forceMount:n,children:s.jsx(Kt,{present:n||a.open,children:s.jsx(ll,{asChild:!0,container:o,children:r})})})};o_.displayName=D0;var rl="PopoverContent",a_=x.forwardRef((e,t)=>{const n=DG(rl,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,a=Xo(rl,e.__scopePopover);return s.jsx(Kt,{present:r||a.open,children:a.modal?s.jsx(OG,{...o,ref:t}):s.jsx($G,{...o,ref:t})})});a_.displayName=rl;var LG=Io("PopoverContent.RemoveScroll"),OG=x.forwardRef((e,t)=>{const n=Xo(rl,e.__scopePopover),r=x.useRef(null),o=De(t,r),a=x.useRef(!1);return x.useEffect(()=>{const i=r.current;if(i)return nh(i)},[]),s.jsx(xu,{as:LG,allowPinchZoom:!0,children:s.jsx(i_,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),$G=x.forwardRef((e,t)=>{const n=Xo(rl,e.__scopePopover),r=x.useRef(!1),o=x.useRef(!1);return s.jsx(i_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),i_=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,m=Xo(rl,n),h=Iu(n);return eh(),s.jsx(gu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Fa,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Vm,{"data-state":c_(m.open),role:"dialog",id:m.contentId,...h,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),l_="PopoverClose",FG=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Xo(l_,n);return s.jsx(Pe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>o.onOpenChange(!1))})});FG.displayName=l_;var zG="PopoverArrow",VG=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Iu(n);return s.jsx(Bm,{...o,...r,ref:t})});VG.displayName=zG;function c_(e){return e?"open":"closed"}var BG=t_,UG=s_,HG=o_,u_=a_;const d_=BG,f_=UG,L0=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>s.jsx(HG,{children:s.jsx(u_,{ref:o,align:t,sideOffset:n,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));L0.displayName=u_.displayName;function O0({open:e,onOpenChange:t,onSecretCreated:n,initialKey:r,initialName:o}){const{createSecret:a,namespace:i}=Et(),[l,c]=x.useState(!1),[u,f]=x.useState({name:o||"",type:"Opaque",data:[{key:r||"",value:""}]});te.useEffect(()=>{e&&f({name:o||"",type:"Opaque",data:[{key:r||"",value:""}]})},[e,r,o]);const d=async()=>{if(!u.name.trim()){lo.error("Secret name is required");return}if(!/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/.test(u.name)){lo.error("Name must be lowercase, start with alphanumeric, and contain only alphanumeric or hyphens");return}const g={},b=[];for(const p of u.data)p.key.trim()&&p.value.trim()&&(g[p.key.trim()]=btoa(p.value),b.push(p.key.trim()));if(Object.keys(g).length===0){lo.error("At least one key-value pair is required");return}c(!0);try{await a({apiVersion:"v1",kind:"Secret",metadata:{name:u.name.trim(),namespace:i||"default"},type:u.type,data:g}),lo.success(`Secret "${u.name}" created successfully`),t(!1),n==null||n(u.name.trim(),b),f({name:"",type:"Opaque",data:[{key:"",value:""}]})}catch(p){lo.error(`Failed to create secret: ${p instanceof Error?p.message:"Unknown error"}`)}finally{c(!1)}},m=()=>{f(g=>({...g,data:[...g.data,{key:"",value:""}]}))},h=g=>{f(b=>({...b,data:b.data.filter((p,v)=>v!==g)}))},y=(g,b,p)=>{f(v=>({...v,data:v.data.map((w,C)=>C===g?{...w,[b]:p}:w)}))};return s.jsx(Bs,{open:e,onOpenChange:t,children:s.jsxs(ms,{className:"max-w-lg",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-warning/20 flex items-center justify-center",children:s.jsx(Ro,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsx(ps,{children:"Create Secret"}),s.jsx(Hs,{children:"Create a new Kubernetes secret to store sensitive data like API keys, passwords, or tokens."})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"secret-name",children:"Secret Name"}),s.jsx(Re,{id:"secret-name",placeholder:"my-api-keys",value:u.name,onChange:g=>f(b=>({...b,name:g.target.value})),className:"font-mono"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be lowercase, start with a letter or number, and contain only letters, numbers, or hyphens."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"secret-type",children:"Secret Type"}),s.jsxs(xn,{value:u.type,onValueChange:g=>f(b=>({...b,type:g})),children:[s.jsx(sn,{children:s.jsx(yn,{})}),s.jsxs(on,{children:[s.jsx(ze,{value:"Opaque",children:"Opaque (Generic)"}),s.jsx(ze,{value:"kubernetes.io/basic-auth",children:"Basic Auth"}),s.jsx(ze,{value:"kubernetes.io/tls",children:"TLS Certificate"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{children:"Secret Data"}),s.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:m,children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Add Key"]})]}),s.jsx("div",{className:"space-y-2",children:u.data.map((g,b)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{placeholder:"KEY",value:g.key,onChange:p=>y(b,"key",p.target.value),className:"font-mono text-sm"}),s.jsx(Re,{type:"password",placeholder:"value",value:g.value,onChange:p=>y(b,"value",p.target.value),className:"font-mono text-sm"}),u.data.length>1&&s.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>h(b),children:s.jsx(cs,{className:"h-4 w-4 text-destructive"})})]},b))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Values will be automatically base64 encoded when stored."})]})]}),s.jsxs(Us,{children:[s.jsx(G,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(G,{onClick:d,disabled:l,children:l?"Creating...":"Create Secret"})]})]})})}function yl({fields:e,onChange:t,label:n="Environment Variables"}){const{secrets:r}=ot(),[o,a]=x.useState(!1),[i,l]=x.useState(null),c=()=>{t([...e,{name:"",value:"",valueType:"plain"}])},u=y=>{t(e.filter((g,b)=>b!==y))},f=(y,g)=>{t(e.map((b,p)=>p===y?{...b,...g}:b))},d=(y,g,b)=>{f(y,{valueType:"secret",secretName:g,secretKey:b,value:""})},m=y=>{l(y),a(!0)},h=(y,g)=>{i!==null&&g.length>0&&d(i,y,g[0]),l(null)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{children:n}),s.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:c,children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Add"]})]}),e.length>0&&s.jsx("div",{className:"space-y-2",children:e.map((y,g)=>s.jsxs("div",{className:"space-y-2 p-3 bg-muted/30 rounded-lg border border-border/50",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(Re,{value:y.name,onChange:b=>f(g,{name:b.target.value}),placeholder:"ENV_NAME",className:"font-mono text-sm flex-1"}),s.jsxs(xn,{value:y.valueType,onValueChange:b=>f(g,{valueType:b}),children:[s.jsx(sn,{className:"w-[120px]",children:s.jsx(yn,{})}),s.jsxs(on,{children:[s.jsx(ze,{value:"plain",children:"Plain Value"}),s.jsx(ze,{value:"secret",children:"From Secret"})]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(g),children:s.jsx(cs,{className:"h-4 w-4 text-destructive"})})]}),y.valueType==="plain"?s.jsx(Re,{value:y.value,onChange:b=>f(g,{value:b.target.value}),placeholder:"value",className:"font-mono text-sm"}):s.jsx("div",{className:"flex gap-2",children:s.jsxs(d_,{children:[s.jsx(f_,{asChild:!0,children:s.jsx(G,{type:"button",variant:"outline",className:"flex-1 justify-start font-mono text-sm",children:y.secretName?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jx,{className:"h-3 w-3 text-warning"}),s.jsx("span",{children:y.secretName}),y.secretKey&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-muted-foreground",children:"/"}),s.jsx(Z,{variant:"secondary",className:"font-mono text-xs",children:y.secretKey})]})]}):s.jsx("span",{className:"text-muted-foreground",children:"Select secret..."})})}),s.jsxs(L0,{className:"w-80 p-0",align:"start",children:[s.jsxs("div",{className:"p-2 border-b border-border",children:[s.jsx("p",{className:"text-sm font-medium",children:"Select Secret"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a secret and key to reference"})]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto p-2",children:r.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No secrets available"}):s.jsx("div",{className:"space-y-1",children:r.map(b=>{const p=b.dataKeys||[];return p.length===0?null:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:b.metadata.name}),p.map(v=>s.jsxs(G,{type:"button",variant:"ghost",size:"sm",className:"w-full justify-start font-mono text-xs",onClick:()=>d(g,b.metadata.name,v),children:[s.jsx(Ro,{className:"h-3 w-3 mr-2 text-warning"}),v]},`${b.metadata.name}/${v}`))]},b.metadata.name)})})}),s.jsx("div",{className:"p-2 border-t border-border",children:s.jsxs(G,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>m(g),children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Create New Secret"]})})]})]})})]},g))}),s.jsx(O0,{open:o,onOpenChange:a,onSecretCreated:h})]})}function vl(e){return e.filter(t=>t.name.trim()).map(t=>t.valueType==="secret"&&t.secretName&&t.secretKey?{name:t.name,valueFrom:{secretKeyRef:{name:t.secretName,key:t.secretKey}}}:{name:t.name,value:t.value})}function $0(e){return e?e.map(t=>{var n;return(n=t.valueFrom)!=null&&n.secretKeyRef?{name:t.name,value:"",valueType:"secret",secretName:t.valueFrom.secretKeyRef.name,secretKey:t.valueFrom.secretKeyRef.key}:{name:t.name,value:t.value||"",valueType:"plain"}}):[]}const Ed=e=>e?Object.entries(e).map(([t,n])=>({key:t,value:n})):[],eN=e=>e.filter(t=>t.key).reduce((t,{key:n,value:r})=>({...t,[n]:r}),{});function F0({agent:e,open:t,onClose:n}){var T,D,R,$,L,F,_,I,A,B,U,O,q,ne,se;const{toast:r}=$r(),{modelAPIs:o,mcpServers:a,agents:i}=ot(),{updateAgent:l}=Et(),[c,u]=x.useState([]),{register:f,handleSubmit:d,control:m,setValue:h,watch:y,reset:g,formState:{errors:b,isSubmitting:p}}=gl({defaultValues:{description:((T=e.spec.config)==null?void 0:T.description)||"",instructions:((D=e.spec.config)==null?void 0:D.instructions)||"",modelAPI:e.spec.modelAPI||"",model:e.spec.model||"",mcpServers:e.spec.mcpServers||[],networkExpose:((R=e.spec.agentNetwork)==null?void 0:R.expose)||!1,networkAccess:(($=e.spec.agentNetwork)==null?void 0:$.access)||[],reasoningLoopMaxSteps:(L=e.spec.config)==null?void 0:L.reasoningLoopMaxSteps,waitForDependencies:e.spec.waitForDependencies||!1,gatewayTimeout:((F=e.spec.gatewayRoute)==null?void 0:F.timeout)||"",gatewayRetries:(_=e.spec.gatewayRoute)==null?void 0:_.retries,memoryEnabled:((A=(I=e.spec.config)==null?void 0:I.memory)==null?void 0:A.enabled)!==!1,memoryContextLimit:(U=(B=e.spec.config)==null?void 0:B.memory)==null?void 0:U.contextLimit,memoryMaxSessions:(q=(O=e.spec.config)==null?void 0:O.memory)==null?void 0:q.maxSessions,memoryMaxSessionEvents:(se=(ne=e.spec.config)==null?void 0:ne.memory)==null?void 0:se.maxSessionEvents,labels:Ed(e.metadata.labels),annotations:Ed(e.metadata.annotations)}}),v=y("modelAPI"),w=y("mcpServers"),C=y("networkExpose"),N=y("networkAccess"),j=y("waitForDependencies"),S=y("memoryEnabled");x.useEffect(()=>{var z,W,Q,ie,ae,oe,Y,he,fe,Se,Me,qe,Ue,V,K,X,me;g({description:((z=e.spec.config)==null?void 0:z.description)||"",instructions:((W=e.spec.config)==null?void 0:W.instructions)||"",modelAPI:e.spec.modelAPI||"",model:e.spec.model||"",mcpServers:e.spec.mcpServers||[],networkExpose:((Q=e.spec.agentNetwork)==null?void 0:Q.expose)||!1,networkAccess:((ie=e.spec.agentNetwork)==null?void 0:ie.access)||[],reasoningLoopMaxSteps:(ae=e.spec.config)==null?void 0:ae.reasoningLoopMaxSteps,waitForDependencies:e.spec.waitForDependencies||!1,gatewayTimeout:((oe=e.spec.gatewayRoute)==null?void 0:oe.timeout)||"",gatewayRetries:(Y=e.spec.gatewayRoute)==null?void 0:Y.retries,memoryEnabled:((fe=(he=e.spec.config)==null?void 0:he.memory)==null?void 0:fe.enabled)!==!1,memoryContextLimit:(Me=(Se=e.spec.config)==null?void 0:Se.memory)==null?void 0:Me.contextLimit,memoryMaxSessions:(Ue=(qe=e.spec.config)==null?void 0:qe.memory)==null?void 0:Ue.maxSessions,memoryMaxSessionEvents:(K=(V=e.spec.config)==null?void 0:V.memory)==null?void 0:K.maxSessionEvents,labels:Ed(e.metadata.labels),annotations:Ed(e.metadata.annotations)}),u($0(((X=e.spec.container)==null?void 0:X.env)||((me=e.spec.config)==null?void 0:me.env)))},[e,g]);const P=async z=>{try{const W=eN(z.labels),Q=eN(z.annotations),ie=vl(c),ae={enabled:z.memoryEnabled,type:"local",contextLimit:z.memoryContextLimit||void 0,maxSessions:z.memoryMaxSessions||void 0,maxSessionEvents:z.memoryMaxSessionEvents||void 0},oe={...e,metadata:{...e.metadata,labels:Object.keys(W).length>0?W:void 0,annotations:Object.keys(Q).length>0?Q:void 0},spec:{modelAPI:z.modelAPI,model:z.model,mcpServers:z.mcpServers.length>0?z.mcpServers:void 0,agentNetwork:{expose:z.networkExpose,access:z.networkAccess.length>0?z.networkAccess:void 0},waitForDependencies:z.waitForDependencies||void 0,gatewayRoute:z.gatewayTimeout||z.gatewayRetries?{timeout:z.gatewayTimeout||void 0,retries:z.gatewayRetries||void 0}:void 0,config:{description:z.description||void 0,instructions:z.instructions||void 0,reasoningLoopMaxSteps:z.reasoningLoopMaxSteps||void 0,memory:ae},container:ie.length>0?{env:ie}:void 0}};await l(oe),r({title:"Agent updated",description:`Successfully updated agent "${e.metadata.name}"`}),n()}catch(W){r({title:"Update failed",description:W instanceof Error?W.message:"Failed to update agent",variant:"destructive"})}},M=i.filter(z=>z.metadata.name!==e.metadata.name),E=z=>{const W=w||[];W.includes(z)?h("mcpServers",W.filter(Q=>Q!==z)):h("mcpServers",[...W,z])},k=z=>{const W=N||[];W.includes(z)?h("networkAccess",W.filter(Q=>Q!==z)):h("networkAccess",[...W,z])};return s.jsx(Bs,{open:t,onOpenChange:z=>!z&&n(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-agent/20 flex items-center justify-center",children:s.jsx(ln,{className:"h-5 w-5 text-agent"})}),s.jsxs("div",{children:[s.jsxs(ps,{children:["Edit Agent: ",e.metadata.name]}),s.jsx(Hs,{className:"font-mono text-xs",children:e.metadata.namespace})]})]})}),s.jsxs("form",{onSubmit:d(P),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",...f("description"),placeholder:"Agent description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"instructions",children:"Instructions"}),s.jsx(mr,{id:"instructions",...f("instructions"),placeholder:"Agent instructions and behavior...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Model API"}),s.jsxs(xn,{value:v,onValueChange:z=>h("modelAPI",z),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select a Model API"})}),s.jsx(on,{children:o.map(z=>s.jsx(ze,{value:z.metadata.name,children:z.metadata.name},z.metadata.name))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xe,{htmlFor:"model",children:["Model ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Re,{id:"model",...f("model",{required:"Model is required"}),placeholder:"e.g., openai/gpt-4o, ollama/smollm2:135m",className:"font-mono"}),b.model&&s.jsx("p",{className:"text-sm text-destructive",children:b.model.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be supported by the selected ModelAPI"})]}),a.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"MCP Servers"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(z=>s.jsx(G,{type:"button",variant:w!=null&&w.includes(z.metadata.name)?"default":"outline",size:"sm",onClick:()=>E(z.metadata.name),children:z.metadata.name},z.metadata.name))})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Reasoning Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"reasoningLoopMaxSteps",className:"text-xs text-muted-foreground",children:"Max Reasoning Steps"}),s.jsx(Re,{id:"reasoningLoopMaxSteps",type:"number",min:1,max:20,...f("reasoningLoopMaxSteps",{valueAsNumber:!0}),placeholder:"Default: 5",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Max iterations before stopping (1-20)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{className:"text-xs text-muted-foreground",children:"Wait for Dependencies"}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(Pi,{checked:j,onCheckedChange:z=>h("waitForDependencies",z)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:j?"Enabled":"Disabled"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Wait for ModelAPI and MCPServers to be ready"})]})]})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Agent Network"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Expose Agent"}),s.jsx(Pi,{checked:C,onCheckedChange:z=>h("networkExpose",z)})]}),M.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Peer Access"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(z=>s.jsx(G,{type:"button",variant:N!=null&&N.includes(z.metadata.name)?"default":"outline",size:"sm",onClick:()=>k(z.metadata.name),children:z.metadata.name},z.metadata.name))})]})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Gateway Route Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayTimeout",className:"text-xs text-muted-foreground",children:"Timeout"}),s.jsx(Re,{id:"gatewayTimeout",...f("gatewayTimeout"),placeholder:"e.g., 30s, 5m",className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayRetries",className:"text-xs text-muted-foreground",children:"Retries"}),s.jsx(Re,{id:"gatewayRetries",type:"number",min:0,max:10,...f("gatewayRetries",{valueAsNumber:!0}),placeholder:"e.g., 3",className:"font-mono text-sm"})]})]})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Memory Configuration"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Enable Memory"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Store conversation history and events"})]}),s.jsx(Pi,{checked:S,onCheckedChange:z=>h("memoryEnabled",z)})]}),S&&s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryContextLimit",className:"text-xs text-muted-foreground",children:"Context Limit"}),s.jsx(Re,{id:"memoryContextLimit",type:"number",min:1,max:100,...f("memoryContextLimit",{valueAsNumber:!0}),placeholder:"6",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Messages for delegation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryMaxSessions",className:"text-xs text-muted-foreground",children:"Max Sessions"}),s.jsx(Re,{id:"memoryMaxSessions",type:"number",min:1,...f("memoryMaxSessions",{valueAsNumber:!0}),placeholder:"1000",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Sessions to keep"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryMaxSessionEvents",className:"text-xs text-muted-foreground",children:"Max Events"}),s.jsx(Re,{id:"memoryMaxSessionEvents",type:"number",min:1,...f("memoryMaxSessionEvents",{valueAsNumber:!0}),placeholder:"500",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Events per session"})]})]})]}),s.jsx(Ie,{}),s.jsx(yl,{fields:c,onChange:u}),s.jsx(Ie,{}),s.jsx(I0,{control:m,register:f,labelsFieldName:"labels",annotationsFieldName:"annotations"})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:p,children:p?"Saving...":"Save Changes"})]})]})]})})}const Pd=e=>e?Object.entries(e).map(([t,n])=>({key:t,value:n})):[],tN=e=>e.filter(t=>t.key).reduce((t,{key:n,value:r})=>({...t,[n]:r}),{});function z0({mcpServer:e,open:t,onClose:n}){var w,C;const{toast:r}=$r(),{updateMCPServer:o}=Et(),[a,i]=x.useState([]),l=()=>e.spec.runtime?e.spec.runtime:e.spec.type==="python-runtime"?"python-string":e.spec.type==="node-runtime"?"custom":"python-string",c=()=>{var N,j,S,P;return e.spec.params?e.spec.params:(j=(N=e.spec.config)==null?void 0:N.tools)!=null&&j.fromString?e.spec.config.tools.fromString:(P=(S=e.spec.config)==null?void 0:S.tools)!=null&&P.fromPackage?e.spec.config.tools.fromPackage:""},{register:u,handleSubmit:f,control:d,watch:m,setValue:h,reset:y,formState:{errors:g,isSubmitting:b}}=gl({defaultValues:{runtime:l(),params:c(),serviceAccountName:e.spec.serviceAccountName||"",gatewayTimeout:((w=e.spec.gatewayRoute)==null?void 0:w.timeout)||"",gatewayRetries:(C=e.spec.gatewayRoute)==null?void 0:C.retries,labels:Pd(e.metadata.labels),annotations:Pd(e.metadata.annotations)}}),p=m("runtime");x.useEffect(()=>{var N,j,S,P;y({runtime:l(),params:c(),serviceAccountName:e.spec.serviceAccountName||"",gatewayTimeout:((N=e.spec.gatewayRoute)==null?void 0:N.timeout)||"",gatewayRetries:(j=e.spec.gatewayRoute)==null?void 0:j.retries,labels:Pd(e.metadata.labels),annotations:Pd(e.metadata.annotations)}),i($0(((S=e.spec.container)==null?void 0:S.env)||((P=e.spec.config)==null?void 0:P.env)))},[e,y]);const v=async N=>{try{const j=vl(a),S=tN(N.labels),P=tN(N.annotations),M={...e,metadata:{...e.metadata,labels:Object.keys(S).length>0?S:void 0,annotations:Object.keys(P).length>0?P:void 0},spec:{runtime:N.runtime,params:N.params||void 0,serviceAccountName:N.serviceAccountName||void 0,container:j.length>0?{env:j}:void 0,gatewayRoute:N.gatewayTimeout||N.gatewayRetries?{timeout:N.gatewayTimeout||void 0,retries:N.gatewayRetries||void 0}:void 0}};await o(M),r({title:"MCPServer updated",description:`Successfully updated MCPServer "${e.metadata.name}"`}),n()}catch(j){r({title:"Update failed",description:j instanceof Error?j.message:"Failed to update MCPServer",variant:"destructive"})}};return s.jsx(Bs,{open:t,onOpenChange:N=>!N&&n(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-mcpserver/20 flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-mcpserver"})}),s.jsxs("div",{children:[s.jsxs(ps,{children:["Edit MCPServer: ",e.metadata.name]}),s.jsx(Hs,{className:"font-mono text-xs",children:e.metadata.namespace})]})]})}),s.jsxs("form",{onSubmit:f(v),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Runtime"}),s.jsxs(xn,{value:p,onValueChange:N=>h("runtime",N),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select runtime"})}),s.jsxs(on,{children:[s.jsx(ze,{value:"python-string",children:"Python String"}),s.jsx(ze,{value:"kubernetes",children:"Kubernetes"}),s.jsx(ze,{value:"pctx",children:"pctx (Aggregator)"}),s.jsx(ze,{value:"custom",children:"Custom"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[p==="python-string"&&"Runs Python MCP tools from a string definition",p==="kubernetes"&&"Provides Kubernetes API tools (requires RBAC)",p==="pctx"&&"Aggregates multiple MCP servers into a unified endpoint",p==="custom"&&"Custom runtime configuration"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"params",children:"Parameters"}),s.jsx(mr,{id:"params",...u("params"),placeholder:p==="python-string"?"# Python tool definitions...":p==="kubernetes"?"namespaces: default,kaos-system":p==="pctx"?'{"name": "unified-mcp", "version": "1.0.0", "servers": [...]}':"Runtime-specific parameters...",className:"font-mono text-xs min-h-[120px]"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[p==="python-string"&&"Python code defining MCP tools",p==="kubernetes"&&"Kubernetes runtime parameters (e.g., namespaces)",p==="pctx"&&"JSON config with name, version, and servers array",p==="custom"&&"Parameters passed to the custom runtime"]})]}),p==="kubernetes"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"serviceAccountName",children:"Service Account Name"}),s.jsx(Re,{id:"serviceAccountName",...u("serviceAccountName"),placeholder:"e.g., mcp-kubernetes-sa",className:"font-mono"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Kubernetes service account for RBAC permissions"})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Gateway Route Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayTimeout",className:"text-xs text-muted-foreground",children:"Timeout"}),s.jsx(Re,{id:"gatewayTimeout",...u("gatewayTimeout"),placeholder:"e.g., 30s, 5m",className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayRetries",className:"text-xs text-muted-foreground",children:"Retries"}),s.jsx(Re,{id:"gatewayRetries",type:"number",min:0,max:10,...u("gatewayRetries",{valueAsNumber:!0}),placeholder:"e.g., 3",className:"font-mono text-sm"})]})]})]}),s.jsx(Ie,{}),s.jsx(yl,{fields:a,onChange:i}),s.jsx(Ie,{}),s.jsx(I0,{control:d,register:u,labelsFieldName:"labels",annotationsFieldName:"annotations"})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:b,children:b?"Saving...":"Save Changes"})]})]})]})})}function m_({value:e,onChange:t,label:n="API Key"}){const{secrets:r}=ot(),[o,a]=x.useState(!1),[i,l]=x.useState(!1),c=d=>{t({...e,type:d,directValue:d==="value"?e.directValue:void 0,secretName:d==="secretKeyRef"?e.secretName:void 0,secretKey:d==="secretKeyRef"?e.secretKey:void 0})},u=(d,m)=>{t({type:"secretKeyRef",secretName:d,secretKey:m})},f=(d,m)=>{m.length>0&&u(d,m[0])};return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ro,{className:"h-4 w-4"}),n]})}),s.jsxs(xn,{value:e.type,onValueChange:c,children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select API key source"})}),s.jsxs(on,{children:[s.jsx(ze,{value:"none",children:"No API Key"}),s.jsx(ze,{value:"value",children:"Direct Value"}),s.jsx(ze,{value:"secretKeyRef",children:"From Secret"})]})]}),e.type==="value"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Re,{type:i?"text":"password",value:e.directValue||"",onChange:d=>t({...e,directValue:d.target.value}),placeholder:"sk-...",className:"font-mono pr-10"}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(!i),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:i?s.jsx(vO,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})})]}),s.jsxs("p",{className:"text-xs text-warning flex items-center gap-1",children:[s.jsx(jx,{className:"h-3 w-3"}),"Not recommended for production - use Secret reference instead"]})]}),e.type==="secretKeyRef"&&s.jsxs(d_,{children:[s.jsx(f_,{asChild:!0,children:s.jsx(G,{type:"button",variant:"outline",className:"w-full justify-start font-mono text-sm",children:e.secretName?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jx,{className:"h-3 w-3 text-warning"}),s.jsx("span",{children:e.secretName}),e.secretKey&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-muted-foreground",children:"/"}),s.jsx(Z,{variant:"secondary",className:"font-mono text-xs",children:e.secretKey})]})]}):s.jsx("span",{className:"text-muted-foreground",children:"Select secret..."})})}),s.jsxs(L0,{className:"w-80 p-0",align:"start",children:[s.jsxs("div",{className:"p-2 border-b border-border",children:[s.jsx("p",{className:"text-sm font-medium",children:"Select Secret"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a secret and key to reference"})]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto p-2",children:r.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No secrets available"}):s.jsx("div",{className:"space-y-1",children:r.map(d=>{const m=d.dataKeys||[];return m.length===0?null:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:d.metadata.name}),m.map(h=>s.jsxs(G,{type:"button",variant:"ghost",size:"sm",className:"w-full justify-start font-mono text-xs",onClick:()=>u(d.metadata.name,h),children:[s.jsx(Ro,{className:"h-3 w-3 mr-2 text-warning"}),h]},`${d.metadata.name}/${h}`))]},d.metadata.name)})})}),s.jsx("div",{className:"p-2 border-t border-border",children:s.jsxs(G,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>a(!0),children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Create New Secret"]})})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Set as ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"PROXY_API_KEY"})," env var for LiteLLM config."]}),s.jsx(O0,{open:o,onOpenChange:a,onSecretCreated:f})]})}function h_(e){switch(e.type){case"value":return e.directValue?{value:e.directValue}:void 0;case"secretKeyRef":return e.secretName&&e.secretKey?{valueFrom:{secretKeyRef:{name:e.secretName,key:e.secretKey}}}:void 0;default:return}}function nN(e){var t;return e?e.value?{type:"value",directValue:e.value}:(t=e.valueFrom)!=null&&t.secretKeyRef?{type:"secretKeyRef",secretName:e.valueFrom.secretKeyRef.name,secretKey:e.valueFrom.secretKeyRef.key}:{type:"none"}:{type:"none"}}const rN=e=>e?Object.entries(e).map(([t,n])=>({key:t,value:n})):[],sN=e=>e.filter(t=>t.key).reduce((t,{key:n,value:r})=>({...t,[n]:r}),{});function V0({modelAPI:e,open:t,onClose:n}){const{toast:r}=$r(),{updateModelAPI:o}=Et(),[a,i]=x.useState([]),[l,c]=x.useState(()=>{var j;return nN((j=e.spec.proxyConfig)==null?void 0:j.apiKey)}),u=()=>{var j,S,P;return(j=e.spec.container)!=null&&j.env?e.spec.container.env:e.spec.mode==="Proxy"?((S=e.spec.proxyConfig)==null?void 0:S.env)||[]:((P=e.spec.hostedConfig)==null?void 0:P.env)||[]},f=()=>{var j,S,P,M,E,k,T,D,R;return{mode:e.spec.mode,models:((S=(j=e.spec.proxyConfig)==null?void 0:j.models)==null?void 0:S.join(`
`))||"*",provider:((P=e.spec.proxyConfig)==null?void 0:P.provider)||"",apiBase:((M=e.spec.proxyConfig)==null?void 0:M.apiBase)||"",configYamlString:((k=(E=e.spec.proxyConfig)==null?void 0:E.configYaml)==null?void 0:k.fromString)||"",hostedModel:((T=e.spec.hostedConfig)==null?void 0:T.model)||"",gatewayTimeout:((D=e.spec.gatewayRoute)==null?void 0:D.timeout)||"",gatewayRetries:(R=e.spec.gatewayRoute)==null?void 0:R.retries,labels:rN(e.metadata.labels),annotations:rN(e.metadata.annotations)}},{register:d,handleSubmit:m,control:h,watch:y,setValue:g,reset:b,formState:{errors:p,isSubmitting:v}}=gl({defaultValues:f()}),w=y("mode");x.useEffect(()=>{var j;b(f()),i($0(u())),c(nN((j=e.spec.proxyConfig)==null?void 0:j.apiKey))},[e,b]);const C=j=>j.split(/[,\n]/).map(S=>S.trim()).filter(S=>S.length>0),N=async j=>{try{const S=vl(a),P=sN(j.labels),M=sN(j.annotations),E=C(j.models);if(j.mode==="Proxy"&&E.length===0){r({title:"Validation error",description:"At least one model is required for Proxy mode",variant:"destructive"});return}const k={...e,metadata:{...e.metadata,labels:Object.keys(P).length>0?P:void 0,annotations:Object.keys(M).length>0?M:void 0},spec:{mode:j.mode,proxyConfig:j.mode==="Proxy"?{models:E,provider:j.provider||void 0,apiBase:j.apiBase||void 0,apiKey:h_(l),configYaml:j.configYamlString?{fromString:j.configYamlString}:void 0}:void 0,hostedConfig:j.mode==="Hosted"?{model:j.hostedModel}:void 0,gatewayRoute:j.gatewayTimeout||j.gatewayRetries?{timeout:j.gatewayTimeout||void 0,retries:j.gatewayRetries||void 0}:void 0,container:S.length>0?{env:S}:void 0}};await o(k),r({title:"ModelAPI updated",description:`Successfully updated ModelAPI "${e.metadata.name}"`}),n()}catch(S){r({title:"Update failed",description:S instanceof Error?S.message:"Failed to update ModelAPI",variant:"destructive"})}};return s.jsx(Bs,{open:t,onOpenChange:j=>!j&&n(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-modelapi/20 flex items-center justify-center",children:s.jsx(Wt,{className:"h-5 w-5 text-modelapi"})}),s.jsxs("div",{children:[s.jsxs(ps,{children:["Edit ModelAPI: ",e.metadata.name]}),s.jsx(Hs,{className:"font-mono text-xs",children:e.metadata.namespace})]})]})}),s.jsxs("form",{onSubmit:m(N),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Mode"}),s.jsxs(xn,{value:w,onValueChange:j=>g("mode",j),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select mode"})}),s.jsxs(on,{children:[s.jsx(ze,{value:"Proxy",children:"Proxy (LiteLLM)"}),s.jsx(ze,{value:"Hosted",children:"Hosted (Ollama)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w==="Proxy"?"Proxy mode forwards requests to external LLM providers via LiteLLM":"Hosted mode runs an Ollama server with the specified model in-cluster"})]}),w==="Proxy"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xe,{htmlFor:"models",children:["Models ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(mr,{id:"models",...d("models",{required:"At least one model is required"}),placeholder:`openai/gpt-4o
anthropic/claude-3-sonnet
* (wildcard for all)`,className:"font-mono text-sm min-h-[80px]"}),p.models&&s.jsx("p",{className:"text-sm text-destructive",children:p.models.message}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["One model per line or comma-separated. Supports wildcards: ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"*"}),", ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"openai/*"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"provider",children:"Provider (optional)"}),s.jsx(Re,{id:"provider",...d("provider"),placeholder:"e.g., openai, anthropic, ollama",className:"font-mono"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiteLLM provider prefix. When set, model names are prefixed with this provider."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"apiBase",children:"API Base URL"}),s.jsx(Re,{id:"apiBase",...d("apiBase"),placeholder:"e.g., http://host.docker.internal:11434",className:"font-mono"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Base URL of the backend LLM API. Set as ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"PROXY_API_BASE"})," env var."]})]}),s.jsx(Ie,{}),s.jsx(m_,{value:l,onChange:c}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"configYamlString",children:"Advanced: LiteLLM Config YAML"}),s.jsx(mr,{id:"configYamlString",...d("configYamlString"),placeholder:"# Optional: Full LiteLLM config YAML",className:"font-mono text-xs min-h-[100px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When provided, this config is used directly. Models list is still required for Agent validation."})]})]}),w==="Hosted"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"hostedModel",children:"Model"}),s.jsx(Re,{id:"hostedModel",...d("hostedModel",{required:w==="Hosted"?"Model is required for Hosted mode":!1}),placeholder:"e.g., smollm2:135m",className:"font-mono"}),p.hostedModel&&s.jsx("p",{className:"text-sm text-destructive",children:p.hostedModel.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ollama model to run in the cluster"})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Gateway Route Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayTimeout",className:"text-xs text-muted-foreground",children:"Timeout"}),s.jsx(Re,{id:"gatewayTimeout",...d("gatewayTimeout"),placeholder:"e.g., 5m",className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"gatewayRetries",className:"text-xs text-muted-foreground",children:"Retries"}),s.jsx(Re,{id:"gatewayRetries",type:"number",...d("gatewayRetries",{valueAsNumber:!0}),placeholder:"e.g., 3",className:"font-mono text-sm"})]})]})]}),s.jsx(Ie,{}),s.jsx(yl,{fields:a,onChange:i}),s.jsx(Ie,{}),s.jsx(I0,{control:h,register:d,labelsFieldName:"labels",annotationsFieldName:"annotations"})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:v,children:v?"Updating...":"Update ModelAPI"})]})]})]})})}function B0(e){return e?e.length>253?"Name must be 253 characters or less":/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/.test(e)?!0:"Name must be lowercase, start with alphanumeric, and contain only alphanumeric or hyphens":"Name is required"}function p_({open:e,onClose:t}){const{toast:n}=$r(),{modelAPIs:r,mcpServers:o,agents:a}=ot(),{namespace:i,createAgent:l}=Et(),[c,u]=x.useState([]),{register:f,handleSubmit:d,watch:m,setValue:h,reset:y,formState:{errors:g,isSubmitting:b}}=gl({defaultValues:{name:"",description:"",instructions:"",modelAPI:"",model:"",mcpServers:[],networkExpose:!1,networkAccess:[],memoryEnabled:!0,memoryContextLimit:void 0,memoryMaxSessions:void 0,memoryMaxSessionEvents:void 0}}),p=m("modelAPI"),v=m("mcpServers"),w=m("networkExpose"),C=m("networkAccess"),N=m("memoryEnabled"),j=k=>a.some(T=>T.metadata.name===k)?"An Agent with this name already exists":!0,S=k=>{const T=v||[];T.includes(k)?h("mcpServers",T.filter(D=>D!==k)):h("mcpServers",[...T,k])},P=k=>{const T=C||[];T.includes(k)?h("networkAccess",T.filter(D=>D!==k)):h("networkAccess",[...T,k])},M=async k=>{try{const T=vl(c),D=k.memoryEnabled!==!0||k.memoryContextLimit||k.memoryMaxSessions||k.memoryMaxSessionEvents?{enabled:k.memoryEnabled,type:"local",contextLimit:k.memoryContextLimit||void 0,maxSessions:k.memoryMaxSessions||void 0,maxSessionEvents:k.memoryMaxSessionEvents||void 0}:void 0,R={apiVersion:"kaos.tools/v1alpha1",kind:"Agent",metadata:{name:k.name,namespace:i||"default"},spec:{modelAPI:k.modelAPI,model:k.model,mcpServers:k.mcpServers.length>0?k.mcpServers:void 0,agentNetwork:{expose:k.networkExpose,access:k.networkAccess.length>0?k.networkAccess:void 0},config:{description:k.description,instructions:k.instructions,memory:D},container:T.length>0?{env:T}:void 0}};await l(R),n({title:"Agent created",description:`Successfully created Agent "${k.name}"`}),y(),u([]),t()}catch(T){n({title:"Creation failed",description:T instanceof Error?T.message:"Failed to create Agent",variant:"destructive"})}},E=()=>{y(),u([]),t()};return s.jsx(Bs,{open:e,onOpenChange:k=>!k&&E(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-agent/20 flex items-center justify-center",children:s.jsx(ln,{className:"h-5 w-5 text-agent"})}),s.jsxs("div",{children:[s.jsx(ps,{children:"Create Agent"}),s.jsx(Hs,{children:"Create a new AI Agent with LLM and tool access"})]})]})}),s.jsxs("form",{onSubmit:d(M),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"name",children:"Name"}),s.jsx(Re,{id:"name",...f("name",{required:"Name is required",validate:k=>{const T=B0(k);return T!==!0?T:j(k)}}),placeholder:"my-agent",className:"font-mono"}),g.name&&s.jsx("p",{className:"text-sm text-destructive",children:g.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",...f("description",{required:"Description is required"}),placeholder:"Agent description"}),g.description&&s.jsx("p",{className:"text-sm text-destructive",children:g.description.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"instructions",children:"Instructions"}),s.jsx(mr,{id:"instructions",...f("instructions",{required:"Instructions are required"}),placeholder:"Agent instructions and behavior...",rows:4}),g.instructions&&s.jsx("p",{className:"text-sm text-destructive",children:g.instructions.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Model API"}),s.jsxs(xn,{value:p,onValueChange:k=>h("modelAPI",k),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select a Model API"})}),s.jsx(on,{children:r.map(k=>s.jsx(ze,{value:k.metadata.name,children:k.metadata.name},k.metadata.name))})]}),r.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"No Model APIs available. Create one first."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xe,{htmlFor:"model",children:["Model ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Re,{id:"model",...f("model",{required:"Model is required"}),placeholder:"e.g., openai/gpt-4o, ollama/smollm2:135m",className:"font-mono"}),g.model&&s.jsx("p",{className:"text-sm text-destructive",children:g.model.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be supported by the selected ModelAPI"})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"MCP Servers"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(k=>s.jsx(G,{type:"button",variant:v!=null&&v.includes(k.metadata.name)?"default":"outline",size:"sm",onClick:()=>S(k.metadata.name),children:k.metadata.name},k.metadata.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{children:"Agent Network"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Expose Agent"}),s.jsx(Pi,{checked:w,onCheckedChange:k=>h("networkExpose",k)})]}),a.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Peer Access"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(k=>s.jsx(G,{type:"button",variant:C!=null&&C.includes(k.metadata.name)?"default":"outline",size:"sm",onClick:()=>P(k.metadata.name),children:k.metadata.name},k.metadata.name))})]})]}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Memory Configuration"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Enable Memory"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Store conversation history and events"})]}),s.jsx(Pi,{checked:N,onCheckedChange:k=>h("memoryEnabled",k)})]}),N&&s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryContextLimit",className:"text-xs text-muted-foreground",children:"Context Limit"}),s.jsx(Re,{id:"memoryContextLimit",type:"number",min:1,max:100,...f("memoryContextLimit",{valueAsNumber:!0}),placeholder:"6",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Messages for delegation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryMaxSessions",className:"text-xs text-muted-foreground",children:"Max Sessions"}),s.jsx(Re,{id:"memoryMaxSessions",type:"number",min:1,...f("memoryMaxSessions",{valueAsNumber:!0}),placeholder:"1000",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Sessions to keep"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"memoryMaxSessionEvents",className:"text-xs text-muted-foreground",children:"Max Events"}),s.jsx(Re,{id:"memoryMaxSessionEvents",type:"number",min:1,...f("memoryMaxSessionEvents",{valueAsNumber:!0}),placeholder:"500",className:"font-mono text-sm"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Events per session"})]})]})]}),s.jsx(Ie,{}),s.jsx(yl,{fields:c,onChange:u})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:b,children:b?"Creating...":"Create Agent"})]})]})]})})}function g_({open:e,onClose:t}){const{toast:n}=$r(),{mcpServers:r}=ot(),{namespace:o,createMCPServer:a}=Et(),[i,l]=x.useState([]),{register:c,handleSubmit:u,watch:f,setValue:d,reset:m,formState:{errors:h,isSubmitting:y}}=gl({defaultValues:{name:"",runtime:"python-string",params:"",serviceAccountName:""}}),g=f("runtime"),b=N=>r.some(j=>j.metadata.name===N)?"An MCPServer with this name already exists":!0,p=async N=>{try{const j=vl(i),S={apiVersion:"kaos.tools/v1alpha1",kind:"MCPServer",metadata:{name:N.name,namespace:o||"default"},spec:{runtime:N.runtime,params:N.params||void 0,serviceAccountName:N.serviceAccountName||void 0,container:j.length>0?{env:j}:void 0}};await a(S),n({title:"MCPServer created",description:`Successfully created MCPServer "${N.name}"`}),m(),l([]),t()}catch(j){n({title:"Creation failed",description:j instanceof Error?j.message:"Failed to create MCPServer",variant:"destructive"})}},v=()=>{m(),l([]),t()},w=N=>{switch(N){case"python-string":return"Define Python tools inline. Params are passed via MCP_TOOLS_STRING env var.";case"kubernetes":return"Access Kubernetes API. Requires serviceAccountName with proper RBAC.";case"pctx":return"Aggregate multiple MCP servers into a unified endpoint using pctx (Port of Context).";case"custom":return"Use a custom container image. Specify image in environment settings.";default:return""}},C=N=>{switch(N){case"python-string":return`def greet(name: str) -> str:
    """Greet someone by name."""
    return f"Hello, {name}!"`;case"kubernetes":return`# YAML configuration for kubernetes runtime
namespaces:
  - default
  - kaos-hierarchy`;case"pctx":return`{
  "name": "unified-mcp",
  "version": "1.0.0",
  "servers": [
    {"name": "calculator", "url": "http://mcpserver-calc.ns.svc:8000/mcp"},
    {"name": "external", "url": "https://external-mcp.example.com/mcp"}
  ]
}`;case"custom":return"# Custom runtime configuration";default:return""}};return s.jsx(Bs,{open:e,onOpenChange:N=>!N&&v(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-mcpserver/20 flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-mcpserver"})}),s.jsxs("div",{children:[s.jsx(ps,{children:"Create MCPServer"}),s.jsx(Hs,{children:"Create a new MCP Server for tool integration"})]})]})}),s.jsxs("form",{onSubmit:u(p),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"name",children:"Name"}),s.jsx(Re,{id:"name",...c("name",{required:"Name is required",validate:N=>{const j=B0(N);return j!==!0?j:b(N)}}),placeholder:"my-mcp-server",className:"font-mono"}),h.name&&s.jsx("p",{className:"text-sm text-destructive",children:h.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Runtime"}),s.jsxs(xn,{value:g,onValueChange:N=>d("runtime",N),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select runtime"})}),s.jsxs(on,{children:[s.jsx(ze,{value:"python-string",children:"Python String"}),s.jsx(ze,{value:"kubernetes",children:"Kubernetes"}),s.jsx(ze,{value:"pctx",children:"pctx (Aggregator)"}),s.jsx(ze,{value:"custom",children:"Custom"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w(g)})]}),g==="kubernetes"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"serviceAccountName",children:"Service Account Name"}),s.jsx(Re,{id:"serviceAccountName",...c("serviceAccountName"),placeholder:"kaos-mcp-kubernetes",className:"font-mono"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Create with: kaos system create-rbac --namespace ",o||"default"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"params",children:g==="python-string"?"Tool Definition (Python)":g==="pctx"?"pctx Configuration (JSON)":"Configuration (Params)"}),s.jsx(mr,{id:"params",...c("params",{required:g==="python-string"?"Tool definition is required":!1}),placeholder:C(g),className:"font-mono text-xs min-h-[150px]"}),h.params&&s.jsx("p",{className:"text-sm text-destructive",children:h.params.message})]}),s.jsx(yl,{fields:i,onChange:l})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:v,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:y,children:y?"Creating...":"Create MCPServer"})]})]})]})})}function x_({open:e,onClose:t}){const{toast:n}=$r(),{modelAPIs:r}=ot(),{namespace:o,createModelAPI:a}=Et(),[i,l]=x.useState([]),[c,u]=x.useState({type:"none"}),{register:f,handleSubmit:d,watch:m,setValue:h,reset:y,formState:{errors:g,isSubmitting:b}}=gl({defaultValues:{name:"",mode:"Proxy",models:"*",provider:"",apiBase:"",configYamlString:"",hostedModel:""}}),p=m("mode"),v=j=>r.some(S=>S.metadata.name===j)?"A ModelAPI with this name already exists":!0,w=j=>j.split(/[,\n]/).map(S=>S.trim()).filter(S=>S.length>0),C=async j=>{try{const S=vl(i),P=w(j.models);if(j.mode==="Proxy"&&P.length===0){n({title:"Validation error",description:"At least one model is required for Proxy mode",variant:"destructive"});return}const M={apiVersion:"kaos.tools/v1alpha1",kind:"ModelAPI",metadata:{name:j.name,namespace:o||"default"},spec:{mode:j.mode,proxyConfig:j.mode==="Proxy"?{models:P,provider:j.provider||void 0,apiBase:j.apiBase||void 0,apiKey:h_(c),configYaml:j.configYamlString?{fromString:j.configYamlString}:void 0}:void 0,hostedConfig:j.mode==="Hosted"?{model:j.hostedModel}:void 0,container:S.length>0?{env:S}:void 0}};await a(M),n({title:"ModelAPI created",description:`Successfully created ModelAPI "${j.name}"`}),y(),l([]),u({type:"none"}),t()}catch(S){n({title:"Creation failed",description:S instanceof Error?S.message:"Failed to create ModelAPI",variant:"destructive"})}},N=()=>{y(),l([]),u({type:"none"}),t()};return s.jsx(Bs,{open:e,onOpenChange:j=>!j&&N(),children:s.jsxs(ms,{className:"max-w-2xl max-h-[90vh]",children:[s.jsx(hs,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-modelapi/20 flex items-center justify-center",children:s.jsx(Wt,{className:"h-5 w-5 text-modelapi"})}),s.jsxs("div",{children:[s.jsx(ps,{children:"Create ModelAPI"}),s.jsx(Hs,{children:"Create a new Model API endpoint for LLM access"})]})]})}),s.jsxs("form",{onSubmit:d(C),children:[s.jsx(Je,{className:"h-[calc(90vh-220px)] pr-4",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"name",children:"Name"}),s.jsx(Re,{id:"name",...f("name",{required:"Name is required",validate:j=>{const S=B0(j);return S!==!0?S:v(j)}}),placeholder:"my-model-api",className:"font-mono"}),g.name&&s.jsx("p",{className:"text-sm text-destructive",children:g.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Mode"}),s.jsxs(xn,{value:p,onValueChange:j=>h("mode",j),children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select mode"})}),s.jsxs(on,{children:[s.jsx(ze,{value:"Proxy",children:"Proxy (LiteLLM)"}),s.jsx(ze,{value:"Hosted",children:"Hosted (Ollama)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p==="Proxy"?"Proxy mode forwards requests to external LLM providers via LiteLLM":"Hosted mode runs an Ollama server with the specified model in-cluster"})]}),p==="Proxy"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xe,{htmlFor:"models",children:["Models ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(mr,{id:"models",...f("models",{required:"At least one model is required"}),placeholder:`openai/gpt-4o
anthropic/claude-3-sonnet
* (wildcard for all)`,className:"font-mono text-sm min-h-[80px]"}),g.models&&s.jsx("p",{className:"text-sm text-destructive",children:g.models.message}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["One model per line or comma-separated. Supports wildcards: ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"*"}),", ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"openai/*"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"provider",children:"Provider (optional)"}),s.jsx(Re,{id:"provider",...f("provider"),placeholder:"e.g., openai, anthropic, ollama",className:"font-mono"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiteLLM provider prefix. When set, model names are prefixed with this provider."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"apiBase",children:"API Base URL"}),s.jsx(Re,{id:"apiBase",...f("apiBase"),placeholder:"e.g., http://host.docker.internal:11434",className:"font-mono"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Base URL of the backend LLM API. Set as ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"PROXY_API_BASE"})," env var."]})]}),s.jsx(Ie,{}),s.jsx(m_,{value:c,onChange:u}),s.jsx(Ie,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"configYamlString",children:"Advanced: LiteLLM Config YAML"}),s.jsx(mr,{id:"configYamlString",...f("configYamlString"),placeholder:"# Optional: Full LiteLLM config YAML for advanced multi-model routing",className:"font-mono text-xs min-h-[100px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When provided, this config is used directly. Models list is still required for Agent validation."})]})]}),p==="Hosted"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"hostedModel",children:"Model"}),s.jsx(Re,{id:"hostedModel",...f("hostedModel",{required:p==="Hosted"?"Model is required for Hosted mode":!1}),placeholder:"e.g., smollm2:135m",className:"font-mono"}),g.hostedModel&&s.jsx("p",{className:"text-sm text-destructive",children:g.hostedModel.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ollama model to run in the cluster"})]}),s.jsx(Ie,{}),s.jsx(yl,{fields:i,onChange:l})]})}),s.jsxs(Us,{className:"pt-4 border-t mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),s.jsx(G,{type:"submit",disabled:b,children:b?"Creating...":"Create ModelAPI"})]})]})]})})}const y_="visual-map-viewport";function WG(){try{const e=localStorage.getItem(y_);if(e)return JSON.parse(e)}catch{}}function KG(e){try{localStorage.setItem(y_,JSON.stringify(e))}catch{}}function qG({data:e,...t}){const{fitView:n}=Au(),r=x.useCallback(a=>{n({nodes:[{id:a}],padding:.5,duration:400})},[n]),o=x.useCallback(a=>{const i=ot.getState();i.setSelectedResource(a.resource),i.setSelectedResourceMode("edit")},[]);return s.jsx(cY,{data:e,onFocusNode:r,onEditNode:o,children:s.jsx("div",{children:s.jsx(Pq,{data:e,onEdit:o})})})}const YG={resourceNode:qG,columnHeader:Mq},GG={dynamic:Aq};function XG(){const{modelAPIs:e,mcpServers:t,agents:n,selectedResource:r,selectedResourceMode:o,setSelectedResource:a,setSelectedResourceMode:i}=ot(),[l,c]=x.useState(1),[u,f]=x.useState(null),d=x.useRef(!1),{initialNodes:m,initialEdges:h,changed:y,newNodeIds:g,handleNodeDragStop:b,reLayout:p}=gY(e,t,n),[v,w,C]=HK(m),[N,j,S]=WK(h),{fitView:P,setViewport:M}=Au();x.useEffect(()=>{y&&w(m)},[m,y,w]),x.useEffect(()=>{j(h)},[h,j]),x.useEffect(()=>{if(g.size>0){const z=Array.from(g);setTimeout(()=>{P({nodes:z.map(W=>({id:W})),padding:.5,duration:400})},100)}},[g,P]),x.useEffect(()=>{if(d.current)return;d.current=!0;const z=WG();setTimeout(z?()=>M(z,{duration:0}):()=>P({padding:.3,duration:300}),50)},[P,M]),KK({onChange:x.useCallback(z=>{c(z.zoom),KG(z)},[])});const{kindFilter:E,statusFilter:k,searchQuery:T,toggleKind:D,toggleStatus:R,setSearchQuery:$,applyFilters:L}=xY(),{nodes:F,edges:_}=x.useMemo(()=>L(v,N),[v,N,L]),I=x.useCallback(()=>{const z=p(v,N);w(z),setTimeout(()=>P({padding:.3,duration:300}),50)},[v,N,p,w,P]),A=x.useCallback(()=>{P({padding:.3,duration:300})},[P]),B=x.useCallback(z=>{f(z)},[]),U=o==="edit"&&(r==null?void 0:r.kind)==="Agent"?r:null,O=o==="edit"&&(r==null?void 0:r.kind)==="MCPServer"?r:null,q=o==="edit"&&(r==null?void 0:r.kind)==="ModelAPI"?r:null,ne=x.useCallback(()=>{a(null),i(null)},[a,i]);return e.length===0&&t.length===0&&n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)] text-muted-foreground gap-3",children:[s.jsx(ln,{className:"h-12 w-12 opacity-30"}),s.jsx("p",{className:"text-sm",children:"No resources found. Create ModelAPIs, MCPServers, or Agents to see them here."})]}):s.jsx(xT.Provider,{value:l,children:s.jsx(yT.Provider,{value:!1,children:s.jsxs(Vf,{delayDuration:200,children:[s.jsxs("div",{className:"h-[calc(100vh-140px)] w-full rounded-xl border border-border bg-card overflow-hidden relative",children:[s.jsx(_q,{kindFilter:E,statusFilter:k,searchQuery:T,onToggleKind:D,onToggleStatus:R,onSearchChange:$,onReLayout:I,onFitView:A,onCreateResource:B}),s.jsxs(VK,{nodes:F,edges:_,onNodesChange:C,onEdgesChange:S,onNodeDragStop:b,nodeTypes:YG,edgeTypes:GG,proOptions:{hideAttribution:!0},minZoom:.3,maxZoom:2,children:[s.jsx(QK,{gap:20,size:1,className:"!bg-background"}),s.jsx(sq,{className:"!bg-card !border-border !shadow-sm [&>button]:!bg-card [&>button]:!border-border [&>button]:!text-foreground"}),s.jsx(xq,{nodeColor:z=>{var Q;const W=(Q=z.data)==null?void 0:Q.resourceType;return W==="ModelAPI"?"hsl(var(--modelapi-color))":W==="MCPServer"?"hsl(var(--mcpserver-color))":W==="Agent"?"hsl(var(--agent-color))":"hsl(var(--muted-foreground))"},className:"!bg-card !border-border",maskColor:"hsl(var(--background) / 0.7)"})]}),s.jsx(jq,{modelAPIs:e,mcpServers:t,agents:n})]}),U&&s.jsx(F0,{agent:U,open:!0,onClose:ne}),O&&s.jsx(z0,{mcpServer:O,open:!0,onClose:ne}),q&&s.jsx(V0,{modelAPI:q,open:!0,onClose:ne}),s.jsx(p_,{open:u==="Agent",onClose:()=>f(null)}),s.jsx(g_,{open:u==="MCPServer",onClose:()=>f(null)}),s.jsx(x_,{open:u==="ModelAPI",onClose:()=>f(null)})]})})})}function QG(){return s.jsx(fT,{children:s.jsx(XG,{})})}var v_="AlertDialog",[JG]=Xt(v_,[OE]),Ks=OE(),w_=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ks(t);return s.jsx(qv,{...r,...n,modal:!0})};w_.displayName=v_;var ZG="AlertDialogTrigger",b_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ks(n);return s.jsx(L8,{...o,...r,ref:t})});b_.displayName=ZG;var eX="AlertDialogPortal",j_=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ks(t);return s.jsx(Yv,{...r,...n})};j_.displayName=eX;var tX="AlertDialogOverlay",N_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ks(n);return s.jsx(yu,{...o,...r,ref:t})});N_.displayName=tX;var Mi="AlertDialogContent",[nX,rX]=JG(Mi),sX=Ak("AlertDialogContent"),C_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=Ks(n),i=x.useRef(null),l=De(t,i),c=x.useRef(null);return s.jsx(A8,{contentName:Mi,titleName:S_,docsSlug:"alert-dialog",children:s.jsx(nX,{scope:n,cancelRef:c,children:s.jsxs(vu,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:le(o.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(sX,{children:r}),s.jsx(aX,{contentRef:i})]})})})});C_.displayName=Mi;var S_="AlertDialogTitle",k_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ks(n);return s.jsx(wu,{...o,...r,ref:t})});k_.displayName=S_;var E_="AlertDialogDescription",P_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ks(n);return s.jsx(bu,{...o,...r,ref:t})});P_.displayName=E_;var oX="AlertDialogAction",M_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Ks(n);return s.jsx(sh,{...o,...r,ref:t})});M_.displayName=oX;var R_="AlertDialogCancel",T_=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=rX(R_,n),a=Ks(n),i=De(t,o);return s.jsx(sh,{...a,...r,ref:i})});T_.displayName=R_;var aX=({contentRef:e})=>{const t=`\`${Mi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mi}\` by passing a \`${E_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},iX=w_,lX=b_,cX=j_,A_=N_,__=C_,I_=M_,D_=T_,L_=k_,O_=P_;const Du=iX,U0=lX,uX=cX,$_=x.forwardRef(({className:e,...t},n)=>s.jsx(A_,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));$_.displayName=A_.displayName;const wl=x.forwardRef(({className:e,...t},n)=>s.jsxs(uX,{children:[s.jsx($_,{}),s.jsx(__,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wl.displayName=__.displayName;const bl=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});bl.displayName="AlertDialogHeader";const jl=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jl.displayName="AlertDialogFooter";const Nl=x.forwardRef(({className:e,...t},n)=>s.jsx(L_,{ref:n,className:J("text-lg font-semibold",e),...t}));Nl.displayName=L_.displayName;const Cl=x.forwardRef(({className:e,...t},n)=>s.jsx(O_,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Cl.displayName=O_.displayName;const Sl=x.forwardRef(({className:e,...t},n)=>s.jsx(I_,{ref:n,className:J(Uv(),e),...t}));Sl.displayName=I_.displayName;const kl=x.forwardRef(({className:e,...t},n)=>s.jsx(D_,{ref:n,className:J(Uv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));kl.displayName=D_.displayName;function H0({title:e,description:t,items:n,columns:r,icon:o,iconColor:a,onAdd:i,onEdit:l,onDelete:c,onView:u,customActions:f,getStatus:d,getItemId:m}){const[h,y]=x.useState(""),[g,b]=x.useState(new Set),[p,v]=x.useState(!1),[w,C]=x.useState(null),N=n.filter(E=>m(E).toLowerCase().includes(h.toLowerCase())),j=E=>{switch(E==null?void 0:E.toLowerCase()){case"running":case"ready":case"bound":case"active":case"available":return"success";case"pending":case"creating":case"waiting":case"progressing":return"warning";case"error":case"failed":case"crashloopbackoff":return"error";case"terminating":case"terminated":case"deleting":return"destructive";default:return"secondary"}},S=E=>{C(E),v(!0)},P=()=>{w&&c&&c(w),v(!1),C(null)},M=()=>{v(!1),C(null)};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`hsl(var(--${a}) / 0.15)`},children:s.jsx(o,{className:"h-6 w-6",style:{color:`hsl(var(--${a}))`}})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e}),s.jsx("p",{className:"text-muted-foreground",children:t})]})]}),s.jsxs(G,{onClick:i,className:"gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Create ",e.slice(0,-1)]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(fc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Re,{placeholder:"Search...",value:h,onChange:E=>y(E.target.value),className:"pl-9 bg-muted/50 border-transparent"})]}),s.jsxs(G,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Ge,{className:"h-4 w-4"}),"Refresh"]}),s.jsxs(Z,{variant:"secondary",children:[N.length," resources"]})]}),s.jsxs("div",{className:"rounded-xl border border-border overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[s.jsx("th",{className:"w-10 px-4 py-3",children:s.jsx("input",{type:"checkbox",className:"rounded border-border",onChange:E=>{E.target.checked?b(new Set(N.map(m))):b(new Set)}})}),r.map(E=>s.jsx("th",{className:J("px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",E.width),children:E.header},E.key)),d&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:N.map(E=>{const k=m(E),T=d==null?void 0:d(E);return s.jsxs("tr",{className:J("hover:bg-muted/30 transition-colors",g.has(k)&&"bg-primary/5"),children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",className:"rounded border-border",checked:g.has(k),onChange:D=>{const R=new Set(g);D.target.checked?R.add(k):R.delete(k),b(R)}})}),r.map(D=>s.jsx("td",{className:"px-4 py-3",children:D.render?D.render(E):s.jsx("span",{className:"text-sm text-foreground",children:E[D.key]})},D.key)),T&&s.jsx("td",{className:"px-4 py-3",children:typeof T=="string"?s.jsx(Z,{variant:j(T),children:T}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:T.variant,className:"gap-1",children:[T.isRolling&&s.jsx(Ge,{className:"h-3 w-3 animate-spin"}),T.label]}),T.progress&&s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:T.progress})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f==null?void 0:f.map(D=>{const R=D.icon;return s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D.onClick(E),children:R&&s.jsx(R,{className:"h-4 w-4"})})}),s.jsx(Un,{children:s.jsx("p",{children:D.label})})]},D.label)}),u&&s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(E),children:s.jsx(Ho,{className:"h-4 w-4"})})}),s.jsx(Un,{children:s.jsx("p",{children:"View details"})})]}),l&&s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(E),children:s.jsx(Dm,{className:"h-4 w-4"})})}),s.jsx(Un,{children:s.jsx("p",{children:"Edit"})})]}),c&&s.jsxs(ar,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>S(E),children:s.jsx(cs,{className:"h-4 w-4"})})}),s.jsx(Un,{children:s.jsx("p",{children:"Delete"})})]})]})})]},k)})})]}),N.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(o,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No resources found"}),s.jsx(G,{variant:"outline",className:"mt-4",onClick:i,children:"Create your first resource"})]})]}),s.jsx(Du,{open:p,onOpenChange:v,children:s.jsxs(wl,{className:"bg-background border-border",children:[s.jsxs(bl,{children:[s.jsx(Nl,{children:"Are you sure you want to delete this resource?"}),s.jsxs(Cl,{children:["This action cannot be undone. This will permanently delete the resource",w&&s.jsxs("span",{className:"font-mono font-medium text-foreground",children:[" ",m(w)]})," ","from the Kubernetes cluster."]})]}),s.jsxs(jl,{children:[s.jsx(kl,{onClick:M,children:"Cancel"}),s.jsx(Sl,{onClick:P,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const dX=e=>{var o,a;const t=(o=e.status)==null?void 0:o.deployment,n=((a=e.status)==null?void 0:a.phase)||"Unknown";if(t){const{replicas:i=0,readyReplicas:l=0,updatedReplicas:c=0}=t;if(i>0&&c<i)return{label:"Updating",variant:"warning",isRolling:!0,progress:`${c}/${i}`};if(i>0&&l<i)return{label:"Pending",variant:"warning",progress:`${l}/${i}`};if(i>0&&l===i)return{label:"Ready",variant:"success",progress:`${l}/${i}`}}const r=n.toLowerCase();return r==="ready"||r==="running"?{label:n,variant:"success"}:r==="pending"||r==="creating"?{label:n,variant:"warning"}:r==="error"||r==="failed"?{label:n,variant:"error"}:{label:n,variant:"secondary"}};function fX(){const e=Vt(),{modelAPIs:t,setSelectedResource:n,setSelectedResourceMode:r}=ot(),{deleteModelAPI:o}=Et(),[a,i]=x.useState(!1),l=[{key:"name",header:"Name",render:f=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-modelapi/20 flex items-center justify-center",children:s.jsx(Wt,{className:"h-4 w-4 text-modelapi"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:f.metadata.name}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:f.metadata.namespace})]})]})},{key:"mode",header:"Mode",render:f=>s.jsx(Z,{variant:f.spec.mode==="Proxy"?"secondary":"outline",children:f.spec.mode})},{key:"created",header:"Created",render:f=>s.jsx("span",{className:"text-sm text-muted-foreground",children:f.metadata.creationTimestamp?new Date(f.metadata.creationTimestamp).toLocaleDateString():"-"})}],c=f=>{const d=f.metadata.namespace||"default";e(`/modelapis/${d}/${f.metadata.name}`)},u=f=>{n(f),r("edit")};return s.jsxs(s.Fragment,{children:[s.jsx(H0,{title:"Model APIs",description:"Manage LiteLLM proxy and vLLM hosted model endpoints",items:t,columns:l,icon:Wt,iconColor:"modelapi-color",onAdd:()=>i(!0),onView:c,onEdit:u,onDelete:f=>o(f.metadata.name),getStatus:dX,getItemId:f=>f.metadata.name}),s.jsx(x_,{open:a,onClose:()=>i(!1)})]})}const mX=e=>{var o,a;const t=(o=e.status)==null?void 0:o.deployment,n=((a=e.status)==null?void 0:a.phase)||"Unknown";if(t){const{replicas:i=0,readyReplicas:l=0,updatedReplicas:c=0}=t;if(i>0&&c<i)return{label:"Updating",variant:"warning",isRolling:!0,progress:`${c}/${i}`};if(i>0&&l<i)return{label:"Pending",variant:"warning",progress:`${l}/${i}`};if(i>0&&l===i)return{label:"Ready",variant:"success",progress:`${l}/${i}`}}const r=n.toLowerCase();return r==="ready"||r==="running"?{label:n,variant:"success"}:r==="pending"||r==="creating"?{label:n,variant:"warning"}:r==="error"||r==="failed"?{label:n,variant:"error"}:{label:n,variant:"secondary"}};function hX(){const e=Vt(),{mcpServers:t,setSelectedResource:n,setSelectedResourceMode:r}=ot(),{deleteMCPServer:o}=Et(),[a,i]=x.useState(!1),l=[{key:"name",header:"Name",render:f=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-mcpserver/20 flex items-center justify-center",children:s.jsx(kt,{className:"h-4 w-4 text-mcpserver"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:f.metadata.name}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:f.metadata.namespace})]})]})},{key:"type",header:"Type",render:f=>s.jsx(Z,{variant:"secondary",children:f.spec.runtime||f.spec.type||"Unknown"})},{key:"toolsSource",header:"Tools Source",render:f=>{var y,g;const d=f.spec.params,m=(y=f.spec.config)==null?void 0:y.tools,h=(d==null?void 0:d.slice(0,30))||(m==null?void 0:m.fromPackage)||((g=m==null?void 0:m.fromString)==null?void 0:g.slice(0,30))||"-";return s.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:h})}},{key:"availableTools",header:"Tools",render:f=>{var d,m,h,y,g,b;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[(m=(d=f.status)==null?void 0:d.availableTools)==null?void 0:m.slice(0,3).map(p=>s.jsx(Z,{variant:"outline",className:"text-[10px]",children:p},p)),(((y=(h=f.status)==null?void 0:h.availableTools)==null?void 0:y.length)||0)>3&&s.jsxs(Z,{variant:"outline",className:"text-[10px]",children:["+",(((b=(g=f.status)==null?void 0:g.availableTools)==null?void 0:b.length)||0)-3]})]})}}],c=f=>{const d=f.metadata.namespace||"default";e(`/mcpservers/${d}/${f.metadata.name}`)},u=f=>{n(f),r("edit")};return s.jsxs(s.Fragment,{children:[s.jsx(H0,{title:"MCP Servers",description:"Model Context Protocol servers for tool integration",items:t,columns:l,icon:kt,iconColor:"mcpserver-color",onAdd:()=>i(!0),onView:c,onEdit:u,onDelete:f=>o(f.metadata.name),getStatus:mX,getItemId:f=>f.metadata.name}),s.jsx(g_,{open:a,onClose:()=>i(!1)})]})}const pX=e=>{var o,a;const t=(o=e.status)==null?void 0:o.deployment,n=((a=e.status)==null?void 0:a.phase)||"Unknown";if(t){const{replicas:i=0,readyReplicas:l=0,updatedReplicas:c=0}=t;if(i>0&&c<i)return{label:"Updating",variant:"warning",isRolling:!0,progress:`${c}/${i}`};if(i>0&&l<i)return{label:"Pending",variant:"warning",progress:`${l}/${i}`};if(i>0&&l===i)return{label:"Ready",variant:"success",progress:`${l}/${i}`}}const r=n.toLowerCase();return r==="ready"||r==="running"?{label:n,variant:"success"}:r==="pending"||r==="creating"?{label:n,variant:"warning"}:r==="error"||r==="failed"?{label:n,variant:"error"}:{label:n,variant:"secondary"}};function gX(){const e=Vt(),{agents:t,setSelectedResource:n,setSelectedResourceMode:r}=ot(),{deleteAgent:o}=Et(),[a,i]=x.useState(!1),l=[{key:"name",header:"Name",render:f=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-agent/20 flex items-center justify-center",children:s.jsx(ln,{className:"h-4 w-4 text-agent"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:f.metadata.name}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:f.metadata.namespace})]})]})},{key:"modelAPI",header:"Model API",render:f=>s.jsx(Z,{variant:"modelapi",children:f.spec.modelAPI})},{key:"mcpServers",header:"MCP Servers",render:f=>{var d,m,h;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[(d=f.spec.mcpServers)==null?void 0:d.slice(0,2).map(y=>s.jsx(Z,{variant:"mcpserver",className:"text-[10px]",children:y},y)),(((m=f.spec.mcpServers)==null?void 0:m.length)||0)>2&&s.jsxs(Z,{variant:"secondary",className:"text-[10px]",children:["+",(((h=f.spec.mcpServers)==null?void 0:h.length)||0)-2]})]})}},{key:"network",header:"Network",render:f=>{var d,m;return s.jsxs("div",{className:"flex items-center gap-2",children:[(d=f.spec.agentNetwork)!=null&&d.expose?s.jsxs(Z,{variant:"success",className:"gap-1",children:[s.jsx(a2,{className:"h-3 w-3"}),"Exposed"]}):s.jsx(Z,{variant:"secondary",children:"Private"}),((m=f.spec.agentNetwork)==null?void 0:m.access)&&f.spec.agentNetwork.access.length>0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.spec.agentNetwork.access.length," peers"]})]})}}],c=f=>{e(`/agents/${f.metadata.namespace||"default"}/${f.metadata.name}`)},u=f=>{n(f),r("edit")};return s.jsxs(s.Fragment,{children:[s.jsx(H0,{title:"Agents",description:"ADK-based agents with multi-agent communication support",items:t,columns:l,icon:ln,iconColor:"agent-color",onAdd:()=>i(!0),onView:c,onEdit:u,onDelete:async f=>{await o(f.metadata.name,f.metadata.namespace)},getStatus:pX,getItemId:f=>f.metadata.name}),s.jsx(p_,{open:a,onClose:()=>i(!1)})]})}const W0=qv,xX=Yv,F_=x.forwardRef(({className:e,...t},n)=>s.jsx(yu,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));F_.displayName=yu.displayName;const yX=cl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ih=x.forwardRef(({side:e="right",className:t,children:n,...r},o)=>s.jsxs(xX,{children:[s.jsx(F_,{}),s.jsxs(vu,{ref:o,className:J(yX({side:e}),t),...r,children:[n,s.jsxs(sh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Lm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ih.displayName=vu.displayName;const Dh=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});Dh.displayName="SheetHeader";const Lh=x.forwardRef(({className:e,...t},n)=>s.jsx(wu,{ref:n,className:J("text-lg font-semibold text-foreground",e),...t}));Lh.displayName=wu.displayName;const Oh=x.forwardRef(({className:e,...t},n)=>s.jsx(bu,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Oh.displayName=bu.displayName;function vX({agent:e,open:t,onClose:n,onEdit:r}){var a,i,l,c,u;const o=f=>{switch(f){case"Running":return"success";case"Pending":return"warning";case"Error":return"destructive";default:return"secondary"}};return s.jsx(W0,{open:t,onOpenChange:f=>!f&&n(),children:s.jsxs(Ih,{className:"w-full sm:max-w-lg",children:[s.jsx(Dh,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-agent/20 flex items-center justify-center",children:s.jsx(ln,{className:"h-5 w-5 text-agent"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Lh,{className:"text-lg",children:e.metadata.name}),s.jsx(Oh,{className:"font-mono text-xs",children:e.metadata.namespace})]}),s.jsx(Z,{variant:o((a=e.status)==null?void 0:a.phase),children:((i=e.status)==null?void 0:i.phase)||"Unknown"})]})}),s.jsx(Je,{className:"h-[calc(100vh-180px)] pr-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.spec.config.description||"No description provided"})]}),s.jsx(Ie,{}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Instructions"}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:e.spec.config.instructions||"No instructions provided"})})]}),s.jsx(Ie,{}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[s.jsx(_f,{className:"h-4 w-4"}),"Model API"]}),s.jsx(Z,{variant:"modelapi",className:"text-sm",children:e.spec.modelAPI})]}),s.jsx(Ie,{}),e.spec.mcpServers&&e.spec.mcpServers.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4"}),"MCP Servers (",e.spec.mcpServers.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.spec.mcpServers.map(f=>s.jsx(Z,{variant:"mcpserver",children:f},f))})]}),s.jsx(Ie,{})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[s.jsx(a2,{className:"h-4 w-4"}),"Agent Network"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Exposed"}),s.jsx(Z,{variant:(l=e.spec.agentNetwork)!=null&&l.expose?"success":"secondary",children:(c=e.spec.agentNetwork)!=null&&c.expose?"Yes":"No"})]}),((u=e.spec.agentNetwork)==null?void 0:u.access)&&e.spec.agentNetwork.access.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground block mb-1",children:"Peer Access"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.spec.agentNetwork.access.map(f=>s.jsx(Z,{variant:"outline",className:"text-xs",children:f},f))})]})]})]}),s.jsx(Ie,{}),(()=>{var d,m;const f=((d=e.spec.container)==null?void 0:d.env)||((m=e.spec.config)==null?void 0:m.env)||[];return f.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2",children:["Environment Variables (",f.length,")"]}),s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:f.map((h,y)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-2 font-mono text-xs text-foreground",children:h.name}),s.jsx("td",{className:"p-2 font-mono text-xs text-muted-foreground truncate max-w-[200px]",children:h.value||(h.valueFrom?"<from secret/configmap>":"-")})]},y))})]})})]}),s.jsx(Ie,{})]})})(),e.status&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Status Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[e.status.message&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Message: "}),s.jsx("span",{className:"text-foreground",children:e.status.message})]}),e.status.linkedResources&&Object.keys(e.status.linkedResources).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"Linked Resources:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.status.linkedResources).map(([f,d])=>s.jsxs(Z,{variant:"outline",className:"text-xs",children:[f,": ",d]},f))})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Metadata"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.metadata.uid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"UID: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.uid})]}),e.metadata.creationTimestamp&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Created: "}),s.jsx("span",{className:"text-foreground",children:new Date(e.metadata.creationTimestamp).toLocaleString()})]}),e.metadata.resourceVersion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Resource Version: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.resourceVersion})]})]})]})]})}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[s.jsx(G,{variant:"outline",className:"flex-1",onClick:n,children:"Close"}),r&&s.jsx(G,{className:"flex-1",onClick:r,children:"Edit Agent"})]})]})})}function wX({modelAPI:e,open:t,onClose:n,onEdit:r}){var i,l,c,u,f,d,m,h,y,g;const o=b=>{switch(b){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}},a=e.spec.mode==="Proxy"?(i=e.spec.proxyConfig)==null?void 0:i.env:(l=e.spec.hostedConfig)==null?void 0:l.env;return s.jsx(W0,{open:t,onOpenChange:b=>!b&&n(),children:s.jsxs(Ih,{className:"w-full sm:max-w-lg",children:[s.jsx(Dh,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-modelapi/20 flex items-center justify-center",children:s.jsx(Wt,{className:"h-5 w-5 text-modelapi"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Lh,{className:"text-lg",children:e.metadata.name}),s.jsx(Oh,{className:"font-mono text-xs",children:e.metadata.namespace})]}),s.jsx(Z,{variant:o((c=e.status)==null?void 0:c.phase),children:((u=e.status)==null?void 0:u.phase)||"Unknown"})]})}),s.jsx(Je,{className:"h-[calc(100vh-180px)] pr-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Mode"}),s.jsx(Z,{variant:e.spec.mode==="Proxy"?"secondary":"outline",children:e.spec.mode})]}),s.jsx(Ie,{}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Configuration"}),s.jsxs("div",{className:"space-y-2",children:[e.spec.mode==="Hosted"&&((f=e.spec.hostedConfig)==null?void 0:f.model)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Model: "}),s.jsx("span",{className:"text-sm font-mono text-foreground",children:e.spec.hostedConfig.model})]}),e.spec.mode==="Proxy"&&s.jsxs(s.Fragment,{children:[((d=e.spec.proxyConfig)==null?void 0:d.apiBase)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Base: "}),s.jsx("span",{className:"text-sm font-mono text-foreground",children:e.spec.proxyConfig.apiBase})]}),((m=e.spec.proxyConfig)==null?void 0:m.models)&&e.spec.proxyConfig.models.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Models: "}),s.jsx("span",{className:"text-sm font-mono text-foreground",children:e.spec.proxyConfig.models.join(", ")})]}),!((h=e.spec.proxyConfig)!=null&&h.apiBase)&&(!((y=e.spec.proxyConfig)!=null&&y.models)||e.spec.proxyConfig.models.length===0)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Proxies requests to external LLM providers via LiteLLM"})]})]})]}),s.jsx(Ie,{}),((g=e.status)==null?void 0:g.endpoint)&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Endpoint"}),s.jsx("code",{className:"text-sm font-mono text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:e.status.endpoint})]}),s.jsx(Ie,{})]}),a&&a.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2",children:["Environment Variables (",a.length,")"]}),s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:a.map((b,p)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-2 font-mono text-xs text-foreground",children:b.name}),s.jsx("td",{className:"p-2 font-mono text-xs text-muted-foreground truncate max-w-[200px]",children:b.value||(b.valueFrom?"<from secret/configmap>":"-")})]},p))})]})})]}),s.jsx(Ie,{})]}),e.status&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Status Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Ready"}),s.jsx(Z,{variant:e.status.ready?"success":"secondary",children:e.status.ready?"Yes":"No"})]}),e.status.message&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Message: "}),s.jsx("span",{className:"text-foreground",children:e.status.message})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Metadata"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.metadata.uid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"UID: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.uid})]}),e.metadata.creationTimestamp&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Created: "}),s.jsx("span",{className:"text-foreground",children:new Date(e.metadata.creationTimestamp).toLocaleString()})]}),e.metadata.resourceVersion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Resource Version: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.resourceVersion})]})]})]})]})}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[s.jsx(G,{variant:"outline",className:"flex-1",onClick:n,children:"Close"}),r&&s.jsx(G,{className:"flex-1",onClick:r,children:"Edit ModelAPI"})]})]})})}function bX({mcpServer:e,open:t,onClose:n,onEdit:r}){var d,m,h,y,g,b,p;const o=v=>{switch(v){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}},a=(d=e.spec.config)==null?void 0:d.tools,i=a==null?void 0:a.fromPackage,l=a==null?void 0:a.fromString,c=e.spec.runtime||e.spec.type,u=e.spec.params,f=((m=e.spec.container)==null?void 0:m.env)||((h=e.spec.config)==null?void 0:h.env);return s.jsx(W0,{open:t,onOpenChange:v=>!v&&n(),children:s.jsxs(Ih,{className:"w-full sm:max-w-lg",children:[s.jsx(Dh,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-mcpserver/20 flex items-center justify-center",children:s.jsx(kt,{className:"h-5 w-5 text-mcpserver"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Lh,{className:"text-lg",children:e.metadata.name}),s.jsx(Oh,{className:"font-mono text-xs",children:e.metadata.namespace})]}),s.jsx(Z,{variant:o((y=e.status)==null?void 0:y.phase),children:((g=e.status)==null?void 0:g.phase)||"Unknown"})]})}),s.jsx(Je,{className:"h-[calc(100vh-180px)] pr-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Runtime"}),s.jsx(Z,{variant:"secondary",children:c||"Unknown"})]}),s.jsx(Ie,{}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:u?"Parameters":"Tools Configuration"}),s.jsxs("div",{className:"space-y-3",children:[u&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(di,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsx("pre",{className:"text-xs font-mono text-foreground bg-muted/50 p-2 rounded overflow-auto max-h-[150px]",children:e.spec.params})})]}),i&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(c2,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"From Package: "}),s.jsx("code",{className:"text-sm font-mono text-foreground bg-muted/50 px-2 py-0.5 rounded",children:a==null?void 0:a.fromPackage})]})]}),l&&!u&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(di,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground block mb-1",children:"From Code:"}),s.jsx("pre",{className:"text-xs font-mono text-foreground bg-muted/50 p-2 rounded overflow-auto max-h-[150px]",children:a==null?void 0:a.fromString})]})]}),!i&&!l&&!u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No configuration"})]})]}),s.jsx(Ie,{}),((b=e.status)==null?void 0:b.endpoint)&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Endpoint"}),s.jsx("code",{className:"text-sm font-mono text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:e.status.endpoint})]}),s.jsx(Ie,{})]}),((p=e.status)==null?void 0:p.availableTools)&&e.status.availableTools.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2",children:["Available Tools (",e.status.availableTools.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.status.availableTools.map(v=>s.jsx(Z,{variant:"outline",className:"text-xs",children:v},v))})]}),s.jsx(Ie,{})]}),f&&f.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2",children:["Environment Variables (",f.length,")"]}),s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:f.map((v,w)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-2 font-mono text-xs text-foreground",children:v.name}),s.jsx("td",{className:"p-2 font-mono text-xs text-muted-foreground truncate max-w-[200px]",children:v.value||(v.valueFrom?"<from secret/configmap>":"-")})]},w))})]})})]}),s.jsx(Ie,{})]}),e.status&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Status Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Ready"}),s.jsx(Z,{variant:e.status.ready?"success":"secondary",children:e.status.ready?"Yes":"No"})]}),e.status.message&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Message: "}),s.jsx("span",{className:"text-foreground",children:e.status.message})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Metadata"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[e.metadata.uid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"UID: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.uid})]}),e.metadata.creationTimestamp&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Created: "}),s.jsx("span",{className:"text-foreground",children:new Date(e.metadata.creationTimestamp).toLocaleString()})]}),e.metadata.resourceVersion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Resource Version: "}),s.jsx("span",{className:"font-mono text-xs text-foreground",children:e.metadata.resourceVersion})]})]})]})]})}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[s.jsx(G,{variant:"outline",className:"flex-1",onClick:n,children:"Close"}),r&&s.jsx(G,{className:"flex-1",onClick:r,children:"Edit MCPServer"})]})]})})}function jX(){const e=Vt(),{pods:t}=ot(),{refreshAll:n}=Et(),r=(a,i)=>{i.stopPropagation();const l=a.metadata.namespace||"default";e(`/pods/${l}/${a.metadata.name}?tab=logs`)},o=a=>{const i=a.metadata.namespace||"default";e(`/pods/${i}/${a.metadata.name}`)};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-pod/10 flex items-center justify-center",children:s.jsx(os,{className:"h-6 w-6 text-pod"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Pods"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage Kubernetes pods"})]})]}),s.jsxs(G,{variant:"outline",className:"gap-2",onClick:()=>n(),children:[s.jsx(Ge,{className:"h-4 w-4"}),"Refresh"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(a=>{var i,l,c,u,f;return s.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 hover:border-primary/30 transition-all cursor-pointer group",onClick:()=>o(a),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-pod/20 flex items-center justify-center",children:s.jsx(os,{className:"h-5 w-5 text-pod"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground truncate max-w-[150px]",children:a.metadata.name}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:a.metadata.namespace})]})]}),s.jsx(Z,{variant:((i=a.status)==null?void 0:i.phase)==="Running"?"success":((l=a.status)==null?void 0:l.phase)==="Pending"?"warning":"destructive",children:(c=a.status)==null?void 0:c.phase})]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(l2,{className:"h-3 w-3"}),"Pod IP"]}),s.jsx("span",{className:"font-mono",children:((u=a.status)==null?void 0:u.podIP)||"-"})]}),s.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[s.jsx("span",{children:"Host IP"}),s.jsx("span",{className:"font-mono",children:((f=a.status)==null?void 0:f.hostIP)||"-"})]}),s.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[s.jsx("span",{children:"Containers"}),s.jsx("span",{children:a.spec.containers.length})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-border flex gap-2",children:a.spec.containers.map(d=>s.jsx(Z,{variant:"outline",className:"text-[10px]",children:d.name},d.name))}),s.jsx("div",{className:"mt-3 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs(G,{variant:"outline",size:"sm",className:"w-full gap-1",onClick:d=>r(a,d),title:"View pod details and logs",children:[s.jsx(Ho,{className:"h-3 w-3"}),"View Details"]})})]},a.metadata.name)})}),t.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(os,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pods found"})]})]})}function NX(){const{secrets:e}=ot(),{deleteSecret:t,refreshAll:n}=Et(),[r,o]=x.useState(!1),[a,i]=x.useState(!1),[l,c]=x.useState(null),[u,f]=x.useState(!1),[d,m]=x.useState(null),h=async()=>{if(l){f(!0);try{await t(l.metadata.name,l.metadata.namespace),lo.success(`Secret "${l.metadata.name}" deleted successfully`),i(!1),c(null)}catch(p){lo.error(`Failed to delete secret: ${p instanceof Error?p.message:"Unknown error"}`)}finally{f(!1)}}},y=(p,v)=>{const w=`valueFrom:
  secretKeyRef:
    name: ${p}
    key: ${v}`;navigator.clipboard.writeText(w),m(`${p}/${v}`),setTimeout(()=>m(null),2e3),lo.success("Secret reference copied to clipboard")},g=p=>{switch(p){case"Opaque":return"Opaque";case"kubernetes.io/service-account-token":return"Service Account";case"kubernetes.io/dockerconfigjson":return"Docker Registry";case"kubernetes.io/tls":return"TLS";case"kubernetes.io/basic-auth":return"Basic Auth";case"kubernetes.io/ssh-auth":return"SSH Auth";default:return p}},b=p=>{const v=p.metadata.name;return v.startsWith("default-token-")||v.startsWith("sh.helm.release")||p.type==="kubernetes.io/service-account-token"};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-warning/10 flex items-center justify-center",children:s.jsx(Ro,{className:"h-6 w-6 text-warning"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Secrets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage Kubernetes secrets for your resources"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",className:"gap-2",onClick:()=>n(),children:[s.jsx(Ge,{className:"h-4 w-4"}),"Refresh"]}),s.jsxs(G,{className:"gap-2",onClick:()=>o(!0),children:[s.jsx(Dr,{className:"h-4 w-4"}),"Create Secret"]})]})]}),s.jsx("div",{className:"space-y-4",children:e.map(p=>{const v=b(p),w=p.dataKeys||[];return s.jsxs("div",{className:"bg-card rounded-xl border border-border p-5 hover:border-primary/30 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-warning/20 flex items-center justify-center",children:s.jsx(Ro,{className:"h-6 w-6 text-warning"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-lg font-semibold text-foreground",children:p.metadata.name}),v&&s.jsx(Z,{variant:"outline",className:"text-xs",children:"System"})]}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:p.metadata.namespace})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Z,{variant:"secondary",children:g(p.type)}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-2xl font-bold text-foreground",children:w.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keys"})]}),!v&&s.jsx(G,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{c(p),i(!0)},children:s.jsx(cs,{className:"h-4 w-4"})})]})]}),w.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Secret Keys"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(C=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Z,{variant:"outline",className:"font-mono text-xs pr-1",children:C}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>y(p.metadata.name,C),children:d===`${p.metadata.name}/${C}`?s.jsx(Fr,{className:"h-3 w-3 text-success"}):s.jsx(Uo,{className:"h-3 w-3 text-muted-foreground"})})]},C))})]})]},`${p.metadata.namespace}/${p.metadata.name}`)})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ro,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No secrets found"}),s.jsxs(G,{className:"mt-4 gap-2",onClick:()=>o(!0),children:[s.jsx(Dr,{className:"h-4 w-4"}),"Create your first secret"]})]}),s.jsx(O0,{open:r,onOpenChange:o}),s.jsx(Du,{open:a,onOpenChange:i,children:s.jsxs(wl,{children:[s.jsxs(bl,{children:[s.jsxs(Nl,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-destructive"}),"Delete Secret"]}),s.jsxs(Cl,{children:['Are you sure you want to delete the secret "',l==null?void 0:l.metadata.name,'"? This action cannot be undone and may break resources that depend on this secret.']})]}),s.jsxs(jl,{children:[s.jsx(kl,{disabled:u,children:"Cancel"}),s.jsx(Sl,{onClick:h,disabled:u,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u?"Deleting...":"Delete"})]})]})})]})}const be=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));be.displayName="Card";const Ne=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const Ce=x.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ce.displayName="CardTitle";const Ot=x.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Ot.displayName="CardDescription";const je=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:J("p-6 pt-0",e),...t}));je.displayName="CardContent";const CX=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",e),...t}));CX.displayName="CardFooter";function SX(){const[e,t]=x.useState(""),[n,r]=x.useState(!1),[o,a]=x.useState([]),i=(d,m)=>{a(h=>h.map((y,g)=>g===d?{...y,...m}:y))},l=async()=>{if(!e)return;const d=e.replace(/\/$/,"");r(!0),a([{name:"URL Format",status:"pending",message:"Checking URL format..."},{name:"Simple GET Request",status:"pending",message:"Testing connection to proxy..."},{name:"CORS Headers Check",status:"pending",message:"Checking if CORS headers are present..."},{name:"K8s API Response",status:"pending",message:"Validating Kubernetes API response..."}]),await new Promise(g=>setTimeout(g,200));try{const g=new URL(d);if(g.protocol!=="https:"&&g.protocol!=="http:"){i(0,{status:"error",message:"Invalid protocol",details:"URL must start with http:// or https://"}),r(!1);return}i(0,{status:"success",message:"Valid URL",details:g.hostname})}catch(g){i(0,{status:"error",message:"Invalid URL format",details:String(g)}),r(!1);return}i(1,{status:"running",message:"Testing connection..."}),await new Promise(g=>setTimeout(g,200));let h=!1,y=null;try{const g=await fetch(`${d}/version`);if(g.ok)y=await g.json(),h=!0,i(1,{status:"success",message:"Connection successful!",details:`K8s ${y.gitVersion||"responded"}`});else{const b=await g.text();i(1,{status:"error",message:`HTTP ${g.status}`,details:b.slice(0,200)})}}catch(g){const b=g instanceof Error?g.message:"Unknown";i(1,{status:"error",message:"Request failed",details:b})}i(2,{status:"running",message:"Checking CORS configuration..."}),await new Promise(g=>setTimeout(g,200));try{const g=await fetch(`${d}/version`,{method:"OPTIONS"}),b=g.headers.get("Access-Control-Allow-Origin"),p=g.headers.get("Access-Control-Allow-Methods"),v=g.headers.get("Access-Control-Allow-Headers");g.status===405?i(2,{status:"warning",message:"OPTIONS returns 405",details:`kubectl proxy doesn't handle OPTIONS. CORS Origin: ${b||"not set"}. Use kaos ui for CORS support.`}):b?i(2,{status:"success",message:"CORS headers present",details:`Origin: ${b}, Methods: ${p||"not set"}, Headers: ${v||"not set"}`}):i(2,{status:"warning",message:"No CORS headers in OPTIONS response",details:`Status: ${g.status}`})}catch(g){i(2,{status:"error",message:"OPTIONS request failed",details:g instanceof Error?g.message:"Unknown"})}i(3,{status:"running",message:"Validating response..."}),await new Promise(g=>setTimeout(g,200)),h?y&&y.gitVersion?i(3,{status:"success",message:"Valid Kubernetes API",details:`Version: ${y.gitVersion}, Platform: ${y.platform||"unknown"}`}):i(3,{status:"warning",message:"Response received but format unexpected",details:JSON.stringify(y).slice(0,100)}):i(3,{status:"error",message:"Could not validate",details:"No successful response received"}),r(!1)},c=d=>{switch(d){case"success":return s.jsx(vn,{className:"h-4 w-4 text-green-500"});case"error":return s.jsx(Ls,{className:"h-4 w-4 text-red-500"});case"warning":return s.jsx(Dc,{className:"h-4 w-4 text-yellow-500"});case"running":return s.jsx(Os,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return s.jsx(ul,{className:"h-4 w-4 text-muted-foreground"})}},u=d=>{switch(d){case"success":return s.jsx(Z,{className:"bg-green-600",children:"Pass"});case"error":return s.jsx(Z,{variant:"destructive",children:"Fail"});case"warning":return s.jsx(Z,{className:"bg-yellow-600",children:"Warning"});case"running":return s.jsx(Z,{variant:"secondary",children:"Running"});default:return s.jsx(Z,{variant:"outline",children:"Pending"})}},f=o.some(d=>d.status==="success"&&d.name.includes("GET"));return s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{children:"Connection Diagnostics"}),s.jsx(Ot,{children:"Test connectivity to your Kubernetes cluster via proxy"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"test-url",children:"Kubernetes Proxy URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{id:"test-url",placeholder:"http://localhost:8010 or https://your-tunnel.loca.lt",value:e,onChange:d=>t(d.target.value),disabled:n}),s.jsx(G,{onClick:l,disabled:n||!e,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Run Tests"})]})]}),o.length>0&&s.jsx("div",{className:"space-y-2 border rounded-lg p-4",children:o.map((d,m)=>s.jsxs("div",{className:"flex items-start gap-3 py-2 border-b last:border-0",children:[c(d.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:d.name}),u(d.status)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.message}),d.details&&s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 break-all",children:d.details})]})]},m))}),f&&s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/30 space-y-2",children:[s.jsxs("h4",{className:"font-medium text-green-600 flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4"}),"Connection Successful!"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Kubernetes cluster is accessible. You can now use the Connect button above."})]})]})]})}function kX(){const{connected:e,namespace:t}=Et(),[n,r]=x.useState(!1),[o,a]=x.useState([]),i=(p,v,w)=>{a(C=>C.map(N=>N.name===p?{...N,tests:N.tests.map(j=>j.name===v?{...j,...w}:j)}:N))},l=(p,v)=>{a(w=>w.map(C=>C.name===p?{...C,...v}:C))},c=async(p,v,w)=>{i(p,v,{status:"running"});const C=Date.now();try{return await w(),i(p,v,{status:"passed",duration:Date.now()-C,message:"Success"}),!0}catch(N){return i(p,v,{status:"failed",duration:Date.now()-C,message:N instanceof Error?N.message:String(N)}),!1}},u=async()=>{const p="ModelAPI CRUD";l(p,{status:"running"});const v=`crud-test-modelapi-${Date.now()}`;let w=null;const C=await c(p,"Create ModelAPI",async()=>{var E;const M={apiVersion:"kaos.tools/v1alpha1",kind:"ModelAPI",metadata:{name:v,namespace:t},spec:{mode:"Proxy",proxyConfig:{models:["*"],env:[{name:"TEST_KEY",value:"test-value"}]}}};if(w=await ke.createModelAPI(M),!((E=w==null?void 0:w.metadata)!=null&&E.name))throw new Error("Created resource missing name")});if(!C){l(p,{status:"failed"});return}let N=null;const j=await c(p,"Read ModelAPI",async()=>{if(N=await ke.getModelAPI(v),N.metadata.name!==v)throw new Error("Fetched name does not match")}),S=await c(p,"Update ModelAPI",async()=>{var T,D;if(!N)throw new Error("No resource to update");const M={...N,spec:{...N.spec,proxyConfig:{models:["*"],env:[{name:"TEST_KEY",value:"updated-value"},{name:"NEW_KEY",value:"new-value"}]}}};if(!((D=(T=(await ke.updateModelAPI(M)).spec.proxyConfig)==null?void 0:T.env)==null?void 0:D.find(R=>R.name==="NEW_KEY")))throw new Error("Update did not apply")}),P=await c(p,"Delete ModelAPI",async()=>{await ke.deleteModelAPI(v);try{throw await ke.getModelAPI(v),new Error("Resource still exists after delete")}catch(M){if(M instanceof Error&&M.message.includes("still exists"))throw M}});l(p,{status:C&&j&&S&&P?"passed":"failed"})},f=async()=>{const p="MCPServer CRUD";l(p,{status:"running"});const v=`crud-test-mcpserver-${Date.now()}`;let w=null;const C=await c(p,"Create MCPServer",async()=>{var E;const M={apiVersion:"kaos.tools/v1alpha1",kind:"MCPServer",metadata:{name:v,namespace:t},spec:{type:"python-runtime",config:{tools:{fromPackage:"test-mcp-server"}}}};if(w=await ke.createMCPServer(M),!((E=w==null?void 0:w.metadata)!=null&&E.name))throw new Error("Created resource missing name")});if(!C){l(p,{status:"failed"});return}let N=null;const j=await c(p,"Read MCPServer",async()=>{if(N=await ke.getMCPServer(v),N.metadata.name!==v)throw new Error("Fetched name does not match")}),S=await c(p,"Update MCPServer",async()=>{var k,T;if(!N)throw new Error("No resource to update");const M={...N,spec:{...N.spec,config:{...N.spec.config,tools:{fromPackage:"updated-mcp-server"}}}};if(((T=(k=(await ke.updateMCPServer(M)).spec.config)==null?void 0:k.tools)==null?void 0:T.fromPackage)!=="updated-mcp-server")throw new Error("Update did not apply")}),P=await c(p,"Delete MCPServer",async()=>{await ke.deleteMCPServer(v);try{throw await ke.getMCPServer(v),new Error("Resource still exists after delete")}catch(M){if(M instanceof Error&&M.message.includes("still exists"))throw M}});l(p,{status:C&&j&&S&&P?"passed":"failed"})},d=async()=>{const p="Agent CRUD";l(p,{status:"running"});const v=`crud-test-agent-${Date.now()}`;let w=null;const C=await c(p,"Create Agent",async()=>{var E;const M={apiVersion:"kaos.tools/v1alpha1",kind:"Agent",metadata:{name:v,namespace:t},spec:{modelAPI:"multi-agent-api",model:"ollama/smollm2:135m",config:{description:"Test agent for CRUD testing",instructions:"You are a test agent.",env:[{name:"TEST_VAR",value:"test-value"}]},agentNetwork:{expose:!1}}};if(w=await ke.createAgent(M),!((E=w==null?void 0:w.metadata)!=null&&E.name))throw new Error("Created resource missing name")});if(!C){l(p,{status:"failed"});return}let N=null;const j=await c(p,"Read Agent",async()=>{if(N=await ke.getAgent(v),N.metadata.name!==v)throw new Error("Fetched name does not match")}),S=await c(p,"Update Agent",async()=>{var k;if(!N)throw new Error("No resource to update");const M={...N,spec:{...N.spec,config:{...N.spec.config,description:"Updated test agent description"}}};if(((k=(await ke.updateAgent(M)).spec.config)==null?void 0:k.description)!=="Updated test agent description")throw new Error("Update did not apply")}),P=await c(p,"Delete Agent",async()=>{await ke.deleteAgent(v);try{throw await ke.getAgent(v),new Error("Resource still exists after delete")}catch(M){if(M instanceof Error&&M.message.includes("still exists"))throw M}});l(p,{status:C&&j&&S&&P?"passed":"failed"})},m=async()=>{e&&(r(!0),a([{name:"ModelAPI CRUD",status:"pending",tests:[{name:"Create ModelAPI",status:"pending"},{name:"Read ModelAPI",status:"pending"},{name:"Update ModelAPI",status:"pending"},{name:"Delete ModelAPI",status:"pending"}]},{name:"MCPServer CRUD",status:"pending",tests:[{name:"Create MCPServer",status:"pending"},{name:"Read MCPServer",status:"pending"},{name:"Update MCPServer",status:"pending"},{name:"Delete MCPServer",status:"pending"}]},{name:"Agent CRUD",status:"pending",tests:[{name:"Create Agent",status:"pending"},{name:"Read Agent",status:"pending"},{name:"Update Agent",status:"pending"},{name:"Delete Agent",status:"pending"}]}]),await u(),await f(),await d(),r(!1))},h=p=>{switch(p){case"passed":return s.jsx(vn,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Ls,{className:"h-4 w-4 text-destructive"});case"running":return s.jsx(Os,{className:"h-4 w-4 animate-spin text-blue-500"});case"skipped":return s.jsx(st,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground"})}},y=o.reduce((p,v)=>p+v.tests.length,0),g=o.reduce((p,v)=>p+v.tests.filter(w=>w.status==="passed").length,0),b=o.reduce((p,v)=>p+v.tests.filter(w=>w.status==="failed").length,0);return s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Nx,{className:"h-5 w-5"}),"CRUD End-to-End Tests"]}),s.jsx(Ot,{children:"Run create, read, update, delete tests against the connected cluster. Test resources are automatically cleaned up."})]}),s.jsxs(je,{className:"space-y-4",children:[!e&&s.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:s.jsx("p",{className:"text-sm text-amber-600",children:"Connect to a Kubernetes cluster first to run tests."})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{onClick:m,disabled:!e||n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Tests..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Run All CRUD Tests"]})}),o.length>0&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{variant:"default",className:"bg-green-600",children:[g," passed"]}),b>0&&s.jsxs(Z,{variant:"destructive",children:[b," failed"]}),s.jsxs(Z,{variant:"secondary",children:[y," total"]})]})]}),o.length>0&&s.jsx(Je,{className:"h-[400px] rounded-md border p-4",children:s.jsx("div",{className:"space-y-6",children:o.map(p=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[h(p.status),s.jsx("span",{children:p.name}),p.status==="passed"&&s.jsx(Z,{variant:"default",className:"bg-green-600 text-xs",children:"PASS"}),p.status==="failed"&&s.jsx(Z,{variant:"destructive",className:"text-xs",children:"FAIL"})]}),s.jsx("div",{className:"ml-6 space-y-1",children:p.tests.map(v=>s.jsxs("div",{className:"flex items-center gap-2 text-sm py-1",children:[h(v.status),s.jsx("span",{className:v.status==="failed"?"text-destructive":"",children:v.name}),v.duration!==void 0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v.duration,"ms)"]}),v.status==="failed"&&v.message&&s.jsxs("span",{className:"text-xs text-destructive ml-2",children:["- ",v.message]})]},v.name))})]},p.name))})})]})]})}function oN(){const{toast:e}=$r(),t=Et(),n="http://localhost:8010",[r,o]=x.useState(n),[a,i]=x.useState("default"),[l,c]=x.useState([]),[u,f]=x.useState(null);x.useEffect(()=>{const b=localStorage.getItem("k8s-config");if(b)try{const p=JSON.parse(b);o(p.baseUrl||n),i(p.namespace||"default")}catch(p){console.error("Failed to parse saved config:",p),o(n)}else o(n)},[]),x.useEffect(()=>{t.connected&&(o(t.baseUrl),i(t.namespace))},[t.connected,t.baseUrl,t.namespace]);const d=async()=>{if(!r){e({title:"Error",description:"Please enter a Kubernetes API URL",variant:"destructive"});return}const b=r.replace(/\/$/,"");if(await t.connect(b,a)){localStorage.setItem("k8s-config",JSON.stringify({baseUrl:b,namespace:a}));const v=await ke.testConnection();v.version&&f(v.version);try{const w=await ke.listNamespaces();c(w.map(C=>C.metadata.name))}catch(w){console.warn("Could not fetch namespaces:",w)}e({title:"Connected",description:`Connected to Kubernetes ${v.version||""}`})}else e({title:"Connection Failed",description:t.error||"Unable to connect",variant:"destructive"})},m=()=>{t.disconnect(),localStorage.removeItem("k8s-config"),f(null),c([]),e({title:"Disconnected",description:"Disconnected from Kubernetes cluster"})},h=async b=>{i(b),t.connected&&r&&(await t.connect(r,b),localStorage.setItem("k8s-config",JSON.stringify({baseUrl:r,namespace:b})))},y=async()=>{await t.refreshAll(),e({title:"Refreshed",description:"Resources synced from cluster"})},g=t.connecting?"connecting":t.connected?"connected":t.error?"error":"disconnected";return s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[g==="connected"?s.jsx(h2,{className:"h-5 w-5 text-green-500"}):s.jsx(AO,{className:"h-5 w-5 text-muted-foreground"}),"Kubernetes Connection"]}),s.jsx(Ot,{children:"Connect to your Kubernetes cluster via kubectl proxy"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),g==="connected"&&s.jsxs(Z,{variant:"default",className:"bg-green-600",children:[s.jsx(vn,{className:"h-3 w-3 mr-1"}),"Connected ",u&&`(${u})`]}),g==="connecting"&&s.jsxs(Z,{variant:"secondary",children:[s.jsx(Os,{className:"h-3 w-3 mr-1 animate-spin"}),"Connecting..."]}),g==="error"&&s.jsxs(Z,{variant:"destructive",children:[s.jsx(Ls,{className:"h-3 w-3 mr-1"}),"Error"]}),g==="disconnected"&&s.jsx(Z,{variant:"secondary",children:"Disconnected"})]}),t.error&&s.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:t.error}),t.lastRefresh&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last synced: ",t.lastRefresh.toLocaleTimeString()]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"baseUrl",children:"Kubernetes API URL"}),s.jsx(Re,{id:"baseUrl",placeholder:"http://localhost:8010",value:r,onChange:b=>o(b.target.value),disabled:g==="connected"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Run ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"kaos ui"})," or"," ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"kaos ui --port=8010"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"namespace",children:"Namespace"}),l.length>0?s.jsxs(xn,{value:a,onValueChange:h,children:[s.jsx(sn,{children:s.jsx(yn,{placeholder:"Select namespace"})}),s.jsx(on,{children:l.map(b=>s.jsx(ze,{value:b,children:b},b))})]}):s.jsx(Re,{id:"namespace",placeholder:"default",value:a,onChange:b=>i(b.target.value)})]}),s.jsx("div",{className:"flex gap-2",children:g!=="connected"?s.jsx(G,{onClick:d,disabled:t.connecting,children:t.connecting?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"h-4 w-4 mr-2 animate-spin"}),"Connecting..."]}):"Connect"}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{variant:"outline",onClick:y,children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(G,{variant:"outline",onClick:d,children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Reconnect"]}),s.jsx(G,{variant:"destructive",onClick:m,children:"Disconnect"})]})})]})]}),s.jsx(SX,{}),s.jsx(kX,{}),s.jsxs(be,{children:[s.jsx(Ne,{children:s.jsx(Ce,{children:"Setup Instructions"})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"1. Start the UI with proxy"}),s.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto",children:"kaos ui"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or specify a custom port: ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"kaos ui --port=8010"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"2. Connect"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enter the Kubernetes proxy URL above (default: ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"http://localhost:8010"}),") and click Connect."]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20 mt-4",children:[s.jsx("h4",{className:"font-medium text-amber-600 mb-2",children:" CORS Limitation"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("code",{children:"kubectl proxy"})," doesn't handle CORS preflight requests, so direct browser connections may fail. Use the ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"kaos ui"})," CLI which includes CORS support."]})]})]})]})]})}function EX(){const{theme:e,setTheme:t,resolvedTheme:n}=Mv(),[r,o]=x.useState(!1);x.useEffect(()=>{o(!0)},[]);const a=[{id:"light",label:"Light",icon:f2,description:"Light background with dark text"},{id:"dark",label:"Dark",icon:i2,description:"Dark background with light text"},{id:"system",label:"System",icon:EO,description:"Follow system preferences"}];return s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{children:"Theme"}),s.jsx(Ot,{children:"Select your preferred color theme for the dashboard"})]}),s.jsx(je,{className:"space-y-4",children:s.jsx("div",{className:"grid gap-3",children:a.map(i=>{const l=i.icon,c=e===i.id;return s.jsxs("button",{onClick:()=>t(i.id),className:J("flex items-center gap-4 p-4 rounded-lg border transition-all duration-200 text-left",c?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[s.jsx("div",{className:J("h-10 w-10 rounded-lg flex items-center justify-center",c?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:s.jsx(l,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(xe,{className:"text-sm font-medium cursor-pointer",children:i.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.description})]}),s.jsx("div",{className:J("h-4 w-4 rounded-full border-2 transition-colors",c?"border-primary bg-primary":"border-muted-foreground")})]},i.id)})})})]}),s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{children:"Preview"}),s.jsx(Ot,{children:"See how the current theme looks"})]}),s.jsx(je,{children:s.jsxs("div",{className:"rounded-lg border overflow-hidden",children:[s.jsx("div",{className:"bg-sidebar p-4 border-b border-sidebar-border",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded bg-primary/20"}),s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground",children:"KAOS Dashboard"})]})}),s.jsx("div",{className:"bg-background p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"w-1/3 space-y-2",children:[s.jsx("div",{className:"h-3 w-full bg-muted rounded"}),s.jsx("div",{className:"h-3 w-3/4 bg-muted rounded"}),s.jsx("div",{className:"h-3 w-1/2 bg-muted rounded"})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-card p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-success"}),s.jsx("span",{className:"text-xs text-foreground",children:"Running"})]}),s.jsx("div",{className:"h-2 w-full bg-muted rounded mb-1"}),s.jsx("div",{className:"h-2 w-2/3 bg-muted rounded"})]})})]})})]})})]})]})}const PX=[{id:"connectivity",label:"Connectivity",icon:h2,description:"Kubernetes cluster connection settings"},{id:"appearance",label:"Appearance",icon:PO,description:"Theme and visual preferences"}];function MX(){const[e,t]=x.useState("connectivity"),n=()=>{switch(e){case"connectivity":return s.jsx(oN,{});case"appearance":return s.jsx(EX,{});default:return s.jsx(oN,{})}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted flex items-center justify-center",children:s.jsx(ka,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your operator dashboard"})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsx("nav",{className:"w-56 shrink-0 space-y-1",children:PX.map(r=>{const o=r.icon,a=e===r.id;return s.jsxs("button",{onClick:()=>t(r.id),className:J("flex items-center gap-3 w-full px-3 py-2.5 rounded-lg transition-all duration-200 text-left",a?"bg-primary/10 text-primary border border-primary/20":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[s.jsx(o,{className:J("h-5 w-5 flex-shrink-0",a&&"text-primary")}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium block",children:r.label}),s.jsx("span",{className:"text-xs text-muted-foreground",children:r.description})]})]},r.id)})}),s.jsx("div",{className:"flex-1 min-w-0",children:n()})]})]})}var $h="Tabs",[RX]=Xt($h,[ih]),z_=ih(),[TX,K0]=RX($h),V_=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=ju(l),[d,m]=Ir({prop:r,onChange:o,defaultProp:a??"",caller:$h});return s.jsx(TX,{scope:n,baseId:Wn(),value:d,onValueChange:m,orientation:i,dir:f,activationMode:c,children:s.jsx(Pe.div,{dir:f,"data-orientation":i,...u,ref:t})})});V_.displayName=$h;var B_="TabsList",U_=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=K0(B_,n),i=z_(n);return s.jsx(vP,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});U_.displayName=B_;var H_="TabsTrigger",W_=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,i=K0(H_,n),l=z_(n),c=Y_(i.baseId,r),u=G_(i.baseId,r),f=r===i.value;return s.jsx(wP,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(Pe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:le(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(r):d.preventDefault()}),onKeyDown:le(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(r)}),onFocus:le(e.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!o&&d&&i.onValueChange(r)})})})});W_.displayName=H_;var K_="TabsContent",q_=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...i}=e,l=K0(K_,n),c=Y_(l.baseId,r),u=G_(l.baseId,r),f=r===l.value,d=x.useRef(f);return x.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Kt,{present:o||f,children:({present:m})=>s.jsx(Pe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&a})})});q_.displayName=K_;function Y_(e,t){return`${e}-trigger-${t}`}function G_(e,t){return`${e}-content-${t}`}var AX=V_,X_=U_,Q_=W_,J_=q_;const Ba=AX,Qo=x.forwardRef(({className:e,...t},n)=>s.jsx(X_,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Qo.displayName=X_.displayName;const ct=x.forwardRef(({className:e,...t},n)=>s.jsx(Q_,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ct.displayName=Q_.displayName;const xt=x.forwardRef(({className:e,...t},n)=>s.jsx(J_,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xt.displayName=J_.displayName;const _X=cl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$o=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:J(_X({variant:t}),e),...n}));$o.displayName="Alert";const cm=x.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));cm.displayName="AlertTitle";const Fo=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:J("text-sm [&_p]:leading-relaxed",e),...t}));Fo.displayName="AlertDescription";const IX=["managedFields","selfLink","generation"];function iy(e){if(e==null)return e;if(Array.isArray(e))return e.map(iy);if(typeof e=="object"){const t={};for(const[n,r]of Object.entries(e))IX.includes(n)||(t[n]=iy(r));return t}return e}function tc(e,t=0){const n="  ".repeat(t);if(e==null)return"null";if(typeof e=="string")return e.includes(`
`)?`|
`+e.split(`
`).map(a=>"  ".repeat(t+1)+a).join(`
`):e.includes(":")||e.includes("#")||e.startsWith(" ")||e.endsWith(" ")||e===""||e.includes('"')?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e))return e.length===0?"[]":`
`+e.map(o=>{if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const i=tc(o,0).split(`
`).filter(u=>u.trim());if(i.length===0)return`${n}- {}`;const l=i[0].trim(),c=i.slice(1).map(u=>n+"  "+u.trim()).join(`
`);return`${n}- ${l}${c?`
`+c:""}`}return`${n}- ${tc(o,t+1)}`}).join(`
`);if(typeof e=="object"){const r=Object.entries(e).filter(([,a])=>a!==void 0);return r.length===0?"{}":r.map(([a,i])=>{if(i==null)return`${n}${a}: null`;if(typeof i=="object"&&i!==null){const l=tc(i,t+1);return Array.isArray(i)?i.length===0?`${n}${a}: []`:`${n}${a}:${l}`:Object.keys(i).length===0?`${n}${a}: {}`:`${n}${a}:
${l}`}return`${n}${a}: ${tc(i,t)}`}).join(`
`)}return String(e)}function DX(e){return e.split(`
`).map((n,r)=>{const o=n.match(/^(\s*)([a-zA-Z0-9_-]+)(:)(.*)$/);if(o){const[,l,c,u,f]=o,d=f.trim();let m=f;return d.startsWith('"')||d.startsWith("'")||d==="|"?m=s.jsx("span",{className:"text-green-500 dark:text-green-400",children:f}):d==="true"||d==="false"||d==="null"?m=s.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:f}):/^\s*-?\d+(\.\d+)?$/.test(d)?m=s.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:f}):f&&(m=s.jsx("span",{className:"text-foreground",children:f})),s.jsxs("div",{children:[l,s.jsx("span",{className:"text-purple-500 dark:text-purple-400",children:c}),s.jsx("span",{className:"text-muted-foreground",children:u}),m]},r)}const a=n.match(/^(\s*)(-)(\s+)([a-zA-Z0-9_-]+)(:)(.*)$/);if(a){const[,l,c,u,f,d,m]=a,h=m.trim();let y=m;return h.startsWith('"')||h.startsWith("'")?y=s.jsx("span",{className:"text-green-500 dark:text-green-400",children:m}):h==="true"||h==="false"||h==="null"?y=s.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:m}):/^\s*-?\d+(\.\d+)?$/.test(h)?y=s.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:m}):m&&(y=s.jsx("span",{className:"text-foreground",children:m})),s.jsxs("div",{children:[l,s.jsx("span",{className:"text-muted-foreground",children:c}),u,s.jsx("span",{className:"text-purple-500 dark:text-purple-400",children:f}),s.jsx("span",{className:"text-muted-foreground",children:d}),y]},r)}const i=n.match(/^(\s*)(-)(.*)$/);if(i){const[,l,c,u]=i;return s.jsxs("div",{children:[l,s.jsx("span",{className:"text-muted-foreground",children:c}),s.jsx("span",{className:"text-foreground",children:u})]},r)}return n.match(/^\s{2,}\S/)?s.jsx("div",{className:"text-green-500 dark:text-green-400",children:n},r):s.jsx("div",{children:n},r)})}function Lu({resource:e,title:t="YAML",maxHeight:n="500px"}){const[r,o]=x.useState(!1),{yaml:a,highlightedYaml:i}=x.useMemo(()=>{const c=iy(e),u=tc(c);return{yaml:u,highlightedYaml:DX(u)}},[e]),l=async()=>{await navigator.clipboard.writeText(a),o(!0),setTimeout(()=>o(!1),2e3)};return s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Wo,{className:"h-4 w-4 text-muted-foreground"}),t]}),s.jsx(G,{variant:"ghost",size:"sm",onClick:l,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})}),s.jsx(je,{className:"p-0",children:s.jsx(Je,{className:"rounded-lg border bg-muted/30",style:{height:n,maxHeight:n},children:s.jsx("pre",{className:"p-4 text-xs font-mono whitespace-pre overflow-x-auto",children:i})})})]})}const aN="kaos-system-namespace",LX="kaos-system";function OX(){var ae,oe;const{connected:e,baseUrl:t}=Et(),[n,r]=x.useState(()=>localStorage.getItem(aN)||LX),[o,a]=x.useState(!1),[i,l]=x.useState(n),[c,u]=x.useState([]),[f,d]=x.useState([]),[m,h]=x.useState(null),[y,g]=x.useState(null),[b,p]=x.useState([]),[v,w]=x.useState(!1),[C,N]=x.useState(null),[j,S]=x.useState("overview"),[P,M]=x.useState(null),[E,k]=x.useState(""),[T,D]=x.useState(!1),[R,$]=x.useState(null),[L,F]=x.useState(""),[_,I]=x.useState(200),[A,B]=x.useState(!1),U=x.useRef(null),O=x.useCallback(Y=>{const he=[];if(Y.data)for(const[fe,Se]of Object.entries(Y.data))try{const Me=JSON.parse(Se);he.push({name:fe,...Me})}catch{he.push({name:fe,rawConfig:Se})}return he},[]),q=x.useCallback(async()=>{if(!(!e||!t)){w(!0),N(null);try{const Y=await fetch(`${t}/api/v1/namespaces/${n}/pods`,{headers:{"bypass-tunnel-reminder":"1","X-Requested-With":"XMLHttpRequest"}});if(!Y.ok){if(Y.status===404){N(`Namespace "${n}" not found`),u([]);return}throw new Error(`Failed to fetch pods: ${Y.statusText}`)}const fe=((await Y.json()).items||[]).filter(Me=>{var qe,Ue,V,K;return Me.metadata.name.includes("kaos")||((Ue=(qe=Me.metadata.labels)==null?void 0:qe["app.kubernetes.io/name"])==null?void 0:Ue.includes("kaos"))||((K=(V=Me.metadata.labels)==null?void 0:V.app)==null?void 0:K.includes("kaos"))});u(fe),fe.length>0&&!P&&M(fe[0]);const Se=await fetch(`${t}/apis/apps/v1/namespaces/${n}/deployments`,{headers:{"bypass-tunnel-reminder":"1","X-Requested-With":"XMLHttpRequest"}});if(Se.ok){const qe=((await Se.json()).items||[]).filter(Ue=>Ue.metadata.name.includes("kaos"));d(qe)}try{const Me=await fetch(`${t}/api/v1/namespaces/${n}/configmaps/kaos-operator-config`,{headers:{"bypass-tunnel-reminder":"1","X-Requested-With":"XMLHttpRequest"}});if(Me.ok){const qe=await Me.json();h(qe)}else h(null)}catch{h(null)}try{const Me=await fetch(`${t}/api/v1/namespaces/${n}/configmaps/kaos-mcp-runtimes`,{headers:{"bypass-tunnel-reminder":"1","X-Requested-With":"XMLHttpRequest"}});if(Me.ok){const qe=await Me.json();g(qe),p(O(qe))}else g(null),p([])}catch{g(null),p([])}}catch(Y){N(Y instanceof Error?Y.message:"Failed to fetch KAOS resources")}finally{w(!1)}}},[e,t,n,P,O]),ne=x.useCallback(async()=>{if(!(!P||!t)){D(!0),$(null);try{const Y=await ke.getPodLogs(P.metadata.name,P.metadata.namespace,{container:L||void 0,tailLines:_});k(Y),U.current&&(U.current.scrollTop=U.current.scrollHeight)}catch(Y){$(Y instanceof Error?Y.message:"Failed to fetch logs"),k("")}finally{D(!1)}}},[P,t,L,_]);x.useEffect(()=>{q()},[q]),x.useEffect(()=>{j==="logs"&&P&&ne()},[j,P,L,_,ne]),x.useEffect(()=>{if(!A||j!=="logs")return;const Y=setInterval(ne,5e3);return()=>clearInterval(Y)},[A,j,ne]),x.useEffect(()=>{P&&P.spec.containers.length>0&&F(P.spec.containers[0].name)},[P]);const se=()=>{localStorage.setItem(aN,i),r(i),a(!1),M(null)},z=()=>{const Y=new Blob([E],{type:"text/plain"}),he=URL.createObjectURL(Y),fe=document.createElement("a");fe.href=he,fe.download=`${P==null?void 0:P.metadata.name}-${L||"logs"}.txt`,fe.click(),URL.revokeObjectURL(he)},W=(Y,he)=>{const fe=/error|fatal|panic/i.test(Y),Se=/warn|warning/i.test(Y),Me=/info/i.test(Y),qe=/debug|trace/i.test(Y);let Ue="text-foreground/80";return fe?Ue="text-red-400":Se?Ue="text-yellow-400":Me?Ue="text-blue-400":qe&&(Ue="text-muted-foreground"),s.jsx("div",{className:`font-mono text-xs whitespace-pre-wrap break-all ${Ue}`,children:Y},he)},Q=((oe=(ae=P==null?void 0:P.spec)==null?void 0:ae.containers)==null?void 0:oe.map(Y=>Y.name))||[];if(!e)return s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ka,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground",children:"Please connect to a Kubernetes cluster first."})]})});const ie=!v&&(C||c.length===0);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(ka,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"KAOS System"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operator installation and configuration"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{value:i,onChange:Y=>l(Y.target.value),className:"w-40 h-8 text-sm",placeholder:"Namespace"}),s.jsx(G,{size:"sm",onClick:se,children:"Save"}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>{a(!1),l(n)},children:"Cancel"})]}):s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Namespace:"}),s.jsx("code",{className:"text-xs",children:n})]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:q,disabled:v,children:[s.jsx(Ge,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]})]}),ie?s.jsxs($o,{children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(cm,{children:"KAOS Not Found"}),s.jsxs(Fo,{className:"space-y-3",children:[s.jsxs("p",{children:["No KAOS operator installation found in namespace ",s.jsx("code",{className:"bg-muted px-1 rounded",children:n}),"."]}),s.jsx("p",{children:"Please install KAOS or configure the correct namespace using the button above."}),s.jsx(G,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:"https://axsaucedo.github.io/kaos/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(If,{className:"h-4 w-4 mr-2"}),"View Installation Docs"]})})]})]}):s.jsxs(Ba,{value:j,onValueChange:S,className:"space-y-6",children:[s.jsxs(Qo,{className:"grid w-full max-w-md grid-cols-3",children:[s.jsxs(ct,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"h-3 w-3"}),"Overview"]}),s.jsxs(ct,{value:"logs",className:"flex items-center gap-1",children:[s.jsx(Df,{className:"h-3 w-3"}),"Logs"]}),s.jsxs(ct,{value:"yaml",className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"}),"YAML"]})]}),s.jsx(xt,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-base",children:"Operator Status"}),s.jsx(Ot,{children:"KAOS controller manager health"})]}),s.jsxs(je,{className:"space-y-4",children:[f.map(Y=>{var he,fe,Se,Me;return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:Y.metadata.name}),s.jsxs(Z,{variant:((he=Y.status)==null?void 0:he.readyReplicas)===((fe=Y.status)==null?void 0:fe.replicas)?"success":"warning",children:[((Se=Y.status)==null?void 0:Se.readyReplicas)||0,"/",((Me=Y.status)==null?void 0:Me.replicas)||0," Ready"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Replicas: ",Y.spec.replicas]})]},Y.metadata.name)}),f.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No deployments found"})]})]}),s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-base",children:"Running Pods"}),s.jsxs(Ot,{children:["KAOS system pods in ",n]})]}),s.jsx(je,{className:"space-y-2",children:c.map(Y=>{var he,fe;return s.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${(P==null?void 0:P.metadata.name)===Y.metadata.name?"bg-primary/10 border border-primary/20":"bg-muted/50 hover:bg-muted"}`,onClick:()=>M(Y),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-mono text-sm",children:Y.metadata.name}),s.jsx(Z,{variant:((he=Y.status)==null?void 0:he.phase)==="Running"?"success":"warning",children:(fe=Y.status)==null?void 0:fe.phase})]})},Y.metadata.name)})})]}),s.jsxs(be,{className:"lg:col-span-2",children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Fb,{className:"h-4 w-4 text-muted-foreground"}),"Operator Configuration"]}),s.jsx(Ot,{children:"kaos-operator-config ConfigMap"})]}),s.jsx(je,{children:m&&m.data?s.jsx("div",{className:"bg-muted/30 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground w-1/3",children:"Key"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:Object.entries(m.data).map(([Y,he])=>s.jsxs("tr",{className:"border-b border-border/50 last:border-0",children:[s.jsx("td",{className:"p-2 font-mono font-medium",children:Y}),s.jsx("td",{className:"p-2 font-mono text-muted-foreground break-all",children:s.jsx("span",{className:"text-foreground",children:he.length>100?he.substring(0,100)+"...":he})})]},Y))})]})}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"ConfigMap kaos-operator-config not found"})})]}),s.jsxs(be,{className:"lg:col-span-2",children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Fb,{className:"h-4 w-4 text-muted-foreground"}),"MCP Runtimes"]}),s.jsx(Ot,{children:"kaos-mcp-runtimes ConfigMap - Available runtime configurations"})]}),s.jsx(je,{children:y&&y.data&&Object.keys(y.data).length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(y.data).map(([Y,he])=>{let fe={};try{fe=JSON.parse(he)}catch{}return s.jsxs(be,{className:"bg-muted/30 border-muted",children:[s.jsx(Ne,{className:"pb-2",children:s.jsx(Ce,{className:"text-sm font-mono",children:Y})}),s.jsxs(je,{className:"text-xs space-y-2",children:[fe.image&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Image: "}),s.jsx("span",{className:"font-mono text-foreground break-all",children:String(fe.image)})]}),fe.command&&Array.isArray(fe.command)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Command: "}),s.jsx("span",{className:"font-mono text-foreground",children:fe.command.join(" ")})]}),fe.args&&Array.isArray(fe.args)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Args: "}),s.jsx("span",{className:"font-mono text-foreground",children:fe.args.join(" ")})]}),fe.ports&&Array.isArray(fe.ports)&&fe.ports.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Ports: "}),s.jsx("span",{className:"font-mono text-foreground",children:fe.ports.map(Se=>Se.containerPort).join(", ")})]}),!fe.image&&!fe.command&&s.jsx(Je,{className:"h-24",children:s.jsx("pre",{className:"font-mono text-foreground whitespace-pre-wrap break-all",children:he.length>200?he.substring(0,200)+"...":he})})]})]},Y)})}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"ConfigMap kaos-mcp-runtimes not found or empty"})})]}),P&&s.jsxs(be,{className:"lg:col-span-2",children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-base",children:"Environment Variables"}),s.jsxs(Ot,{children:["Configuration for ",P.metadata.name]})]}),s.jsx(je,{children:s.jsx(Je,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-4",children:P.spec.containers.map(Y=>{const he=Y.env||[];return s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:Y.name}),he.length>0?s.jsx("div",{className:"bg-muted/30 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground w-1/3",children:"Name"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value / Source"})]})}),s.jsx("tbody",{children:he.map((fe,Se)=>{var Me;return s.jsxs("tr",{className:"border-b border-border/50 last:border-0",children:[s.jsx("td",{className:"p-2 font-mono font-medium",children:fe.name}),s.jsx("td",{className:"p-2 font-mono text-muted-foreground break-all",children:fe.value?s.jsx("span",{className:"text-foreground",children:fe.value.length>80?fe.value.substring(0,80)+"...":fe.value}):(Me=fe.valueFrom)!=null&&Me.secretKeyRef?s.jsxs(Z,{variant:"outline",className:"text-xs",children:["Secret: ",fe.valueFrom.secretKeyRef.name,"/",fe.valueFrom.secretKeyRef.key]}):s.jsx("span",{className:"italic",children:"-"})})]},Se)})})]})}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No environment variables"})]},Y.name)})})})})]})]})}),s.jsxs(xt,{value:"logs",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(xn,{value:(P==null?void 0:P.metadata.name)||"",onValueChange:Y=>{const he=c.find(fe=>fe.metadata.name===Y);he&&M(he)},children:[s.jsx(sn,{className:"w-[240px]",children:s.jsx(yn,{placeholder:"Select pod"})}),s.jsx(on,{children:c.map(Y=>s.jsx(ze,{value:Y.metadata.name,children:Y.metadata.name},Y.metadata.name))})]}),Q.length>1&&s.jsxs(xn,{value:L,onValueChange:F,children:[s.jsx(sn,{className:"w-[180px]",children:s.jsx(yn,{placeholder:"Select container"})}),s.jsx(on,{children:Q.map(Y=>s.jsx(ze,{value:Y,children:Y},Y))})]}),s.jsxs(xn,{value:String(_),onValueChange:Y=>I(Number(Y)),children:[s.jsx(sn,{className:"w-[120px]",children:s.jsx(yn,{})}),s.jsxs(on,{children:[s.jsx(ze,{value:"50",children:"Last 50"}),s.jsx(ze,{value:"100",children:"Last 100"}),s.jsx(ze,{value:"200",children:"Last 200"}),s.jsx(ze,{value:"500",children:"Last 500"}),s.jsx(ze,{value:"1000",children:"Last 1000"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:A?"default":"outline",size:"sm",onClick:()=>B(!A),children:[s.jsx(Ge,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Auto"]}),s.jsx(G,{variant:"outline",size:"sm",onClick:ne,disabled:T,children:s.jsx(Ge,{className:`h-4 w-4 ${T?"animate-spin":""}`})}),s.jsx(G,{variant:"outline",size:"sm",onClick:z,disabled:!E,children:s.jsx(Nv,{className:"h-4 w-4"})})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"py-3 border-b border-border",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center justify-between",children:[s.jsx("span",{children:"Log Output"}),E&&s.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:[E.split(`
`).length," lines"]})]})}),s.jsx(je,{className:"p-0",children:R?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(st,{className:"h-10 w-10 text-destructive mb-3"}),s.jsx("p",{className:"text-sm text-destructive font-medium",children:"Failed to load logs"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-md",children:R}),s.jsx(G,{variant:"outline",size:"sm",className:"mt-4",onClick:ne,children:"Retry"})]}):T&&!E?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):E?s.jsx(Je,{className:"h-[500px]",ref:U,children:s.jsx("div",{className:"p-4 bg-background",children:E.split(`
`).map((Y,he)=>W(Y,he))})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Df,{className:"h-10 w-10 text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No logs available"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select a pod to view its logs"})]})})]})]}),s.jsxs(xt,{value:"yaml",className:"space-y-4",children:[P&&s.jsx(Lu,{resource:P,title:`${P.metadata.name} YAML`}),!P&&s.jsx("p",{className:"text-muted-foreground",children:"Select a pod to view its YAML"})]})]})]})}const iN="kaos-monitoring-namespace",$X="monitoring",Z_=8011,lN=`http://localhost:${Z_}`;function FX(){var N,j,S,P;const{connected:e,baseUrl:t}=Et(),[n,r]=x.useState(()=>localStorage.getItem(iN)||$X),[o,a]=x.useState(!1),[i,l]=x.useState(n),[c,u]=x.useState(null),[f,d]=x.useState(null),[m,h]=x.useState(!1),[y,g]=x.useState(null),[b,p]=x.useState(!1),v=x.useCallback(async()=>{var M,E,k,T,D;if(!(!e||!t)){h(!0),g(null),p(!1);try{const R=await fetch(`${t}/api/v1/namespaces/${n}/services`,{headers:{"bypass-tunnel-reminder":"1","X-Requested-With":"XMLHttpRequest"}});if(!R.ok){if(R.status===404){g(`Namespace "${n}" not found`);return}throw new Error(`Failed to fetch services: ${R.statusText}`)}const L=(await R.json()).items||[],F=L.find(_=>_.metadata.name==="signoz")||L.find(_=>_.metadata.name==="signoz-frontend"||_.metadata.name==="signoz-ui")||L.find(_=>_.metadata.name.startsWith("signoz")&&!_.metadata.name.includes("clickhouse")&&!_.metadata.name.includes("zookeeper")&&!_.metadata.name.includes("otel")&&!_.metadata.name.includes("alertmanager"));if(u(F||null),F)if(F.spec.type==="LoadBalancer"&&((k=(E=(M=F.status)==null?void 0:M.loadBalancer)==null?void 0:E.ingress)!=null&&k[0])){const _=F.status.loadBalancer.ingress[0],I=_.ip||_.hostname,A=((D=(T=F.spec.ports)==null?void 0:T[0])==null?void 0:D.port)||8080;d(`http://${I}:${A}`)}else d(lN)}catch(R){g(R instanceof Error?R.message:"Failed to fetch monitoring services")}finally{h(!1)}}},[e,t,n]);x.useEffect(()=>{v()},[v]);const w=()=>{localStorage.setItem(iN,i),r(i),a(!1)};if(!e)return s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground",children:"Please connect to a Kubernetes cluster first."})]})});const C=!m&&(y||!c);return s.jsxs("div",{className:"p-6 space-y-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-chart-1/10 flex items-center justify-center",children:s.jsx(Tr,{className:"h-6 w-6 text-chart-1"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"KAOS Monitoring"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SignOz observability dashboard"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{value:i,onChange:M=>l(M.target.value),className:"w-40 h-8 text-sm",placeholder:"Namespace"}),s.jsx(G,{size:"sm",onClick:w,children:"Save"}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>{a(!1),l(n)},children:"Cancel"})]}):s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Namespace:"}),s.jsx("code",{className:"text-xs",children:n})]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:v,disabled:m,children:[s.jsx(Ge,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]})]})]}),C?s.jsxs($o,{children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(cm,{children:"SignOz Not Found"}),s.jsxs(Fo,{className:"space-y-3",children:[s.jsxs("p",{children:["No SignOz installation found in namespace ",s.jsx("code",{className:"bg-muted px-1 rounded",children:n}),"."]}),s.jsx("p",{children:"Please install SignOz for observability or configure the correct namespace using the button above."}),s.jsx(G,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:"https://axsaucedo.github.io/kaos/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(If,{className:"h-4 w-4 mr-2"}),"View KAOS Installation Docs"]})})]})]}):f?s.jsx("div",{className:"flex-1 min-h-0 rounded-lg border border-border overflow-hidden",children:b?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 bg-muted/20",children:[s.jsx(st,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Unable to Load SignOz"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 text-center max-w-md",children:"The SignOz dashboard could not be embedded. This may be due to security restrictions."}),s.jsx(G,{asChild:!0,children:s.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(If,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]})})]}):s.jsx("iframe",{src:f,className:"w-full h-full border-0",title:"SignOz Dashboard",onError:()=>p(!0)})}):s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4"}),"SignOz Service Found"]}),s.jsx(Ot,{children:"Service detected but not directly accessible from browser"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Service Name"}),s.jsx("code",{className:"text-sm",children:c==null?void 0:c.metadata.name})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx("code",{className:"text-sm",children:c==null?void 0:c.spec.type})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Port"}),s.jsx("code",{className:"text-sm",children:(j=(N=c==null?void 0:c.spec.ports)==null?void 0:N[0])==null?void 0:j.port})]}),(c==null?void 0:c.spec.clusterIP)&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Cluster IP"}),s.jsx("code",{className:"text-sm",children:c.spec.clusterIP})]})]}),s.jsxs($o,{children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(cm,{children:"Port Forward Required"}),s.jsxs(Fo,{className:"space-y-2",children:[s.jsx("p",{children:"To access SignOz, run:"}),s.jsxs("code",{className:"block bg-muted p-2 rounded text-xs",children:["kubectl port-forward svc/",c==null?void 0:c.metadata.name," -n ",n," ",Z_,":",(P=(S=c==null?void 0:c.spec.ports)==null?void 0:S[0])==null?void 0:P.port]}),s.jsxs("p",{className:"text-xs",children:["Then refresh this page. SignOz will be available at: ",s.jsx("code",{children:lN})]})]})]})]})]})]})}function zX(){const{activeTab:e,selectedResource:t,selectedResourceMode:n,setSelectedResource:r,setSelectedResourceMode:o}=ot(),a=()=>{r(null),o(null)},i=()=>{o("edit")},l=()=>{switch(e){case"overview":return s.jsx(T1,{});case"visual-map":return null;case"model-apis":return s.jsx(fX,{});case"mcp-servers":return s.jsx(hX,{});case"agents":return s.jsx(gX,{});case"pods":return s.jsx(jX,{});case"secrets":return s.jsx(NX,{});case"kaos-system":return s.jsx(OX,{});case"kaos-monitoring":return null;case"settings":return s.jsx(MX,{});default:return s.jsx(T1,{})}},c=(t==null?void 0:t.kind)==="Agent",u=(t==null?void 0:t.kind)==="ModelAPI",f=(t==null?void 0:t.kind)==="MCPServer";return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-tab-switch",children:l()},e),s.jsx("div",{className:e==="visual-map"?"h-full w-full":"hidden",children:s.jsx(QG,{})}),s.jsx("div",{className:e==="kaos-monitoring"?"h-full w-full":"hidden",children:s.jsx(FX,{})}),u&&n==="view"&&s.jsx(wX,{modelAPI:t,open:!0,onClose:a,onEdit:i}),u&&n==="edit"&&s.jsx(V0,{modelAPI:t,open:!0,onClose:a}),f&&n==="view"&&s.jsx(bX,{mcpServer:t,open:!0,onClose:a,onEdit:i}),f&&n==="edit"&&s.jsx(z0,{mcpServer:t,open:!0,onClose:a}),c&&n==="view"&&s.jsx(vX,{agent:t,open:!0,onClose:a,onEdit:i}),c&&n==="edit"&&s.jsx(F0,{agent:t,open:!0,onClose:a})]})}const VX=()=>s.jsx(zX,{}),BX=()=>{const e=pl(),t=Vt();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center space-y-6 p-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-6xl font-bold text-primary",children:"404"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-md mx-auto",children:"The page you're looking for doesn't exist or may have been moved."})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsxs(G,{variant:"outline",onClick:()=>t(-1),children:[s.jsx(du,{className:"h-4 w-4 mr-2"}),"Go Back"]}),s.jsxs(G,{onClick:()=>t("/"),children:[s.jsx(jO,{className:"h-4 w-4 mr-2"}),"Return Home"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Attempted path: ",s.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:e.pathname})]})]})})};function UX(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const HX=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WX=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KX={};function cN(e,t){return(KX.jsx?WX:HX).test(e)}const qX=/[ \t\n\f\r]/g;function YX(e){return typeof e=="object"?e.type==="text"?uN(e.value):!1:uN(e)}function uN(e){return e.replace(qX,"")===""}class Ou{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ou.prototype.normal={};Ou.prototype.property={};Ou.prototype.space=void 0;function e4(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Ou(n,r,t)}function ly(e){return e.toLowerCase()}class In{constructor(t,n){this.attribute=n,this.property=t}}In.prototype.attribute="";In.prototype.booleanish=!1;In.prototype.boolean=!1;In.prototype.commaOrSpaceSeparated=!1;In.prototype.commaSeparated=!1;In.prototype.defined=!1;In.prototype.mustUseProperty=!1;In.prototype.number=!1;In.prototype.overloadedBoolean=!1;In.prototype.property="";In.prototype.spaceSeparated=!1;In.prototype.space=void 0;let GX=0;const Fe=Ua(),At=Ua(),cy=Ua(),de=Ua(),nt=Ua(),Ri=Ua(),$n=Ua();function Ua(){return 2**++GX}const uy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:At,commaOrSpaceSeparated:$n,commaSeparated:Ri,number:de,overloadedBoolean:cy,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),ug=Object.keys(uy);class q0 extends In{constructor(t,n,r,o){let a=-1;if(super(t,n),dN(this,"space",o),typeof r=="number")for(;++a<ug.length;){const i=ug[a];dN(this,ug[a],(r&uy[i])===uy[i])}}}q0.prototype.defined=!0;function dN(e,t,n){n&&(e[t]=n)}function El(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const a=new q0(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ly(r)]=r,n[ly(a.attribute)]=r}return new Ou(t,n,e.space)}const t4=El({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:At,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:nt,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:de,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:nt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:At,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function n4(e,t){return t in e?e[t]:t}function r4(e,t){return n4(e,t.toLowerCase())}const XX=El({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ri,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:nt,autoFocus:Fe,autoPlay:Fe,blocking:nt,capture:null,charSet:null,checked:Fe,cite:null,className:nt,cols:de,colSpan:null,content:null,contentEditable:At,controls:Fe,controlsList:nt,coords:de|Ri,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:cy,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:nt,height:de,hidden:cy,high:de,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:nt,itemRef:nt,itemScope:Fe,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:de,pattern:null,ping:nt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:nt,required:Fe,reversed:Fe,rows:de,rowSpan:de,sandbox:nt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:At,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:r4}),QX=El({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$n,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ri,g2:Ri,glyphName:Ri,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:$n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$n,rev:$n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$n,requiredFeatures:$n,requiredFonts:$n,requiredFormats:$n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:$n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$n,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:n4}),s4=El({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),o4=El({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:r4}),a4=El({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),JX={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZX=/[A-Z]/g,fN=/-[a-z]/g,eQ=/^data[-\w.:]+$/i;function tQ(e,t){const n=ly(t);let r=t,o=In;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eQ.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(fN,rQ);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!fN.test(a)){let i=a.replace(ZX,nQ);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}o=q0}return new o(r,t)}function nQ(e){return"-"+e.toLowerCase()}function rQ(e){return e.charAt(1).toUpperCase()}const sQ=e4([t4,XX,s4,o4,a4],"html"),Y0=e4([t4,QX,s4,o4,a4],"svg");function oQ(e){return e.join(" ").trim()}var G0={},mN=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,aQ=/\n/g,iQ=/^\s*/,lQ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cQ=/^:\s*/,uQ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,dQ=/^[;\s]*/,fQ=/^\s+|\s+$/g,mQ=`
`,hN="/",pN="*",ra="",hQ="comment",pQ="declaration";function gQ(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function o(y){var g=y.match(aQ);g&&(n+=g.length);var b=y.lastIndexOf(mQ);r=~b?y.length-b:r+y.length}function a(){var y={line:n,column:r};return function(g){return g.position=new i(y),u(),g}}function i(y){this.start=y,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function l(y){var g=new Error(t.source+":"+n+":"+r+": "+y);if(g.reason=y,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(y){var g=y.exec(e);if(g){var b=g[0];return o(b),e=e.slice(b.length),g}}function u(){c(iQ)}function f(y){var g;for(y=y||[];g=d();)g!==!1&&y.push(g);return y}function d(){var y=a();if(!(hN!=e.charAt(0)||pN!=e.charAt(1))){for(var g=2;ra!=e.charAt(g)&&(pN!=e.charAt(g)||hN!=e.charAt(g+1));)++g;if(g+=2,ra===e.charAt(g-1))return l("End of comment missing");var b=e.slice(2,g-2);return r+=2,o(b),e=e.slice(g),r+=2,y({type:hQ,comment:b})}}function m(){var y=a(),g=c(lQ);if(g){if(d(),!c(cQ))return l("property missing ':'");var b=c(uQ),p=y({type:pQ,property:gN(g[0].replace(mN,ra)),value:b?gN(b[0].replace(mN,ra)):ra});return c(dQ),p}}function h(){var y=[];f(y);for(var g;g=m();)g!==!1&&(y.push(g),f(y));return y}return u(),h()}function gN(e){return e?e.replace(fQ,ra):ra}var xQ=gQ,yQ=lf&&lf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G0,"__esModule",{value:!0});G0.default=wQ;const vQ=yQ(xQ);function wQ(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,vQ.default)(e),o=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:i,value:l}=a;o?t(i,l,a):l&&(n=n||{},n[i]=l)}),n}var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.camelCase=void 0;var bQ=/^--[a-zA-Z0-9_-]+$/,jQ=/-([a-z])/g,NQ=/^[^-]+$/,CQ=/^-(webkit|moz|ms|o|khtml)-/,SQ=/^-(ms)-/,kQ=function(e){return!e||NQ.test(e)||bQ.test(e)},EQ=function(e,t){return t.toUpperCase()},xN=function(e,t){return"".concat(t,"-")},PQ=function(e,t){return t===void 0&&(t={}),kQ(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(SQ,xN):e=e.replace(CQ,xN),e.replace(jQ,EQ))};Fh.camelCase=PQ;var MQ=lf&&lf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},RQ=MQ(G0),TQ=Fh;function dy(e,t){var n={};return!e||typeof e!="string"||(0,RQ.default)(e,function(r,o){r&&o&&(n[(0,TQ.camelCase)(r,t)]=o)}),n}dy.default=dy;var AQ=dy;const _Q=su(AQ),i4=l4("end"),X0=l4("start");function l4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function IQ(e){const t=X0(e),n=i4(e);if(t&&n)return{start:t,end:n}}function pc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?yN(e.position):"start"in e||"end"in e?yN(e):"line"in e||"column"in e?fy(e):""}function fy(e){return vN(e&&e.line)+":"+vN(e&&e.column)}function yN(e){return fy(e&&e.start)+"-"+fy(e&&e.end)}function vN(e){return e&&typeof e=="number"?e:1}class cn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",a={},i=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?o=t:!a.cause&&t&&(i=!0,o=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=pc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=i&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cn.prototype.file="";cn.prototype.name="";cn.prototype.reason="";cn.prototype.message="";cn.prototype.stack="";cn.prototype.column=void 0;cn.prototype.line=void 0;cn.prototype.ancestors=void 0;cn.prototype.cause=void 0;cn.prototype.fatal=void 0;cn.prototype.place=void 0;cn.prototype.ruleId=void 0;cn.prototype.source=void 0;const Q0={}.hasOwnProperty,DQ=new Map,LQ=/[A-Z]/g,OQ=new Set(["table","tbody","thead","tfoot","tr"]),$Q=new Set(["td","th"]),c4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qQ(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=KQ(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Y0:sQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=u4(o,e,void 0);return a&&typeof a!="string"?a:o.create(e,o.Fragment,{children:a||void 0},void 0)}function u4(e,t,n){if(t.type==="element")return zQ(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return VQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return UQ(e,t,n);if(t.type==="mdxjsEsm")return BQ(e,t);if(t.type==="root")return HQ(e,t,n);if(t.type==="text")return WQ(e,t)}function zQ(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Y0,e.schema=o),e.ancestors.push(t);const a=f4(e,t.tagName,!1),i=YQ(e,t);let l=Z0(e,t);return OQ.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!YX(c):!0})),d4(e,i,a,t),J0(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}function VQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}eu(e,t.position)}function BQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eu(e,t.position)}function UQ(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Y0,e.schema=o),e.ancestors.push(t);const a=t.name===null?e.Fragment:f4(e,t.name,!0),i=GQ(e,t),l=Z0(e,t);return d4(e,i,a,t),J0(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}function HQ(e,t,n){const r={};return J0(r,Z0(e,t)),e.create(t,e.Fragment,r,n)}function WQ(e,t){return t.value}function d4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function J0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function KQ(e,t,n){return r;function r(o,a,i,l){const u=Array.isArray(i.children)?n:t;return l?u(a,i,l):u(a,i)}}function qQ(e,t){return n;function n(r,o,a,i){const l=Array.isArray(a.children),c=X0(r);return t(o,a,i,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function YQ(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Q0.call(t.properties,o)){const a=XQ(e,o,t.properties[o]);if(a){const[i,l]=a;e.tableCellAlignToStyle&&i==="align"&&typeof l=="string"&&$Q.has(t.tagName)?r=l:n[i]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function GQ(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const l=i.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else eu(e,t.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else eu(e,t.position);else a=r.value===null?!0:r.value;n[o]=a}return n}function Z0(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:DQ;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=o.get(c)||0;i=c+"-"+u,o.set(c,u+1)}}const l=u4(e,a,i);l!==void 0&&n.push(l)}return n}function XQ(e,t,n){const r=tQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UX(n):oQ(n)),r.property==="style"){let o=typeof n=="object"?n:QQ(e,String(n));return e.stylePropertyNameCase==="css"&&(o=JQ(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?JX[r.property]||r.property:r.attribute,n]}}function QQ(e,t){try{return _Q(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new cn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=c4+"#cannot-parse-style-attribute",o}}function f4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let a=-1,i;for(;++a<o.length;){const l=cN(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};i=i?{type:"MemberExpression",object:i,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=i}else r=cN(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Q0.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);eu(e)}function eu(e,t){const n=new cn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=c4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function JQ(e){const t={};let n;for(n in e)Q0.call(e,n)&&(t[ZQ(n)]=e[n]);return t}function ZQ(e){let t=e.replace(LQ,eJ);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function eJ(e){return"-"+e.toLowerCase()}const dg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},tJ={};function ew(e,t){const n=tJ,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return m4(e,r,o)}function m4(e,t,n){if(nJ(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wN(e.children,t,n)}return Array.isArray(e)?wN(e,t,n):""}function wN(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=m4(e[o],t,n);return r.join("")}function nJ(e){return!!(e&&typeof e=="object")}const bN=document.createElement("i");function tw(e){const t="&"+e+";";bN.innerHTML=t;const n=bN.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qn(e,t,n,r){const o=e.length;let a=0,i;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function rr(e,t){return e.length>0?(qn(e,e.length,0,t),e):t}const jN={}.hasOwnProperty;function h4(e){const t={};let n=-1;for(;++n<e.length;)rJ(t,e[n]);return t}function rJ(e,t){let n;for(n in t){const o=(jN.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){jN.call(o,i)||(o[i]=[]);const l=a[i];sJ(o[i],Array.isArray(l)?l:l?[l]:[])}}}function sJ(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qn(e,0,0,r)}function p4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ar(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pn=Jo(/[A-Za-z]/),rn=Jo(/[\dA-Za-z]/),oJ=Jo(/[#-'*+\--9=?A-Z^-~]/);function um(e){return e!==null&&(e<32||e===127)}const my=Jo(/\d/),aJ=Jo(/[\dA-Fa-f]/),iJ=Jo(/[!-/:-@[-`{-~]/);function Ae(e){return e!==null&&e<-2}function Ze(e){return e!==null&&(e<0||e===32)}function Ve(e){return e===-2||e===-1||e===32}const zh=Jo(new RegExp("\\p{P}|\\p{S}","u")),Da=Jo(/\s/);function Jo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(a===37&&rn(e.charCodeAt(n+1))&&rn(e.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(i=String.fromCharCode(a,l),o=1):i=""}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+o+1,i=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function We(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return i;function i(c){return Ve(c)?(e.enter(n),l(c)):t(c)}function l(c){return Ve(c)&&a++<o?(e.consume(c),l):(e.exit(n),t(c))}}const lJ={tokenize:cJ};function cJ(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),We(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,i(l)}function i(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ae(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),i)}}const uJ={tokenize:dJ},NN={tokenize:fJ};function dJ(e){const t=this,n=[];let r=0,o,a,i;return l;function l(w){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&v();const C=t.events.length;let N=C,j;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){j=t.events[N][1].end;break}p(r);let S=C;for(;S<t.events.length;)t.events[S][1].end={...j},S++;return qn(t.events,N+1,0,t.events.slice(C)),t.events.length=S,u(w)}return l(w)}function u(w){if(r===n.length){if(!o)return m(w);if(o.currentConstruct&&o.currentConstruct.concrete)return y(w);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(NN,f,d)(w)}function f(w){return o&&v(),p(r),m(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,y(w)}function m(w){return t.containerState={},e.attempt(NN,h,y)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),m(w)}function y(w){if(w===null){o&&v(),p(0),e.consume(w);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){b(e.exit("chunkFlow"),!0),p(0),e.consume(w);return}return Ae(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),g)}function b(w,C){const N=t.sliceStream(w);if(C&&N.push(null),w.previous=a,a&&(a.next=w),a=w,o.defineSkip(w.start),o.write(N),t.parser.lazy[w.start.line]){let j=o.events.length;for(;j--;)if(o.events[j][1].start.offset<i&&(!o.events[j][1].end||o.events[j][1].end.offset>i))return;const S=t.events.length;let P=S,M,E;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(M){E=t.events[P][1].end;break}M=!0}for(p(r),j=S;j<t.events.length;)t.events[j][1].end={...E},j++;qn(t.events,P+1,0,t.events.slice(S)),t.events.length=j}}function p(w){let C=n.length;for(;C-- >w;){const N=n[C];t.containerState=N[1],N[0].exit.call(t,e)}n.length=w}function v(){o.write([null]),a=void 0,o=void 0,t.containerState._closeFlow=void 0}}function fJ(e,t,n){return We(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sl(e){if(e===null||Ze(e)||Da(e))return 1;if(zh(e))return 2}function Vh(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const hy={name:"attention",resolveAll:mJ,tokenize:hJ};function mJ(e,t){let n=-1,r,o,a,i,l,c,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},m={...e[n][1].start};CN(d,-c),CN(m,c),i={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:c>1?"strong":"emphasis",start:{...i.start},end:{...l.end}},e[r][1].end={...i.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=rr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=rr(u,[["enter",o,t],["enter",i,t],["exit",i,t],["enter",a,t]]),u=rr(u,Vh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=rr(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=rr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,qn(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function hJ(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=sl(r);let a;return i;function i(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),f=sl(c),d=!f||f===2&&o||n.includes(c),m=!o||o===2&&f||n.includes(r);return u._open=!!(a===42?d:d&&(o||!m)),u._close=!!(a===42?m:m&&(f||!d)),t(c)}}function CN(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const pJ={name:"autolink",tokenize:gJ};function gJ(e,t,n){let r=0;return o;function o(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return pn(h)?(e.consume(h),i):h===64?n(h):u(h)}function i(h){return h===43||h===45||h===46||rn(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),r=0,c):(h===43||h===45||h===46||rn(h))&&r++<32?(e.consume(h),l):(r=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||um(h)?n(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),f):oJ(h)?(e.consume(h),u):n(h)}function f(h){return rn(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,f):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||rn(h))&&r++<63){const y=h===45?m:d;return e.consume(h),y}return n(h)}}const $u={partial:!0,tokenize:xJ};function xJ(e,t,n){return r;function r(a){return Ve(a)?We(e,o,"linePrefix")(a):o(a)}function o(a){return a===null||Ae(a)?t(a):n(a)}}const g4={continuation:{tokenize:vJ},exit:wJ,name:"blockQuote",tokenize:yJ};function yJ(e,t,n){const r=this;return o;function o(i){if(i===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),a}return n(i)}function a(i){return Ve(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function vJ(e,t,n){const r=this;return o;function o(i){return Ve(i)?We(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):a(i)}function a(i){return e.attempt(g4,t,n)(i)}}function wJ(e){e.exit("blockQuote")}const x4={name:"characterEscape",tokenize:bJ};function bJ(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),o}function o(a){return iJ(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const y4={name:"characterReference",tokenize:jJ};function jJ(e,t,n){const r=this;let o=0,a,i;return l;function l(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,i=rn,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,i=aJ,f):(e.enter("characterReferenceValue"),a=7,i=my,f(d))}function f(d){if(d===59&&o){const m=e.exit("characterReferenceValue");return i===rn&&!tw(r.sliceSerialize(m))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(d)&&o++<a?(e.consume(d),f):n(d)}}const SN={partial:!0,tokenize:CJ},kN={concrete:!0,name:"codeFenced",tokenize:NJ};function NJ(e,t,n){const r=this,o={partial:!0,tokenize:N};let a=0,i=0,l;return c;function c(j){return u(j)}function u(j){const S=r.events[r.events.length-1];return a=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,l=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===l?(i++,e.consume(j),f):i<3?n(j):(e.exit("codeFencedFenceSequence"),Ve(j)?We(e,d,"whitespace")(j):d(j))}function d(j){return j===null||Ae(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(SN,g,C)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(j))}function m(j){return j===null||Ae(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(j)):Ve(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),We(e,h,"whitespace")(j)):j===96&&j===l?n(j):(e.consume(j),m)}function h(j){return j===null||Ae(j)?d(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||Ae(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(j)):j===96&&j===l?n(j):(e.consume(j),y)}function g(j){return e.attempt(o,C,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),p}function p(j){return a>0&&Ve(j)?We(e,v,"linePrefix",a+1)(j):v(j)}function v(j){return j===null||Ae(j)?e.check(SN,g,C)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||Ae(j)?(e.exit("codeFlowValue"),v(j)):(e.consume(j),w)}function C(j){return e.exit("codeFenced"),t(j)}function N(j,S,P){let M=0;return E;function E($){return j.enter("lineEnding"),j.consume($),j.exit("lineEnding"),k}function k($){return j.enter("codeFencedFence"),Ve($)?We(j,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):T($)}function T($){return $===l?(j.enter("codeFencedFenceSequence"),D($)):P($)}function D($){return $===l?(M++,j.consume($),D):M>=i?(j.exit("codeFencedFenceSequence"),Ve($)?We(j,R,"whitespace")($):R($)):P($)}function R($){return $===null||Ae($)?(j.exit("codeFencedFence"),S($)):P($)}}}function CJ(e,t,n){const r=this;return o;function o(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a)}function a(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const fg={name:"codeIndented",tokenize:kJ},SJ={partial:!0,tokenize:EJ};function kJ(e,t,n){const r=this;return o;function o(u){return e.enter("codeIndented"),We(e,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?c(u):Ae(u)?e.attempt(SJ,i,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Ae(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function EJ(e,t,n){const r=this;return o;function o(i){return r.parser.lazy[r.now().line]?n(i):Ae(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):We(e,a,"linePrefix",5)(i)}function a(i){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):Ae(i)?o(i):n(i)}}const PJ={name:"codeText",previous:RJ,resolve:MJ,tokenize:TJ};function MJ(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function RJ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TJ(e,t,n){let r=0,o,a;return i;function i(d){return e.enter("codeText"),e.enter("codeTextSequence"),l(d)}function l(d){return d===96?(e.consume(d),r++,l):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(a=e.enter("codeTextSequence"),o=0,f(d)):Ae(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Ae(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),o++,f):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",u(d))}}class AJ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Wl(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Wl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Wl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Wl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Wl(this.left,n.reverse())}}}function Wl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function v4(e){const t={};let n=-1,r,o,a,i,l,c,u;const f=new AJ(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_J(f,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,o=void 0;a--;)if(i=f.get(a),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),i[1].type="lineEnding",o=a);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;o&&(r[1].end={...f.get(o)[1].start},l=f.slice(o,n),l.unshift(r),f.splice(o,n-o+1,l))}}return qn(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function _J(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const a=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const l=i.events,c=[],u={};let f,d,m=-1,h=n,y=0,g=0;const b=[g];for(;h;){for(;e.get(++o)[1]!==h;);a.push(o),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),d&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(f),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(g=m+1,b.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),m=b.length;m--;){const p=l.slice(b[m],b[m+1]),v=a.pop();c.push([v,v+p.length-1]),e.splice(v,2,p)}for(c.reverse(),m=-1;++m<c.length;)u[y+c[m][0]]=y+c[m][1],y+=c[m][1]-c[m][0]-1;return u}const IJ={resolve:LJ,tokenize:OJ},DJ={partial:!0,tokenize:$J};function LJ(e){return v4(e),e}function OJ(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?a(l):Ae(l)?e.check(DJ,i,a)(l):(e.consume(l),o)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function i(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function $J(e,t,n){const r=this;return o;function o(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),We(e,a,"linePrefix")}function a(i){if(i===null||Ae(i))return n(i);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function w4(e,t,n,r,o,a,i,l,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return d;function d(p){return p===60?(e.enter(r),e.enter(o),e.enter(a),e.consume(p),e.exit(a),m):p===null||p===32||p===41||um(p)?n(p):(e.enter(r),e.enter(i),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(p))}function m(p){return p===62?(e.enter(a),e.consume(p),e.exit(a),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===62?(e.exit("chunkString"),e.exit(l),m(p)):p===null||p===60||Ae(p)?n(p):(e.consume(p),p===92?y:h)}function y(p){return p===60||p===62||p===92?(e.consume(p),h):h(p)}function g(p){return!f&&(p===null||p===41||Ze(p))?(e.exit("chunkString"),e.exit(l),e.exit(i),e.exit(r),t(p)):f<u&&p===40?(e.consume(p),f++,g):p===41?(e.consume(p),f--,g):p===null||p===32||p===40||um(p)?n(p):(e.consume(p),p===92?b:g)}function b(p){return p===40||p===41||p===92?(e.consume(p),g):g(p)}}function b4(e,t,n,r,o,a){const i=this;let l=0,c;return u;function u(h){return e.enter(r),e.enter(o),e.consume(h),e.exit(o),e.enter(a),f}function f(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):h===93?(e.exit(a),e.enter(o),e.consume(h),e.exit(o),e.exit(r),t):Ae(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Ae(h)||l++>999?(e.exit("chunkString"),f(h)):(e.consume(h),c||(c=!Ve(h)),h===92?m:d)}function m(h){return h===91||h===92||h===93?(e.consume(h),l++,d):d(h)}}function j4(e,t,n,r,o,a){let i;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(o),e.consume(m),e.exit(o),i=m===40?41:m,c):n(m)}function c(m){return m===i?(e.enter(o),e.consume(m),e.exit(o),e.exit(r),t):(e.enter(a),u(m))}function u(m){return m===i?(e.exit(a),c(i)):m===null?n(m):Ae(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),We(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===i||m===null||Ae(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?d:f)}function d(m){return m===i||m===92?(e.consume(m),f):f(m)}}function gc(e,t){let n;return r;function r(o){return Ae(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Ve(o)?We(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const FJ={name:"definition",tokenize:VJ},zJ={partial:!0,tokenize:BJ};function VJ(e,t,n){const r=this;let o;return a;function a(h){return e.enter("definition"),i(h)}function i(h){return b4.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return o=Ar(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):n(h)}function c(h){return Ze(h)?gc(e,u)(h):u(h)}function u(h){return w4(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return e.attempt(zJ,d,d)(h)}function d(h){return Ve(h)?We(e,m,"whitespace")(h):m(h)}function m(h){return h===null||Ae(h)?(e.exit("definition"),r.parser.defined.push(o),t(h)):n(h)}}function BJ(e,t,n){return r;function r(l){return Ze(l)?gc(e,o)(l):n(l)}function o(l){return j4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Ve(l)?We(e,i,"whitespace")(l):i(l)}function i(l){return l===null||Ae(l)?t(l):n(l)}}const UJ={name:"hardBreakEscape",tokenize:HJ};function HJ(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),o}function o(a){return Ae(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const WJ={name:"headingAtx",resolve:KJ,tokenize:qJ};function KJ(e,t){let n=e.length-2,r=3,o,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qn(e,r,n-r+1,[["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t]])),e}function qJ(e,t,n){let r=0;return o;function o(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),i(f)}function i(f){return f===35&&r++<6?(e.consume(f),i):f===null||Ze(f)?(e.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Ae(f)?(e.exit("atxHeading"),t(f)):Ve(f)?We(e,l,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),l(f))}function u(f){return f===null||f===35||Ze(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),u)}}const YJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],EN=["pre","script","style","textarea"],GJ={concrete:!0,name:"htmlFlow",resolveTo:JJ,tokenize:ZJ},XJ={partial:!0,tokenize:tZ},QJ={partial:!0,tokenize:eZ};function JJ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ZJ(e,t,n){const r=this;let o,a,i,l,c;return u;function u(O){return f(O)}function f(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),d}function d(O){return O===33?(e.consume(O),m):O===47?(e.consume(O),a=!0,g):O===63?(e.consume(O),o=3,r.interrupt?t:A):pn(O)?(e.consume(O),i=String.fromCharCode(O),b):n(O)}function m(O){return O===45?(e.consume(O),o=2,h):O===91?(e.consume(O),o=5,l=0,y):pn(O)?(e.consume(O),o=4,r.interrupt?t:A):n(O)}function h(O){return O===45?(e.consume(O),r.interrupt?t:A):n(O)}function y(O){const q="CDATA[";return O===q.charCodeAt(l++)?(e.consume(O),l===q.length?r.interrupt?t:T:y):n(O)}function g(O){return pn(O)?(e.consume(O),i=String.fromCharCode(O),b):n(O)}function b(O){if(O===null||O===47||O===62||Ze(O)){const q=O===47,ne=i.toLowerCase();return!q&&!a&&EN.includes(ne)?(o=1,r.interrupt?t(O):T(O)):YJ.includes(i.toLowerCase())?(o=6,q?(e.consume(O),p):r.interrupt?t(O):T(O)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):a?v(O):w(O))}return O===45||rn(O)?(e.consume(O),i+=String.fromCharCode(O),b):n(O)}function p(O){return O===62?(e.consume(O),r.interrupt?t:T):n(O)}function v(O){return Ve(O)?(e.consume(O),v):E(O)}function w(O){return O===47?(e.consume(O),E):O===58||O===95||pn(O)?(e.consume(O),C):Ve(O)?(e.consume(O),w):E(O)}function C(O){return O===45||O===46||O===58||O===95||rn(O)?(e.consume(O),C):N(O)}function N(O){return O===61?(e.consume(O),j):Ve(O)?(e.consume(O),N):w(O)}function j(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),c=O,S):Ve(O)?(e.consume(O),j):P(O)}function S(O){return O===c?(e.consume(O),c=null,M):O===null||Ae(O)?n(O):(e.consume(O),S)}function P(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ze(O)?N(O):(e.consume(O),P)}function M(O){return O===47||O===62||Ve(O)?w(O):n(O)}function E(O){return O===62?(e.consume(O),k):n(O)}function k(O){return O===null||Ae(O)?T(O):Ve(O)?(e.consume(O),k):n(O)}function T(O){return O===45&&o===2?(e.consume(O),L):O===60&&o===1?(e.consume(O),F):O===62&&o===4?(e.consume(O),B):O===63&&o===3?(e.consume(O),A):O===93&&o===5?(e.consume(O),I):Ae(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(XJ,U,D)(O)):O===null||Ae(O)?(e.exit("htmlFlowData"),D(O)):(e.consume(O),T)}function D(O){return e.check(QJ,R,U)(O)}function R(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),$}function $(O){return O===null||Ae(O)?D(O):(e.enter("htmlFlowData"),T(O))}function L(O){return O===45?(e.consume(O),A):T(O)}function F(O){return O===47?(e.consume(O),i="",_):T(O)}function _(O){if(O===62){const q=i.toLowerCase();return EN.includes(q)?(e.consume(O),B):T(O)}return pn(O)&&i.length<8?(e.consume(O),i+=String.fromCharCode(O),_):T(O)}function I(O){return O===93?(e.consume(O),A):T(O)}function A(O){return O===62?(e.consume(O),B):O===45&&o===2?(e.consume(O),A):T(O)}function B(O){return O===null||Ae(O)?(e.exit("htmlFlowData"),U(O)):(e.consume(O),B)}function U(O){return e.exit("htmlFlow"),t(O)}}function eZ(e,t,n){const r=this;return o;function o(i){return Ae(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a):n(i)}function a(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function tZ(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt($u,t,n)}}const nZ={name:"htmlText",tokenize:rZ};function rZ(e,t,n){const r=this;let o,a,i;return l;function l(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),c}function c(A){return A===33?(e.consume(A),u):A===47?(e.consume(A),N):A===63?(e.consume(A),w):pn(A)?(e.consume(A),P):n(A)}function u(A){return A===45?(e.consume(A),f):A===91?(e.consume(A),a=0,y):pn(A)?(e.consume(A),v):n(A)}function f(A){return A===45?(e.consume(A),h):n(A)}function d(A){return A===null?n(A):A===45?(e.consume(A),m):Ae(A)?(i=d,F(A)):(e.consume(A),d)}function m(A){return A===45?(e.consume(A),h):d(A)}function h(A){return A===62?L(A):A===45?m(A):d(A)}function y(A){const B="CDATA[";return A===B.charCodeAt(a++)?(e.consume(A),a===B.length?g:y):n(A)}function g(A){return A===null?n(A):A===93?(e.consume(A),b):Ae(A)?(i=g,F(A)):(e.consume(A),g)}function b(A){return A===93?(e.consume(A),p):g(A)}function p(A){return A===62?L(A):A===93?(e.consume(A),p):g(A)}function v(A){return A===null||A===62?L(A):Ae(A)?(i=v,F(A)):(e.consume(A),v)}function w(A){return A===null?n(A):A===63?(e.consume(A),C):Ae(A)?(i=w,F(A)):(e.consume(A),w)}function C(A){return A===62?L(A):w(A)}function N(A){return pn(A)?(e.consume(A),j):n(A)}function j(A){return A===45||rn(A)?(e.consume(A),j):S(A)}function S(A){return Ae(A)?(i=S,F(A)):Ve(A)?(e.consume(A),S):L(A)}function P(A){return A===45||rn(A)?(e.consume(A),P):A===47||A===62||Ze(A)?M(A):n(A)}function M(A){return A===47?(e.consume(A),L):A===58||A===95||pn(A)?(e.consume(A),E):Ae(A)?(i=M,F(A)):Ve(A)?(e.consume(A),M):L(A)}function E(A){return A===45||A===46||A===58||A===95||rn(A)?(e.consume(A),E):k(A)}function k(A){return A===61?(e.consume(A),T):Ae(A)?(i=k,F(A)):Ve(A)?(e.consume(A),k):M(A)}function T(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),o=A,D):Ae(A)?(i=T,F(A)):Ve(A)?(e.consume(A),T):(e.consume(A),R)}function D(A){return A===o?(e.consume(A),o=void 0,$):A===null?n(A):Ae(A)?(i=D,F(A)):(e.consume(A),D)}function R(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Ze(A)?M(A):(e.consume(A),R)}function $(A){return A===47||A===62||Ze(A)?M(A):n(A)}function L(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function F(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),_}function _(A){return Ve(A)?We(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):I(A)}function I(A){return e.enter("htmlTextData"),i(A)}}const nw={name:"labelEnd",resolveAll:iZ,resolveTo:lZ,tokenize:cZ},sZ={tokenize:uZ},oZ={tokenize:dZ},aZ={tokenize:fZ};function iZ(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&qn(e,0,e.length,n),e}function lZ(e,t){let n=e.length,r=0,o,a,i,l;for(;n--;)if(o=e[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(i=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[i][1].end}},f={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[i-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=rr(l,e.slice(a+1,a+r+3)),l=rr(l,[["enter",f,t]]),l=rr(l,Vh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,i-3),t)),l=rr(l,[["exit",f,t],e[i-2],e[i-1],["exit",u,t]]),l=rr(l,e.slice(i+1)),l=rr(l,[["exit",c,t]]),qn(e,a,e.length,l),e}function cZ(e,t,n){const r=this;let o=r.events.length,a,i;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return l;function l(m){return a?a._inactive?d(m):(i=r.parser.defined.includes(Ar(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(sZ,f,i?f:d)(m):m===91?e.attempt(oZ,f,i?u:d)(m):i?f(m):d(m)}function u(m){return e.attempt(aZ,f,d)(m)}function f(m){return t(m)}function d(m){return a._balanced=!0,n(m)}}function uZ(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),o}function o(d){return Ze(d)?gc(e,a)(d):a(d)}function a(d){return d===41?f(d):w4(e,i,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function i(d){return Ze(d)?gc(e,c)(d):f(d)}function l(d){return n(d)}function c(d){return d===34||d===39||d===40?j4(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return Ze(d)?gc(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function dZ(e,t,n){const r=this;return o;function o(l){return b4.call(r,e,a,i,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Ar(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function i(l){return n(l)}}function fZ(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),o}function o(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const mZ={name:"labelStartImage",resolveAll:nw.resolveAll,tokenize:hZ};function hZ(e,t,n){const r=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),i):n(l)}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const pZ={name:"labelStartLink",resolveAll:nw.resolveAll,tokenize:gZ};function gZ(e,t,n){const r=this;return o;function o(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),a}function a(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const mg={name:"lineEnding",tokenize:xZ};function xZ(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),We(e,t,"linePrefix")}}const of={name:"thematicBreak",tokenize:yZ};function yZ(e,t,n){let r=0,o;return a;function a(u){return e.enter("thematicBreak"),i(u)}function i(u){return o=u,l(u)}function l(u){return u===o?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Ae(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===o?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Ve(u)?We(e,l,"whitespace")(u):l(u))}}const Sn={continuation:{tokenize:jZ},exit:CZ,name:"list",tokenize:bZ},vZ={partial:!0,tokenize:SZ},wZ={partial:!0,tokenize:NZ};function bZ(e,t,n){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,i=0;return l;function l(h){const y=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:my(h)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(of,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return n(h)}function c(h){return my(h)&&++i<10?(e.consume(h),c):(!r.interrupt||i<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check($u,r.interrupt?n:f,e.attempt(vZ,m,d))}function f(h){return r.containerState.initialBlankLine=!0,a++,m(h)}function d(h){return Ve(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function jZ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($u,o,a);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,We(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Ve(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(wZ,t,i)(l))}function i(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,We(e,e.attempt(Sn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function NZ(e,t,n){const r=this;return We(e,o,"listItemIndent",r.containerState.size+1);function o(a){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(a):n(a)}}function CZ(e){e.exit(this.containerState.type)}function SZ(e,t,n){const r=this;return We(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const i=r.events[r.events.length-1];return!Ve(a)&&i&&i[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const PN={name:"setextUnderline",resolveTo:kZ,tokenize:EZ};function kZ(e,t){let n=e.length,r,o,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",a?(e.splice(o,0,["enter",i,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function EZ(e,t,n){const r=this;let o;return a;function a(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),o=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===o?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Ve(u)?We(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Ae(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const PZ={tokenize:MZ};function MZ(e){const t=this,n=e.attempt($u,r,e.attempt(this.parser.constructs.flowInitial,o,We(e,e.attempt(this.parser.constructs.flow,o,e.attempt(IJ,o)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const RZ={resolveAll:C4()},TZ=N4("string"),AZ=N4("text");function N4(e){return{resolveAll:C4(e==="text"?_Z:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],a=n.attempt(o,i,l);return i;function i(f){return u(f)?a(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),a(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const d=o[f];let m=-1;if(d)for(;++m<d.length;){const h=d[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function C4(e){return t;function t(n,r){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(n,r):n}}function _Z(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let a=o.length,i=-1,l=0,c;for(;a--;){const u=o[a];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)l++,i--;if(i)break;i=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?i:r.start._bufferIndex+i,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const IZ={42:Sn,43:Sn,45:Sn,48:Sn,49:Sn,50:Sn,51:Sn,52:Sn,53:Sn,54:Sn,55:Sn,56:Sn,57:Sn,62:g4},DZ={91:FJ},LZ={[-2]:fg,[-1]:fg,32:fg},OZ={35:WJ,42:of,45:[PN,of],60:GJ,61:PN,95:of,96:kN,126:kN},$Z={38:y4,92:x4},FZ={[-5]:mg,[-4]:mg,[-3]:mg,33:mZ,38:y4,42:hy,60:[pJ,nZ],91:pZ,92:[UJ,x4],93:nw,95:hy,96:PJ},zZ={null:[hy,RZ]},VZ={null:[42,95]},BZ={null:[]},UZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:VZ,contentInitial:DZ,disable:BZ,document:IZ,flow:OZ,flowInitial:LZ,insideSpan:zZ,string:$Z,text:FZ},Symbol.toStringTag,{value:"Module"}));function HZ(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let i=[],l=[];const c={attempt:S(N),check:S(j),consume:v,enter:w,exit:C,interrupt:S(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:y,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:d};let f=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function d(k){return i=rr(i,k),b(),i[i.length-1]!==null?[]:(P(t,0),u.events=Vh(a,u.events,u),u.events)}function m(k,T){return KZ(h(k),T)}function h(k){return WZ(i,k)}function y(){const{_bufferIndex:k,_index:T,line:D,column:R,offset:$}=r;return{_bufferIndex:k,_index:T,line:D,column:R,offset:$}}function g(k){o[k.line]=k.column,E()}function b(){let k;for(;r._index<i.length;){const T=i[r._index];if(typeof T=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<T.length;)p(T.charCodeAt(r._bufferIndex));else p(T)}}function p(k){f=f(k)}function v(k){Ae(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,E()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=k}function w(k,T){const D=T||{};return D.type=k,D.start=y(),u.events.push(["enter",D,u]),l.push(D),D}function C(k){const T=l.pop();return T.end=y(),u.events.push(["exit",T,u]),T}function N(k,T){P(k,T.from)}function j(k,T){T.restore()}function S(k,T){return D;function D(R,$,L){let F,_,I,A;return Array.isArray(R)?U(R):"tokenize"in R?U([R]):B(R);function B(se){return z;function z(W){const Q=W!==null&&se[W],ie=W!==null&&se.null,ae=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return U(ae)(W)}}function U(se){return F=se,_=0,se.length===0?L:O(se[_])}function O(se){return z;function z(W){return A=M(),I=se,se.partial||(u.currentConstruct=se),se.name&&u.parser.constructs.disable.null.includes(se.name)?ne():se.tokenize.call(T?Object.assign(Object.create(u),T):u,c,q,ne)(W)}}function q(se){return k(I,A),$}function ne(se){return A.restore(),++_<F.length?O(F[_]):L}}}function P(k,T){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&qn(u.events,T,u.events.length-T,k.resolve(u.events.slice(T),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function M(){const k=y(),T=u.previous,D=u.currentConstruct,R=u.events.length,$=Array.from(l);return{from:R,restore:L};function L(){r=k,u.previous=T,u.currentConstruct=D,u.events.length=R,l=$,E()}}function E(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function WZ(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;let i;if(n===o)i=[e[n].slice(r,a)];else{if(i=e.slice(n,o),r>-1){const l=i[0];typeof l=="string"?i[0]=l.slice(r):i.shift()}a>0&&i.push(e[o].slice(0,a))}return i}function KZ(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const a=e[n];let i;if(typeof a=="string")i=a;else switch(a){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&o)continue;i=" ";break}default:i=String.fromCharCode(a)}o=a===-2,r.push(i)}return r.join("")}function qZ(e){const r={constructs:h4([UZ,...(e||{}).extensions||[]]),content:o(lJ),defined:[],document:o(uJ),flow:o(PZ),lazy:{},string:o(TZ),text:o(AZ)};return r;function o(a){return i;function i(l){return HZ(r,a,l)}}}function YZ(e){for(;!v4(e););return e}const MN=/[\0\t\n\r]/g;function GZ(){let e=1,t="",n=!0,r;return o;function o(a,i,l){const c=[];let u,f,d,m,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(i||void 0).decode(a)),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(MN.lastIndex=d,u=MN.exec(a),m=u&&u.index!==void 0?u.index:a.length,h=a.charCodeAt(m),!u){t=a.slice(d);break}if(h===10&&d===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),d<m&&(c.push(a.slice(d,m)),e+=m-d),h){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}d=m+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const XZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QZ(e){return e.replace(XZ,JZ)}function JZ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return p4(n.slice(a?2:1),a?16:10)}return tw(n)||e}const S4={}.hasOwnProperty;function ZZ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),eee(n)(YZ(qZ(n).document().write(GZ()(e,t,!0))))}function eee(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ue),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(fe),blockQuote:a(ie),characterEscape:M,characterReference:M,codeFenced:a(ae),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(ae,i),codeText:a(oe,i),codeTextData:M,data:M,codeFlowValue:M,definition:a(Y),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(he),hardBreakEscape:a(Se),hardBreakTrailing:a(Se),htmlFlow:a(Me,i),htmlFlowData:M,htmlText:a(Me,i),htmlTextData:M,image:a(qe),label:i,link:a(Ue),listItem:a(K),listItemValue:m,listOrdered:a(V,d),listUnordered:a(V),paragraph:a(X),reference:O,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(fe),strong:a(me),thematicBreak:a(ue)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:Q,autolinkProtocol:W,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:se,characterReference:z,codeFenced:c(b),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:E,codeIndented:c(p),codeText:c($),codeTextData:E,data:E,definition:c(),definitionDestinationString:C,definitionLabelString:v,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(T),hardBreakTrailing:c(T),htmlFlow:c(D),htmlFlowData:E,htmlText:c(R),htmlTextData:E,image:c(F),label:I,labelText:_,lineEnding:k,link:c(L),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:q,resourceDestinationString:A,resourceTitleString:B,resource:U,setextHeading:c(P),setextHeadingLineSequence:S,setextHeadingText:j,strong:c(),thematicBreak:c()}};k4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(H){let ee={type:"root",children:[]};const ge={stack:[ee],tokenStack:[],config:t,enter:l,exit:u,buffer:i,resume:f,data:n},Te=[];let Oe=-1;for(;++Oe<H.length;)if(H[Oe][1].type==="listOrdered"||H[Oe][1].type==="listUnordered")if(H[Oe][0]==="enter")Te.push(Oe);else{const mt=Te.pop();Oe=o(H,mt,Oe)}for(Oe=-1;++Oe<H.length;){const mt=t[H[Oe][0]];S4.call(mt,H[Oe][1].type)&&mt[H[Oe][1].type].call(Object.assign({sliceSerialize:H[Oe][2].sliceSerialize},ge),H[Oe][1])}if(ge.tokenStack.length>0){const mt=ge.tokenStack[ge.tokenStack.length-1];(mt[1]||RN).call(ge,void 0,mt[0])}for(ee.position={start:eo(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:eo(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)ee=t.transforms[Oe](ee)||ee;return ee}function o(H,ee,ge){let Te=ee-1,Oe=-1,mt=!1,Cn,Dt,Bt,Jn;for(;++Te<=ge;){const at=H[Te];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?Oe++:Oe--,Jn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(Cn&&!Jn&&!Oe&&!Bt&&(Bt=Te),Jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Jn=void 0}if(!Oe&&at[0]==="enter"&&at[1].type==="listItemPrefix"||Oe===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(Cn){let Zn=Te;for(Dt=void 0;Zn--;){const Qt=H[Zn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;Dt&&(H[Dt][1].type="lineEndingBlank",mt=!0),Qt[1].type="lineEnding",Dt=Zn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Bt&&(!Dt||Bt<Dt)&&(Cn._spread=!0),Cn.end=Object.assign({},Dt?H[Dt][1].start:at[1].end),H.splice(Dt||Te,0,["exit",Cn,at[2]]),Te++,ge++}if(at[1].type==="listItemPrefix"){const Zn={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};Cn=Zn,H.splice(Te,0,["enter",Zn,at[2]]),Te++,ge++,Bt=void 0,Jn=!0}}}return H[ee][1]._spread=mt,ge}function a(H,ee){return ge;function ge(Te){l.call(this,H(Te),Te),ee&&ee.call(this,Te)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(H,ee,ge){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([ee,ge||void 0]),H.position={start:eo(ee.start),end:void 0}}function c(H){return ee;function ee(ge){H&&H.call(this,ge),u.call(this,ge)}}function u(H,ee){const ge=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==H.type&&(ee?ee.call(this,H,Te[0]):(Te[1]||RN).call(this,H,Te[0]));else throw new Error("Cannot close `"+H.type+"` ("+pc({start:H.start,end:H.end})+"): its not open");ge.position.end=eo(H.end)}function f(){return ew(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(H){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function h(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=H}function y(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=H}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.value=H.replace(/(\r?\n|\r)$/g,"")}function v(H){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=Ar(this.sliceSerialize(H)).toLowerCase()}function w(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.title=H}function C(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.url=H}function N(H){const ee=this.stack[this.stack.length-1];if(!ee.depth){const ge=this.sliceSerialize(H).length;ee.depth=ge}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function S(H){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function M(H){const ge=this.stack[this.stack.length-1].children;let Te=ge[ge.length-1];(!Te||Te.type!=="text")&&(Te=pe(),Te.position={start:eo(H.start),end:void 0},ge.push(Te)),this.stack.push(Te)}function E(H){const ee=this.stack.pop();ee.value+=this.sliceSerialize(H),ee.position.end=eo(H.end)}function k(H){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=ee.children[ee.children.length-1];ge.position.end=eo(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(M.call(this,H),E.call(this,H))}function T(){this.data.atHardBreak=!0}function D(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.value=H}function R(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.value=H}function $(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.value=H}function L(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ee,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function F(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ee,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function _(H){const ee=this.sliceSerialize(H),ge=this.stack[this.stack.length-2];ge.label=QZ(ee),ge.identifier=Ar(ee).toLowerCase()}function I(){const H=this.stack[this.stack.length-1],ee=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Te=H.children;ge.children=Te}else ge.alt=ee}function A(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.url=H}function B(){const H=this.resume(),ee=this.stack[this.stack.length-1];ee.title=H}function U(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function q(H){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.label=ee,ge.identifier=Ar(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function ne(H){this.data.characterReferenceType=H.type}function se(H){const ee=this.sliceSerialize(H),ge=this.data.characterReferenceType;let Te;ge?(Te=p4(ee,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=tw(ee);const Oe=this.stack[this.stack.length-1];Oe.value+=Te}function z(H){const ee=this.stack.pop();ee.position.end=eo(H.end)}function W(H){E.call(this,H);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(H)}function Q(H){E.call(this,H);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(H)}function ie(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function he(){return{type:"emphasis",children:[]}}function fe(){return{type:"heading",depth:0,children:[]}}function Se(){return{type:"break"}}function Me(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function V(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function K(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function pe(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}function eo(e){return{line:e.line,column:e.column,offset:e.offset}}function k4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?k4(e,r):tee(e,r)}}function tee(e,t){let n;for(n in t)if(S4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function RN(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+pc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+pc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+pc({start:t.start,end:t.end})+") is still open")}function nee(e){const t=this;t.parser=n;function n(r){return ZZ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ree(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function see(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function oee(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function aee(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iee(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lee(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Pl(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function cee(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uee(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function E4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const i=o[o.length-1];return i&&i.type==="text"?i.value+=r:o.push({type:"text",value:r}),o}function dee(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E4(e,t);const o={src:Pl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,a),e.applyData(t,a)}function fee(e,t){const n={src:Pl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function mee(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function hee(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return E4(e,t);const o={href:Pl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function pee(e,t){const n={href:Pl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gee(e,t,n){const r=e.all(t),o=n?xee(n):P4(t),a={},i=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(o||l!==0||f.type!=="element"||f.tagName!=="p")&&i.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!o?i.push(...f.children):i.push(f)}const c=r[r.length-1];c&&(o||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,u),e.applyData(t,u)}function xee(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=P4(n[r])}return t}function P4(e){const t=e.spread;return t??e.children.length>1}function yee(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const i=r[o];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function vee(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wee(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function bee(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jee(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),o.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=X0(t.children[1]),c=i4(t.children[t.children.length-1]);l&&c&&(i.position={start:l,end:c}),o.push(i)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,a),e.applyData(t,a)}function Nee(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,l=i?i.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const d=t.children[c],m={},h=i?i[c]:void 0;h&&(m.align=h);let y={type:"element",tagName:a,properties:m,children:[]};d&&(y.children=e.all(d),e.patch(d,y),y=e.applyData(d,y)),u.push(y)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function Cee(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const TN=9,AN=32;function See(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const a=[];for(;r;)a.push(_N(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return a.push(_N(t.slice(o),o>0,!1)),a.join("")}function _N(e,t,n){let r=0,o=e.length;if(t){let a=e.codePointAt(r);for(;a===TN||a===AN;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(o-1);for(;a===TN||a===AN;)o--,a=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function kee(e,t){const n={type:"text",value:See(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Eee(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Pee={blockquote:ree,break:see,code:oee,delete:aee,emphasis:iee,footnoteReference:lee,heading:cee,html:uee,imageReference:dee,image:fee,inlineCode:mee,linkReference:hee,link:pee,listItem:gee,list:yee,paragraph:vee,root:wee,strong:bee,table:jee,tableCell:Cee,tableRow:Nee,text:kee,thematicBreak:Eee,toml:Md,yaml:Md,definition:Md,footnoteDefinition:Md};function Md(){}const M4=-1,Bh=0,xc=1,dm=2,rw=3,sw=4,ow=5,aw=6,R4=7,T4=8,IN=typeof self=="object"?self:globalThis,Mee=(e,t)=>{const n=(o,a)=>(e.set(a,o),o),r=o=>{if(e.has(o))return e.get(o);const[a,i]=t[o];switch(a){case Bh:case M4:return n(i,o);case xc:{const l=n([],o);for(const c of i)l.push(r(c));return l}case dm:{const l=n({},o);for(const[c,u]of i)l[r(c)]=r(u);return l}case rw:return n(new Date(i),o);case sw:{const{source:l,flags:c}=i;return n(new RegExp(l,c),o)}case ow:{const l=n(new Map,o);for(const[c,u]of i)l.set(r(c),r(u));return l}case aw:{const l=n(new Set,o);for(const c of i)l.add(r(c));return l}case R4:{const{name:l,message:c}=i;return n(new IN[l](c),o)}case T4:return n(BigInt(i),o);case"BigInt":return n(Object(BigInt(i)),o);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:l}=new Uint8Array(i);return n(new DataView(l),i)}}return n(new IN[a](i),o)};return r},DN=e=>Mee(new Map,e)(0),Xa="",{toString:Ree}={},{keys:Tee}=Object,Kl=e=>{const t=typeof e;if(t!=="object"||!e)return[Bh,t];const n=Ree.call(e).slice(8,-1);switch(n){case"Array":return[xc,Xa];case"Object":return[dm,Xa];case"Date":return[rw,Xa];case"RegExp":return[sw,Xa];case"Map":return[ow,Xa];case"Set":return[aw,Xa];case"DataView":return[xc,n]}return n.includes("Array")?[xc,n]:n.includes("Error")?[R4,n]:[dm,n]},Rd=([e,t])=>e===Bh&&(t==="function"||t==="symbol"),Aee=(e,t,n,r)=>{const o=(i,l)=>{const c=r.push(i)-1;return n.set(l,c),c},a=i=>{if(n.has(i))return n.get(i);let[l,c]=Kl(i);switch(l){case Bh:{let f=i;switch(c){case"bigint":l=T4,f=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return o([M4],i)}return o([l,f],i)}case xc:{if(c){let m=i;return c==="DataView"?m=new Uint8Array(i.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(i)),o([c,[...m]],i)}const f=[],d=o([l,f],i);for(const m of i)f.push(a(m));return d}case dm:{if(c)switch(c){case"BigInt":return o([c,i.toString()],i);case"Boolean":case"Number":case"String":return o([c,i.valueOf()],i)}if(t&&"toJSON"in i)return a(i.toJSON());const f=[],d=o([l,f],i);for(const m of Tee(i))(e||!Rd(Kl(i[m])))&&f.push([a(m),a(i[m])]);return d}case rw:return o([l,i.toISOString()],i);case sw:{const{source:f,flags:d}=i;return o([l,{source:f,flags:d}],i)}case ow:{const f=[],d=o([l,f],i);for(const[m,h]of i)(e||!(Rd(Kl(m))||Rd(Kl(h))))&&f.push([a(m),a(h)]);return d}case aw:{const f=[],d=o([l,f],i);for(const m of i)(e||!Rd(Kl(m)))&&f.push(a(m));return d}}const{message:u}=i;return o([l,{name:c,message:u}],i)};return a},LN=(e,{json:t,lossy:n}={})=>{const r=[];return Aee(!(t||n),!!t,new Map,r)(e),r},fm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?DN(LN(e,t)):structuredClone(e):(e,t)=>DN(LN(e,t));function _ee(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Iee(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Dee(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||_ee,r=e.options.footnoteBackLabel||Iee,o=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),m=Pl(d.toLowerCase());let h=0;const y=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++h<=g;){y.length>0&&y.push({type:"text",value:" "});let v=typeof n=="string"?n:n(c,h);typeof v=="string"&&(v={type:"text",value:v}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else f.push(...y);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(f,!0)};e.patch(u,p),l.push(p)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...fm(i),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Uh=function(e){if(e==null)return Fee;if(typeof e=="function")return Hh(e);if(typeof e=="object")return Array.isArray(e)?Lee(e):Oee(e);if(typeof e=="string")return $ee(e);throw new Error("Expected function, string, or object as test")};function Lee(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uh(e[n]);return Hh(r);function r(...o){let a=-1;for(;++a<t.length;)if(t[a].apply(this,o))return!0;return!1}}function Oee(e){const t=e;return Hh(n);function n(r){const o=r;let a;for(a in e)if(o[a]!==t[a])return!1;return!0}}function $ee(e){return Hh(t);function t(n){return n&&n.type===e}}function Hh(e){return t;function t(n,r,o){return!!(zee(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function Fee(){return!0}function zee(e){return e!==null&&typeof e=="object"&&"type"in e}const A4=[],Vee=!0,py=!1,Bee="skip";function _4(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const a=Uh(o),i=r?-1:1;l(e,void 0,[])();function l(c,u,f){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=A4,y,g,b;if((!t||a(c,u,f[f.length-1]||void 0))&&(h=Uee(n(c,f)),h[0]===py))return h;if("children"in c&&c.children){const p=c;if(p.children&&h[0]!==Bee)for(g=(r?p.children.length:-1)+i,b=f.concat(p);g>-1&&g<p.children.length;){const v=p.children[g];if(y=l(v,g,b)(),y[0]===py)return y;g=typeof y[1]=="number"?y[1]:g+i}}return h}}}function Uee(e){return Array.isArray(e)?e:typeof e=="number"?[Vee,e]:e==null?A4:[e]}function iw(e,t,n,r){let o,a,i;typeof t=="function"&&typeof n!="function"?(a=void 0,i=t,o=n):(a=t,i=n,o=r),_4(e,a,l,o);function l(c,u){const f=u[u.length-1],d=f?f.children.indexOf(c):void 0;return i(c,d,f)}}const gy={}.hasOwnProperty,Hee={};function Wee(e,t){const n=t||Hee,r=new Map,o=new Map,a=new Map,i={...Pee,...n.handlers},l={all:u,applyData:qee,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:i,one:c,options:n,patch:Kee,wrap:Gee};return iw(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:o,m=String(f.identifier).toUpperCase();d.has(m)||d.set(m,f)}}),l;function c(f,d){const m=f.type,h=l.handlers[m];if(gy.call(l.handlers,m)&&h)return h(l,f,d);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in f){const{children:g,...b}=f,p=fm(b);return p.children=l.all(f),p}return fm(f)}return(l.options.unknownHandler||Yee)(l,f,d)}function u(f){const d=[];if("children"in f){const m=f.children;let h=-1;for(;++h<m.length;){const y=l.one(m[h],f);if(y){if(h&&m[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=ON(y.value)),!Array.isArray(y)&&y.type==="element")){const g=y.children[0];g&&g.type==="text"&&(g.value=ON(g.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function Kee(e,t){e.position&&(t.position=IQ(e))}function qee(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&a&&Object.assign(n.properties,fm(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function Yee(e,t){const n=t.data||{},r="value"in t&&!(gy.call(n,"hProperties")||gy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Gee(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ON(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function $N(e,t){const n=Wee(e,t),r=n.one(e,void 0),o=Dee(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function Xee(e,t){return e&&"run"in e?async function(n,r){const o=$N(n,{file:r,...t});await e.run(o,r)}:function(n,r){return $N(n,{file:r,...e||t})}}function FN(e){if(e)throw e}var af=Object.prototype.hasOwnProperty,I4=Object.prototype.toString,zN=Object.defineProperty,VN=Object.getOwnPropertyDescriptor,BN=function(t){return typeof Array.isArray=="function"?Array.isArray(t):I4.call(t)==="[object Array]"},UN=function(t){if(!t||I4.call(t)!=="[object Object]")return!1;var n=af.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&af.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var o;for(o in t);return typeof o>"u"||af.call(t,o)},HN=function(t,n){zN&&n.name==="__proto__"?zN(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},WN=function(t,n){if(n==="__proto__")if(af.call(t,n)){if(VN)return VN(t,n).value}else return;return t[n]},Qee=function e(){var t,n,r,o,a,i,l=arguments[0],c=1,u=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=WN(l,n),o=WN(t,n),l!==o&&(f&&o&&(UN(o)||(a=BN(o)))?(a?(a=!1,i=r&&BN(r)?r:[]):i=r&&UN(r)?r:{},HN(l,{name:n,newValue:e(f,i,o)})):typeof o<"u"&&HN(l,{name:n,newValue:o}));return l};const hg=su(Qee);function xy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jee(){const e=[],t={run:n,use:r};return t;function n(...o){let a=-1;const i=o.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);l(null,...o);function l(c,...u){const f=e[++a];let d=-1;if(c){i(c);return}for(;++d<o.length;)(u[d]===null||u[d]===void 0)&&(u[d]=o[d]);o=u,f?Zee(f,l)(...u):i(null,...u)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Zee(e,t){let n;return r;function r(...i){const l=e.length>i.length;let c;l&&i.push(o);try{c=e.apply(this,i)}catch(u){const f=u;if(l&&n)throw f;return o(f)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,o):c instanceof Error?o(c):a(c))}function o(i,...l){n||(n=!0,t(i,...l))}function a(i){o(null,i)}}const qr={basename:ete,dirname:tte,extname:nte,join:rte,sep:"/"};function ete(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Fu(e);let n=0,r=-1,o=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else i<0&&(a=!0,i=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(r=o):(l=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function tte(e){if(Fu(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function nte(e){Fu(e);let t=e.length,n=-1,r=0,o=-1,a=0,i;for(;t--;){const l=e.codePointAt(t);if(l===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),l===46?o<0?o=t:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function rte(...e){let t=-1,n;for(;++t<e.length;)Fu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ste(n)}function ste(e){Fu(e);const t=e.codePointAt(0)===47;let n=ote(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ote(e,t){let n="",r=0,o=-1,a=0,i=-1,l,c;for(;++i<=e.length;){if(i<e.length)l=e.codePointAt(i);else{if(l===47)break;l=47}if(l===47){if(!(o===i-1||a===1))if(o!==i-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),o=i,a=0;continue}}else if(n.length>0){n="",r=0,o=i,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,i):n=e.slice(o+1,i),r=i-o-1;o=i,a=0}else l===46&&a>-1?a++:a=-1}return n}function Fu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ate={cwd:ite};function ite(){return"/"}function yy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function lte(e){if(typeof e=="string")e=new URL(e);else if(!yy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return cte(e)}function cte(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const pg=["history","path","basename","stem","extname","dirname"];class D4{constructor(t){let n;t?yy(t)?n={path:t}:typeof t=="string"||ute(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ate.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<pg.length;){const a=pg[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)pg.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?qr.basename(this.path):void 0}set basename(t){xg(t,"basename"),gg(t,"basename"),this.path=qr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qr.dirname(this.path):void 0}set dirname(t){KN(this.basename,"dirname"),this.path=qr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qr.extname(this.path):void 0}set extname(t){if(gg(t,"extname"),KN(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){yy(t)&&(t=lte(t)),xg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qr.basename(this.path,this.extname):void 0}set stem(t){xg(t,"stem"),gg(t,"stem"),this.path=qr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new cn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function gg(e,t){if(e&&e.includes(qr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qr.sep+"`")}function xg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function KN(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ute(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dte=function(e){const r=this.constructor.prototype,o=r[e],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},fte={}.hasOwnProperty;class lw extends dte{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jee()}copy(){const t=new lw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(hg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(wg("data",this.frozen),this.namespace[t]=n,this):fte.call(this.namespace,t)&&this.namespace[t]||void 0:t?(wg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Td(t),r=this.parser||this.Parser;return yg("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),yg("process",this.parser||this.Parser),vg("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,i){const l=Td(t),c=r.parse(l);r.run(c,l,function(f,d,m){if(f||!d||!m)return u(f);const h=d,y=r.stringify(h,m);pte(y)?m.value=y:m.result=y,u(f,m)});function u(f,d){f||!d?i(f):a?a(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),yg("processSync",this.parser||this.Parser),vg("processSync",this.compiler||this.Compiler),this.process(t,o),YN("processSync","process",n),r;function o(a,i){n=!0,FN(a),r=i}}run(t,n,r){qN(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(i,l){const c=Td(n);o.run(t,c,u);function u(f,d,m){const h=d||t;f?l(f):i?i(h):r(void 0,h,m)}}}runSync(t,n){let r=!1,o;return this.run(t,n,a),YN("runSync","run",r),o;function a(i,l){FN(i),o=l,r=!0}}stringify(t,n){this.freeze();const r=Td(n),o=this.compiler||this.Compiler;return vg("stringify",o),qN(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(wg("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;c(f,d)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(o.settings=hg(!0,o.settings,u.settings))}function l(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let d=-1,m=-1;for(;++d<r.length;)if(r[d][0]===u){m=d;break}if(m===-1)r.push([u,...f]);else if(f.length>0){let[h,...y]=f;const g=r[m][1];xy(g)&&xy(h)&&(h=hg(!0,g,h)),r[m]=[u,h,...y]}}}}const mte=new lw().freeze();function yg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qN(e){if(!xy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function YN(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Td(e){return hte(e)?e:new D4(e)}function hte(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pte(e){return typeof e=="string"||gte(e)}function gte(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xte="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",GN=[],XN={allowDangerousHtml:!0},yte=/^(https?|ircs?|mailto|xmpp)$/i,vte=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wte(e){const t=bte(e),n=jte(e);return Nte(t.runSync(t.parse(n),n),e)}function bte(e){const t=e.rehypePlugins||GN,n=e.remarkPlugins||GN,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...XN}:XN;return mte().use(nee).use(n).use(Xee,r).use(t)}function jte(e){const t=e.children||"",n=new D4;return typeof t=="string"&&(n.value=t),n}function Nte(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,a=t.disallowedElements,i=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||Cte;for(const f of vte)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+xte+f.id,void 0);return iw(e,u),FQ(e,{Fragment:s.Fragment,components:o,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(f,d,m){if(f.type==="raw"&&m&&typeof d=="number")return i?m.children.splice(d,1):m.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let h;for(h in dg)if(Object.hasOwn(dg,h)&&Object.hasOwn(f.properties,h)){const y=f.properties[h],g=dg[h];(g===null||g.includes(f.tagName))&&(f.properties[h]=c(String(y||""),h,f))}}if(f.type==="element"){let h=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(f,d,m)),h&&m&&typeof d=="number")return l&&f.children?m.children.splice(d,1,...f.children):m.children.splice(d,1),d}}}function Cte(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||yte.test(e.slice(0,t))?e:""}function QN(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function Ste(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kte(e,t,n){const o=Uh((n||{}).ignore||[]),a=Ete(t);let i=-1;for(;++i<a.length;)_4(e,"text",l);function l(u,f){let d=-1,m;for(;++d<f.length;){const h=f[d],y=m?m.children:void 0;if(o(h,y?y.indexOf(h):void 0,m))return;m=h}if(m)return c(u,f)}function c(u,f){const d=f[f.length-1],m=a[i][0],h=a[i][1];let y=0;const b=d.children.indexOf(u);let p=!1,v=[];m.lastIndex=0;let w=m.exec(u.value);for(;w;){const C=w.index,N={index:w.index,input:w.input,stack:[...f,u]};let j=h(...w,N);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?m.lastIndex=C+1:(y!==C&&v.push({type:"text",value:u.value.slice(y,C)}),Array.isArray(j)?v.push(...j):j&&v.push(j),y=C+w[0].length,p=!0),!m.global)break;w=m.exec(u.value)}return p?(y<u.value.length&&v.push({type:"text",value:u.value.slice(y)}),d.children.splice(b,1,...v)):v=[u],b+v.length}}function Ete(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([Pte(o[0]),Mte(o[1])])}return t}function Pte(e){return typeof e=="string"?new RegExp(Ste(e),"g"):e}function Mte(e){return typeof e=="function"?e:function(){return e}}const bg="phrasing",jg=["autolink","link","image","label"];function Rte(){return{transforms:[Ote],enter:{literalAutolink:Ate,literalAutolinkEmail:Ng,literalAutolinkHttp:Ng,literalAutolinkWww:Ng},exit:{literalAutolink:Lte,literalAutolinkEmail:Dte,literalAutolinkHttp:_te,literalAutolinkWww:Ite}}}function Tte(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bg,notInConstruct:jg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bg,notInConstruct:jg},{character:":",before:"[ps]",after:"\\/",inConstruct:bg,notInConstruct:jg}]}}function Ate(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ng(e){this.config.enter.autolinkProtocol.call(this,e)}function _te(e){this.config.exit.autolinkProtocol.call(this,e)}function Ite(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Dte(e){this.config.exit.autolinkEmail.call(this,e)}function Lte(e){this.exit(e)}function Ote(e){kte(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$te],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Fte]],{ignore:["link","linkReference"]})}function $te(e,t,n,r,o){let a="";if(!L4(o)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!zte(n)))return!1;const i=Vte(n+r);if(!i[0])return!1;const l={type:"link",title:null,url:a+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[l,{type:"text",value:i[1]}]:l}function Fte(e,t,n,r){return!L4(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function zte(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Vte(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=QN(e,"(");let a=QN(e,")");for(;r!==-1&&o>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function L4(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Da(n)||zh(n))&&(!t||n!==47)}O4.peek=Xte;function Bte(){this.buffer()}function Ute(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Hte(){this.buffer()}function Wte(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Kte(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ar(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qte(e){this.exit(e)}function Yte(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ar(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gte(e){this.exit(e)}function Xte(){return"["}function O4(e,t,n,r){const o=n.createTracker(r);let a=o.move("[^");const i=n.enter("footnoteReference"),l=n.enter("reference");return a+=o.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),i(),a+=o.move("]"),a}function Qte(){return{enter:{gfmFootnoteCallString:Bte,gfmFootnoteCall:Ute,gfmFootnoteDefinitionLabelString:Hte,gfmFootnoteDefinition:Wte},exit:{gfmFootnoteCallString:Kte,gfmFootnoteCall:qte,gfmFootnoteDefinitionLabelString:Yte,gfmFootnoteDefinition:Gte}}}function Jte(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:O4},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,a,i){const l=a.createTracker(i);let c=l.move("[^");const u=a.enter("footnoteDefinition"),f=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),f(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?$4:Zte))),u(),c}}function Zte(e,t,n){return t===0?e:$4(e,t,n)}function $4(e,t,n){return(n?"":"    ")+e}const ene=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];F4.peek=one;function tne(){return{canContainEols:["delete"],enter:{strikethrough:rne},exit:{strikethrough:sne}}}function nne(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ene}],handlers:{delete:F4}}}function rne(e){this.enter({type:"delete",children:[]},e)}function sne(e){this.exit(e)}function F4(e,t,n,r){const o=n.createTracker(r),a=n.enter("strikethrough");let i=o.move("~~");return i+=n.containerPhrasing(e,{...o.current(),before:i,after:"~"}),i+=o.move("~~"),a(),i}function one(){return"~"}function ane(e){return e.length}function ine(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||ane,a=[],i=[],l=[],c=[];let u=0,f=-1;for(;++f<e.length;){const g=[],b=[];let p=-1;for(e[f].length>u&&(u=e[f].length);++p<e[f].length;){const v=lne(e[f][p]);if(n.alignDelimiters!==!1){const w=o(v);b[p]=w,(c[p]===void 0||w>c[p])&&(c[p]=w)}g.push(v)}i[f]=g,l[f]=b}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)a[d]=JN(r[d]);else{const g=JN(r);for(;++d<u;)a[d]=g}d=-1;const m=[],h=[];for(;++d<u;){const g=a[d];let b="",p="";g===99?(b=":",p=":"):g===108?b=":":g===114&&(p=":");let v=n.alignDelimiters===!1?1:Math.max(1,c[d]-b.length-p.length);const w=b+"-".repeat(v)+p;n.alignDelimiters!==!1&&(v=b.length+v+p.length,v>c[d]&&(c[d]=v),h[d]=v),m[d]=w}i.splice(1,0,m),l.splice(1,0,h),f=-1;const y=[];for(;++f<i.length;){const g=i[f],b=l[f];d=-1;const p=[];for(;++d<u;){const v=g[d]||"";let w="",C="";if(n.alignDelimiters!==!1){const N=c[d]-(b[d]||0),j=a[d];j===114?w=" ".repeat(N):j===99?N%2?(w=" ".repeat(N/2+.5),C=" ".repeat(N/2-.5)):(w=" ".repeat(N/2),C=w):C=" ".repeat(N)}n.delimiterStart!==!1&&!d&&p.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||d)&&p.push(" "),n.alignDelimiters!==!1&&p.push(w),p.push(v),n.alignDelimiters!==!1&&p.push(C),n.padding!==!1&&p.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&p.push("|")}y.push(n.delimiterEnd===!1?p.join("").replace(/ +$/,""):p.join(""))}return y.join(`
`)}function lne(e){return e==null?"":String(e)}function JN(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function cne(e,t,n,r){const o=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const i=n.indentLines(n.containerFlow(e,a.current()),une);return o(),i}function une(e,t,n){return">"+(n?"":" ")+e}function dne(e,t){return ZN(e,t.inConstruct,!0)&&!ZN(e,t.notInConstruct,!1)}function ZN(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function eC(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&dne(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function fne(e,t){const n=String(e);let r=n.indexOf(t),o=r,a=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++a>i&&(i=a):a=1,o=r+t.length,r=n.indexOf(t,o);return i}function mne(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hne(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pne(e,t,n,r){const o=hne(n),a=e.value||"",i=o==="`"?"GraveAccent":"Tilde";if(mne(e,n)){const d=n.enter("codeIndented"),m=n.indentLines(a,gne);return d(),m}const l=n.createTracker(r),c=o.repeat(Math.max(fne(a,o)+1,3)),u=n.enter("codeFenced");let f=l.move(c);if(e.lang){const d=n.enter(`codeFencedLang${i}`);f+=l.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${i}`);f+=l.move(" "),f+=l.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),a&&(f+=l.move(a+`
`)),f+=l.move(c),u(),f}function gne(e,t,n){return(n?"":"    ")+e}function cw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xne(e,t,n,r){const o=cw(n),a=o==='"'?"Quote":"Apostrophe",i=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+o),u+=c.move(n.safe(e.title,{before:u,after:o,...c.current()})),u+=c.move(o),l()),i(),u}function yne(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function tu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function mm(e,t,n){const r=sl(e),o=sl(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}z4.peek=vne;function z4(e,t,n,r){const o=yne(n),a=n.enter("emphasis"),i=n.createTracker(r),l=i.move(o);let c=i.move(n.containerPhrasing(e,{after:o,before:l,...i.current()}));const u=c.charCodeAt(0),f=mm(r.before.charCodeAt(r.before.length-1),u,o);f.inside&&(c=tu(u)+c.slice(1));const d=c.charCodeAt(c.length-1),m=mm(r.after.charCodeAt(0),d,o);m.inside&&(c=c.slice(0,-1)+tu(d));const h=i.move(o);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},l+c+h}function vne(e,t,n){return n.options.emphasis||"*"}function wne(e,t){let n=!1;return iw(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,py}),!!((!e.depth||e.depth<3)&&ew(e)&&(t.options.setext||n))}function bne(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(wne(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),m=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),f(),m+`
`+(o===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const i="#".repeat(o),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(i+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=tu(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),c(),l(),u}V4.peek=jne;function V4(e){return e.value||""}function jne(){return"<"}B4.peek=Nne;function B4(e,t,n,r){const o=cw(n),a=o==='"'?"Quote":"Apostrophe",i=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+o),u+=c.move(n.safe(e.title,{before:u,after:o,...c.current()})),u+=c.move(o),l()),u+=c.move(")"),i(),u}function Nne(){return"!"}U4.peek=Cne;function U4(e,t,n,r){const o=e.referenceType,a=n.enter("imageReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const f=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=f,a(),o==="full"||!u||u!==d?c+=l.move(d+"]"):o==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Cne(){return"!"}H4.peek=Sne;function H4(e,t,n){let r=e.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const i=n.unsafe[a],l=n.compilePattern(i);let c;if(i.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return o+r+o}function Sne(){return"`"}function W4(e,t){const n=ew(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}K4.peek=kne;function K4(e,t,n,r){const o=cw(n),a=o==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let l,c;if(W4(e,n)){const f=n.stack;n.stack=[],l=n.enter("autolink");let d=i.move("<");return d+=i.move(n.containerPhrasing(e,{before:d,after:">",...i.current()})),d+=i.move(">"),l(),n.stack=f,d}l=n.enter("link"),c=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(c=n.enter("destinationRaw"),u+=i.move(n.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=i.move(" "+o),u+=i.move(n.safe(e.title,{before:u,after:o,...i.current()})),u+=i.move(o),c()),u+=i.move(")"),l(),u}function kne(e,t,n){return W4(e,n)?"<":"["}q4.peek=Ene;function q4(e,t,n,r){const o=e.referenceType,a=n.enter("linkReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const f=n.stack;n.stack=[],i=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=f,a(),o==="full"||!u||u!==d?c+=l.move(d+"]"):o==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Ene(){return"["}function uw(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Pne(e){const t=uw(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Mne(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Y4(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Rne(e,t,n,r){const o=n.enter("list"),a=n.bulletCurrent;let i=e.ordered?Mne(n):uw(n);const l=e.ordered?i==="."?")":".":Pne(n);let c=t&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Y4(n)===i&&f){let d=-1;for(;++d<e.children.length;){const m=e.children[d];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=l),n.bulletCurrent=i;const u=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=a,o(),u}function Tne(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ane(e,t,n,r){const o=Tne(n);let a=n.bulletCurrent||uw(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let i=a.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(i=Math.ceil(i/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(i-a.length)),l.shift(i);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),f);return c(),u;function f(d,m,h){return m?(h?"":" ".repeat(i))+d:(h?a:a+" ".repeat(i-a.length))+d}}function _ne(e,t,n,r){const o=n.enter("paragraph"),a=n.enter("phrasing"),i=n.containerPhrasing(e,r);return a(),o(),i}const Ine=Uh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Dne(e,t,n,r){return(e.children.some(function(i){return Ine(i)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Lne(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}G4.peek=One;function G4(e,t,n,r){const o=Lne(n),a=n.enter("strong"),i=n.createTracker(r),l=i.move(o+o);let c=i.move(n.containerPhrasing(e,{after:o,before:l,...i.current()}));const u=c.charCodeAt(0),f=mm(r.before.charCodeAt(r.before.length-1),u,o);f.inside&&(c=tu(u)+c.slice(1));const d=c.charCodeAt(c.length-1),m=mm(r.after.charCodeAt(0),d,o);m.inside&&(c=c.slice(0,-1)+tu(d));const h=i.move(o+o);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},l+c+h}function One(e,t,n){return n.options.strong||"*"}function $ne(e,t,n,r){return n.safe(e.value,r)}function Fne(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function zne(e,t,n){const r=(Y4(n)+(n.options.ruleSpaces?" ":"")).repeat(Fne(n));return n.options.ruleSpaces?r.slice(0,-1):r}const X4={blockquote:cne,break:eC,code:pne,definition:xne,emphasis:z4,hardBreak:eC,heading:bne,html:V4,image:B4,imageReference:U4,inlineCode:H4,link:K4,linkReference:q4,list:Rne,listItem:Ane,paragraph:_ne,root:Dne,strong:G4,text:$ne,thematicBreak:zne};function Vne(){return{enter:{table:Bne,tableData:tC,tableHeader:tC,tableRow:Hne},exit:{codeText:Wne,table:Une,tableData:Cg,tableHeader:Cg,tableRow:Cg}}}function Bne(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Une(e){this.exit(e),this.data.inTable=void 0}function Hne(e){this.enter({type:"tableRow",children:[]},e)}function Cg(e){this.exit(e)}function tC(e){this.enter({type:"tableCell",children:[]},e)}function Wne(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Kne));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Kne(e,t){return t==="|"?t:e}function qne(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:i,tableCell:c,tableRow:l}};function i(h,y,g,b){return u(f(h,g,b),h.align)}function l(h,y,g,b){const p=d(h,g,b),v=u([p]);return v.slice(0,v.indexOf(`
`))}function c(h,y,g,b){const p=g.enter("tableCell"),v=g.enter("phrasing"),w=g.containerPhrasing(h,{...b,before:a,after:a});return v(),p(),w}function u(h,y){return ine(h,{align:y,alignDelimiters:r,padding:n,stringLength:o})}function f(h,y,g){const b=h.children;let p=-1;const v=[],w=y.enter("table");for(;++p<b.length;)v[p]=d(b[p],y,g);return w(),v}function d(h,y,g){const b=h.children;let p=-1;const v=[],w=y.enter("tableRow");for(;++p<b.length;)v[p]=c(b[p],h,y,g);return w(),v}function m(h,y,g){let b=X4.inlineCode(h,y,g);return g.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Yne(){return{exit:{taskListCheckValueChecked:nC,taskListCheckValueUnchecked:nC,paragraph:Xne}}}function Gne(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Qne}}}function nC(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Xne(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let a=-1,i;for(;++a<o.length;){const l=o[a];if(l.type==="paragraph"){i=l;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Qne(e,t,n,r){const o=e.children[0],a=typeof e.checked=="boolean"&&o&&o.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(i);let c=X4.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+i}}function Jne(){return[Rte(),Qte(),tne(),Vne(),Yne()]}function Zne(e){return{extensions:[Tte(),Jte(e),nne(),qne(e),Gne()]}}const ere={tokenize:are,partial:!0},Q4={tokenize:ire,partial:!0},J4={tokenize:lre,partial:!0},Z4={tokenize:cre,partial:!0},tre={tokenize:ure,partial:!0},eI={name:"wwwAutolink",tokenize:sre,previous:nI},tI={name:"protocolAutolink",tokenize:ore,previous:rI},qs={name:"emailAutolink",tokenize:rre,previous:sI},ys={};function nre(){return{text:ys}}let Zo=48;for(;Zo<123;)ys[Zo]=qs,Zo++,Zo===58?Zo=65:Zo===91&&(Zo=97);ys[43]=qs;ys[45]=qs;ys[46]=qs;ys[95]=qs;ys[72]=[qs,tI];ys[104]=[qs,tI];ys[87]=[qs,eI];ys[119]=[qs,eI];function rre(e,t,n){const r=this;let o,a;return i;function i(d){return!vy(d)||!sI.call(r,r.previous)||dw(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(d))}function l(d){return vy(d)?(e.consume(d),l):d===64?(e.consume(d),c):n(d)}function c(d){return d===46?e.check(tre,f,u)(d):d===45||d===95||rn(d)?(a=!0,e.consume(d),c):f(d)}function u(d){return e.consume(d),o=!0,c}function f(d){return a&&o&&pn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function sre(e,t,n){const r=this;return o;function o(i){return i!==87&&i!==119||!nI.call(r,r.previous)||dw(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ere,e.attempt(Q4,e.attempt(J4,a),n),n)(i))}function a(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}}function ore(e,t,n){const r=this;let o="",a=!1;return i;function i(d){return(d===72||d===104)&&rI.call(r,r.previous)&&!dw(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(d),e.consume(d),l):n(d)}function l(d){if(pn(d)&&o.length<5)return o+=String.fromCodePoint(d),e.consume(d),l;if(d===58){const m=o.toLowerCase();if(m==="http"||m==="https")return e.consume(d),c}return n(d)}function c(d){return d===47?(e.consume(d),a?u:(a=!0,c)):n(d)}function u(d){return d===null||um(d)||Ze(d)||Da(d)||zh(d)?n(d):e.attempt(Q4,e.attempt(J4,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function are(e,t,n){let r=0;return o;function o(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),o):i===46&&r===3?(e.consume(i),a):n(i)}function a(i){return i===null?n(i):t(i)}}function ire(e,t,n){let r,o,a;return i;function i(u){return u===46||u===95?e.check(Z4,c,l)(u):u===null||Ze(u)||Da(u)||u!==45&&zh(u)?c(u):(a=!0,e.consume(u),i)}function l(u){return u===95?r=!0:(o=r,r=void 0),e.consume(u),i}function c(u){return o||r||!a?n(u):t(u)}}function lre(e,t){let n=0,r=0;return o;function o(i){return i===40?(n++,e.consume(i),o):i===41&&r<n?a(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(Z4,t,a)(i):i===null||Ze(i)||Da(i)?t(i):(e.consume(i),o)}function a(i){return i===41&&r++,e.consume(i),o}}function cre(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),o):l===60||l===null||Ze(l)||Da(l)?t(l):n(l)}function o(l){return l===null||l===40||l===91||Ze(l)||Da(l)?t(l):r(l)}function a(l){return pn(l)?i(l):n(l)}function i(l){return l===59?(e.consume(l),r):pn(l)?(e.consume(l),i):n(l)}}function ure(e,t,n){return r;function r(a){return e.consume(a),o}function o(a){return rn(a)?n(a):t(a)}}function nI(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ze(e)}function rI(e){return!pn(e)}function sI(e){return!(e===47||vy(e))}function vy(e){return e===43||e===45||e===46||e===95||rn(e)}function dw(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const dre={tokenize:vre,partial:!0};function fre(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:gre,continuation:{tokenize:xre},exit:yre}},text:{91:{name:"gfmFootnoteCall",tokenize:pre},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:mre,resolveTo:hre}}}}function mre(e,t,n){const r=this;let o=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;o--;){const c=r.events[o][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!i||!i._balanced)return n(c);const u=Ar(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function hre(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function pre(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,i;return l;function l(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(a>999||d===93&&!i||d===null||d===91||Ze(d))return n(d);if(d===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return o.includes(Ar(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ze(d)||(i=!0),a++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),a++,u):u(d)}}function gre(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,i=0,l;return c;function c(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(y)}function f(y){if(i>999||y===93&&!l||y===null||y===91||Ze(y))return n(y);if(y===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=Ar(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Ze(y)||(l=!0),i++,e.consume(y),y===92?d:f}function d(y){return y===91||y===92||y===93?(e.consume(y),i++,f):f(y)}function m(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),o.includes(a)||o.push(a),We(e,h,"gfmFootnoteDefinitionWhitespace")):n(y)}function h(y){return t(y)}}function xre(e,t,n){return e.check($u,t,e.attempt(dre,t,n))}function yre(e){e.exit("gfmFootnoteDefinition")}function vre(e,t,n){const r=this;return We(e,o,"gfmFootnoteDefinitionIndent",5);function o(a){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(a):n(a)}}function wre(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(i,l){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},d={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},m=[["enter",f,l],["enter",i[u][1],l],["exit",i[u][1],l],["enter",d,l]],h=l.parser.constructs.insideSpan.null;h&&qn(m,m.length,0,Vh(h,i.slice(u+1,c),l)),qn(m,m.length,0,[["exit",d,l],["enter",i[c][1],l],["exit",i[c][1],l],["exit",f,l]]),qn(i,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function a(i,l,c){const u=this.previous,f=this.events;let d=0;return m;function m(y){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(y):(i.enter("strikethroughSequenceTemporary"),h(y))}function h(y){const g=sl(u);if(y===126)return d>1?c(y):(i.consume(y),d++,h);if(d<2&&!n)return c(y);const b=i.exit("strikethroughSequenceTemporary"),p=sl(y);return b._open=!p||p===2&&!!g,b._close=!g||g===2&&!!p,l(y)}}}class bre{constructor(){this.map=[]}add(t,n,r){jre(this,t,n,r)}consume(t){if(this.map.sort(function(a,i){return a[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const a of o)t.push(a);o=r.pop()}this.map.length=0}}function jre(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function Nre(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Cre(){return{flow:{null:{name:"table",tokenize:Sre,resolveAll:kre}}}}function Sre(e,t,n){const r=this;let o=0,a=0,i;return l;function l(E){let k=r.events.length-1;for(;k>-1;){const R=r.events[k][1].type;if(R==="lineEnding"||R==="linePrefix")k--;else break}const T=k>-1?r.events[k][1].type:null,D=T==="tableHead"||T==="tableRow"?j:c;return D===j&&r.parser.lazy[r.now().line]?n(E):D(E)}function c(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(i=!0,a+=1),f(E)}function f(E){return E===null?n(E):Ae(E)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),h):n(E):Ve(E)?We(e,f,"whitespace")(E):(a+=1,i&&(i=!1,o+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),i=!0,f):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||Ze(E)?(e.exit("data"),f(E)):(e.consume(E),E===92?m:d)}function m(E){return E===92||E===124?(e.consume(E),d):d(E)}function h(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),i=!1,Ve(E)?We(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):y(E))}function y(E){return E===45||E===58?b(E):E===124?(i=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),g):N(E)}function g(E){return Ve(E)?We(e,b,"whitespace")(E):b(E)}function b(E){return E===58?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),p):E===45?(a+=1,p(E)):E===null||Ae(E)?C(E):N(E)}function p(E){return E===45?(e.enter("tableDelimiterFiller"),v(E)):N(E)}function v(E){return E===45?(e.consume(E),v):E===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return Ve(E)?We(e,C,"whitespace")(E):C(E)}function C(E){return E===124?y(E):E===null||Ae(E)?!i||o!==a?N(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):N(E)}function N(E){return n(E)}function j(E){return e.enter("tableRow"),S(E)}function S(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),S):E===null||Ae(E)?(e.exit("tableRow"),t(E)):Ve(E)?We(e,S,"whitespace")(E):(e.enter("data"),P(E))}function P(E){return E===null||E===124||Ze(E)?(e.exit("data"),S(E)):(e.consume(E),E===92?M:P)}function M(E){return E===92||E===124?(e.consume(E),P):P(E)}}function kre(e,t){let n=-1,r=!0,o=0,a=[0,0,0,0],i=[0,0,0,0],l=!1,c=0,u,f,d;const m=new bre;for(;++n<e.length;){const h=e[n],y=h[1];h[0]==="enter"?y.type==="tableHead"?(l=!1,c!==0&&(rC(m,t,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(n,0,[["enter",u,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],i=[0,n+1,0,0],l&&(l=!1,f={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(n,0,[["enter",f,t]])),o=y.type==="tableDelimiterRow"?2:f?3:1):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(a[1]!==0&&(i[0]=i[1],d=Ad(m,t,a,o,void 0,d),a=[0,0,0,0]),i[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(i[0]=i[1],d=Ad(m,t,a,o,void 0,d)),a=i,i=[a[1],n,0,0])):y.type==="tableHead"?(l=!0,c=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(c=n,a[1]!==0?(i[0]=i[1],d=Ad(m,t,a,o,n,d)):i[1]!==0&&(d=Ad(m,t,i,o,n,d)),o=0):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(i[3]=n)}for(c!==0&&rC(m,t,c,u,f),m.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Nre(t.events,n))}return e}function Ad(e,t,n,r,o,a){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},Qa(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=Qa(t.events,n[1]);if(a={type:i,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Qa(t.events,n[2]),f=Qa(t.events,n[3]),d={type:l,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const m=t.events[n[2]],h=t.events[n[3]];if(m[1].end=Object.assign({},h[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,g=n[3]-n[2]-1;e.add(y,g,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return o!==void 0&&(a.end=Object.assign({},Qa(t.events,o)),e.add(o,0,[["exit",a,t]]),a=void 0),a}function rC(e,t,n,r,o){const a=[],i=Qa(t.events,n);o&&(o.end=Object.assign({},i),a.push(["exit",o,t])),r.end=Object.assign({},i),a.push(["exit",r,t]),e.add(n+1,0,a)}function Qa(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Ere={name:"tasklistCheck",tokenize:Mre};function Pre(){return{text:{91:Ere}}}function Mre(e,t,n){const r=this;return o;function o(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Ze(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),i):n(c)}function i(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return Ae(c)?t(c):Ve(c)?e.check({tokenize:Rre},t,n)(c):n(c)}}function Rre(e,t,n){return We(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function Tre(e){return h4([nre(),fre(),wre(e),Cre(),Pre()])}const Are={};function _re(e){const t=this,n=e||Are,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(Tre(n)),a.push(Jne()),i.push(Zne(n))}function Ire(e){if(e.length>300)return{isError:!1,errorType:""};const t=[{pattern:/^error.*404.*not found/i,type:"Not Found (404)"},{pattern:/^error.*503.*service unavailable/i,type:"Service Unavailable (503)"},{pattern:/^error.*500.*internal server/i,type:"Internal Server Error (500)"},{pattern:/^chat api error \d+/i,type:"API Error"},{pattern:/^connection refused/i,type:"Connection Refused"},{pattern:/^error: failed to get response$/i,type:"No Response"}];for(const{pattern:n,type:r}of t)if(n.test(e.trim()))return{isError:!0,errorType:r};return{isError:!1,errorType:""}}function Dre(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof e=="object")try{return JSON.stringify(e,null,2)}catch{return"[Object]"}return String(e)}function Lre({role:e,content:t,isStreaming:n,timestamp:r}){const[o,a]=x.useState(!1),i=Dre(t),l=e==="assistant",{isError:c,errorType:u}=l?Ire(i):{isError:!1,errorType:""},f=async()=>{await navigator.clipboard.writeText(i),a(!0),setTimeout(()=>a(!1),2e3)};return s.jsxs("div",{className:J("group flex gap-3 py-4 px-4",l?"bg-muted/30":"bg-background",c&&"bg-destructive/10 border-l-2 border-destructive"),children:[s.jsx("div",{className:J("flex-shrink-0 h-8 w-8 rounded-lg flex items-center justify-center",c?"bg-destructive/20":l?"bg-agent/20":"bg-primary/20"),children:c?s.jsx(Dc,{className:"h-4 w-4 text-destructive"}):l?s.jsx(ln,{className:"h-4 w-4 text-agent"}):s.jsx(m2,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:J("text-sm font-medium",c?"text-destructive":"text-foreground"),children:c?`Error: ${u}`:l?"Agent":"You"}),r&&s.jsx("span",{className:"text-xs text-muted-foreground",children:r.toLocaleTimeString()}),n&&!c&&s.jsxs("span",{className:"flex items-center gap-1 text-xs text-agent",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-agent animate-pulse"}),"Generating..."]})]}),s.jsxs("div",{className:J("prose prose-sm dark:prose-invert max-w-none","prose-headings:text-foreground prose-p:text-foreground/90","prose-strong:text-foreground prose-code:text-primary prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded","prose-pre:bg-muted prose-pre:border prose-pre:border-border","prose-ul:text-foreground/90 prose-ol:text-foreground/90 prose-li:text-foreground/90","prose-a:text-primary prose-a:underline",c&&"prose-p:text-destructive/80 prose-headings:text-destructive"),children:[s.jsx(wte,{remarkPlugins:[_re],components:{p:({children:d})=>s.jsx("p",{className:"leading-relaxed mb-2 last:mb-0",children:d}),ul:({children:d})=>s.jsx("ul",{className:"list-disc list-inside mb-2 space-y-0.5",children:d}),ol:({children:d})=>s.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-0.5",children:d}),li:({children:d})=>s.jsx("li",{className:"leading-relaxed",children:d}),h1:({children:d})=>s.jsx("h1",{className:"text-xl font-bold mb-2 mt-3 first:mt-0",children:d}),h2:({children:d})=>s.jsx("h2",{className:"text-lg font-bold mb-2 mt-2 first:mt-0",children:d}),h3:({children:d})=>s.jsx("h3",{className:"text-base font-semibold mb-1.5 mt-2 first:mt-0",children:d}),strong:({children:d})=>s.jsx("strong",{className:"font-bold",children:d}),em:({children:d})=>s.jsx("em",{className:"italic",children:d}),code:({children:d,className:m})=>(m==null?void 0:m.includes("language-"))?s.jsx("code",{className:J("block overflow-x-auto p-2 rounded bg-muted",m),children:d}):s.jsx("code",{className:"text-sm bg-muted px-1 py-0.5 rounded",children:d}),pre:({children:d})=>s.jsx("pre",{className:"overflow-x-auto mb-2 rounded border border-border",children:d}),blockquote:({children:d})=>s.jsx("blockquote",{className:"border-l-2 border-primary pl-4 italic my-2",children:d}),hr:()=>s.jsx("hr",{className:"my-3 border-border"})},children:i}),n&&!c&&s.jsx("span",{className:"inline-block w-2 h-4 ml-0.5 bg-agent/60 animate-pulse"})]}),c&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Check the Pods tab for more diagnostics information."}),i&&!n&&s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity pt-2",children:s.jsx(G,{variant:"ghost",size:"sm",onClick:f,className:"h-7 px-2 text-xs text-muted-foreground hover:text-foreground",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Fr,{className:"h-3 w-3 mr-1"}),"Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"h-3 w-3 mr-1"}),"Copy"]})})})]})]})}function Ore({steps:e,isActive:t}){return e.length===0?null:s.jsxs("div",{className:"px-4 py-3 bg-muted/20 border-b border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Reasoning"}),t&&s.jsx(Os,{className:"h-3 w-3 animate-spin text-agent"})]}),s.jsx("div",{className:"space-y-1.5",children:e.map((n,r)=>{const o=r===e.length-1,a=n.completed||!o||!t,i=n.action==="tool_call"?Do:TO,l=n.action==="tool_call"?"Tool":"Delegate";return s.jsxs("div",{className:J("flex items-center gap-2 text-xs",a?"text-muted-foreground":"text-foreground"),children:[s.jsx("div",{className:J("h-5 w-5 rounded flex items-center justify-center shrink-0",a?"bg-muted":"bg-agent/20"),children:a?s.jsx(jv,{className:"h-3 w-3 text-green-500"}):s.jsx(i,{className:J("h-3 w-3",t?"text-agent animate-pulse":"text-muted-foreground")})}),s.jsxs("span",{className:"font-mono",children:["Step ",n.step,"/",n.max_steps]}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:J("font-medium",n.action==="tool_call"?"text-blue-400":"text-purple-400"),children:l}),s.jsx("span",{className:"font-mono text-foreground/80 truncate",children:n.target})]},`${n.step}-${n.target}`)})})]})}async function $re(e,t,n){var C,N,j,S,P,M,E;const{namespace:r,model:o="default",temperature:a=.7,maxTokens:i,sessionId:l,seed:c,stream:u=!0,signal:f,onChunk:d,onProgress:m,onDone:h,onError:y}=n,g=ke.getConfig();if(!g.baseUrl){y(new Error("Kubernetes API not configured. Please set the base URL."));return}const b=r||g.namespace,p=`${g.baseUrl}/api/v1/namespaces/${b}/services/${e}:8000/proxy/v1/chat/completions`,v=JSON.stringify({model:o,messages:t,stream:u,temperature:a,...i&&{max_tokens:i},...l&&{session_id:l},...c!==void 0&&{seed:c}}),w={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","bypass-tunnel-reminder":"1"};u&&(w.Accept="text/event-stream",w["Cache-Control"]="no-cache",w.Connection="keep-alive");try{console.log(`[agentClient] POST ${p} (stream=${u})`);const k=await fetch(p,{method:"POST",headers:w,body:v,signal:f});if(!k.ok){const _=await k.text();throw new Error(`Chat API error ${k.status}: ${_}`)}if(!u){const _=await k.json();console.log("[agentClient] Non-streaming response:",JSON.stringify(_).substring(0,500));const I=(j=(N=(C=_.choices)==null?void 0:C[0])==null?void 0:N.message)==null?void 0:j.content;I&&d(I),h({sessionId:_.session_id});return}const T=(S=k.body)==null?void 0:S.getReader();if(!T)throw new Error("No response body for streaming");const D=new TextDecoder;let R="",$,L="";const F=()=>{let _=L;return _=_.replace(/```json\s*\{\s*\}\s*```\s*/g,""),_=_.replace(/\*\*Final Response to User:\*\*\s*/g,""),_=_.replace(/\*\*Final Response:\*\*\s*/g,""),_=_.replace(/^\s*\{\s*\}\s*/g,""),_=_.replace(/\s*\{\s*\}\s*$/g,""),_.trim()};for(;;){const{done:_,value:I}=await T.read();if(_)break;R+=D.decode(I,{stream:!0});const A=R.split(`
`);R=A.pop()||"";for(const B of A){const U=B.trim();if(!(!U||U.startsWith(":"))&&U.startsWith("data: ")){const O=U.slice(6);if(O==="[DONE]"){h({sessionId:$});return}try{const q=JSON.parse(O);q.session_id&&($=q.session_id);const ne=(E=(M=(P=q.choices)==null?void 0:P[0])==null?void 0:M.delta)==null?void 0:E.content;if(ne!=null&&ne!==""){const se=ne.trim();if(se==="{}")continue;if(se.startsWith("{"))try{const W=JSON.parse(se);if((W==null?void 0:W.type)==="progress"&&m){console.log("[agentClient] Progress block:",W),m(W);continue}}catch{}if(se==="```"||se==="```json")continue;let z=ne;if(z=z.replace(/\*\*Final Response to User:\*\*\s*/g,""),z=z.replace(/\*\*Final Response:\*\*\s*/g,""),z.trim()==="")continue;L+=z,d(z)}}catch{console.warn("[agentClient] Skipping unparseable SSE line:",U)}}}}h({sessionId:$})}catch(k){if(f!=null&&f.aborted){console.log("[agentClient] Stream aborted by user");return}console.error("[agentClient] chatCompletion error:",k),y(k instanceof Error?k:new Error(String(k)))}}function Fre(e){const{agentName:t,namespace:n,serviceName:r,model:o,temperature:a,sessionId:i,seed:l,onSessionIdReceived:c,initialMessages:u=[]}=e,[f,d]=x.useState(u),[m,h]=x.useState(!1),[y,g]=x.useState(null),b=x.useRef(null);x.useEffect(()=>{u.length>0&&f.length===0&&d(u)},[u]);const p=r||`agent-${t}`,v=()=>`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,w=x.useCallback(async j=>{if(!j.trim()||m)return;g(null),h(!0);const S={id:v(),role:"user",content:j.trim(),timestamp:new Date},P={id:v(),role:"assistant",content:"",timestamp:new Date,isStreaming:!0,progressSteps:[]};d(k=>[...k,S,P]);const M=[...f,S].map(k=>({role:k.role,content:k.content})),E=new AbortController;b.current=E;try{console.log(`[useAgentChat] Sending to service: ${p} in namespace: ${n} (stream=true)`),await $re(p,M,{namespace:n,model:o,temperature:a,sessionId:i,seed:l,stream:!0,signal:E.signal,onProgress:k=>{console.log("[useAgentChat] Progress:",k),ls.flushSync(()=>{d(T=>{const D=[...T],R=D[D.length-1];if(R.role==="assistant"){const $=(R.progressSteps||[]).map(L=>({...L,completed:!0}));R.progressSteps=[...$,{...k,type:"progress"}]}return D})})},onChunk:k=>{ls.flushSync(()=>{d(T=>{const D=[...T],R=D[D.length-1];return R.role==="assistant"&&(R.content+=k),D})})},onDone:k=>{console.log("[useAgentChat] Stream complete",k),k!=null&&k.sessionId&&c&&c(k.sessionId),d(T=>{const D=[...T],R=D[D.length-1];if(R.role==="assistant"){R.isStreaming=!1;let $=R.content;$=$.replace(/```json\s*\{\s*\}\s*```\s*/g,""),$=$.replace(/^\s*\{\s*\}\s*/g,""),$=$.replace(/\s*\{\s*\}\s*$/g,""),R.content=$.trim(),R.progressSteps&&(R.progressSteps=R.progressSteps.map(L=>({...L,completed:!0})))}return D}),h(!1),b.current=null},onError:k=>{console.error("[useAgentChat] Stream error:",k),g(k.message),d(T=>{const D=[...T],R=D[D.length-1];return R.role==="assistant"&&(R.isStreaming=!1,R.content=R.content||"Error: Failed to get response"),D}),h(!1),b.current=null}})}catch(k){if(E.signal.aborted)return;console.error("[useAgentChat] Error:",k),g(k instanceof Error?k.message:"Unknown error"),h(!1)}},[f,m,p,n,o,a,i,l,c]),C=x.useCallback(()=>{d([]),g(null)},[]),N=x.useCallback(()=>{b.current&&(b.current.abort(),b.current=null),h(!1),d(j=>{const S=[...j],P=S[S.length-1];return(P==null?void 0:P.role)==="assistant"&&P.isStreaming&&(P.isStreaming=!1),S})},[]);return{messages:f,isLoading:m,error:y,sendMessage:w,clearMessages:C,stopGeneration:N}}function zre({agent:e,sessionId:t,messages:n,onSessionChange:r,onMessagesChange:o,onNewSession:a}){const[i,l]=x.useState(""),[c,u]=x.useState(!1),[f,d]=x.useState(""),[m,h]=x.useState(!1),y=x.useRef(null),g=x.useRef(null),b=t!==""&&n.length>0,p=x.useCallback(F=>{F&&!t&&(r(F),console.log("[AgentChat] Session ID received from server:",F))},[t,r]),v=x.useCallback(()=>{if(t)return t;const F=`session-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return r(F),console.log("[AgentChat] Generated new session ID:",F),F},[t,r]),{messages:w,isLoading:C,error:N,sendMessage:j,clearMessages:S,stopGeneration:P}=Fre({agentName:e.metadata.name,namespace:e.metadata.namespace||"default",sessionId:t||void 0,seed:f?parseInt(f,10):void 0,onSessionIdReceived:p,initialMessages:n}),M=x.useCallback(async F=>{if(!(!F||!ke.isConfigured())){h(!0);try{const _=`agent-${e.metadata.name}`,I=e.metadata.namespace||"default",A=await ke.proxyServiceRequest(_,`/memory/events?session_id=${encodeURIComponent(F)}`,{method:"GET"},I);if(A.ok){const O=((await A.json()).events||[]).filter(q=>q.role==="user"||q.role==="assistant").map((q,ne)=>({id:q.id||`hist-${ne}`,role:q.role,content:typeof q.content=="string"?q.content:JSON.stringify(q.content),timestamp:q.timestamp?new Date(q.timestamp):new Date,isStreaming:!1}));O.length>0&&(o(O),console.log(`[AgentChat] Loaded ${O.length} messages from session history`))}}catch(_){console.error("[AgentChat] Failed to fetch session history:",_)}finally{h(!1)}}},[e.metadata.name,e.metadata.namespace,o]),E=x.useCallback(()=>{t&&n.length===0&&!b&&M(t)},[t,n.length,b,M]);x.useEffect(()=>{w.length>0&&w!==n&&o(w)},[w]);const k=w.length>0?w:n,T=x.useCallback(F=>{v(),j(F)},[v,j]);x.useEffect(()=>{if(g.current){const F=g.current.querySelector("[data-radix-scroll-area-viewport]");F&&(F.scrollTop=F.scrollHeight)}},[k]);const D=F=>{F.preventDefault(),i.trim()&&!C&&(T(i),l(""))},R=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),D(F))},$=()=>{t&&(navigator.clipboard.writeText(t),u(!0),setTimeout(()=>u(!1),2e3))},L=()=>{S(),a()};return s.jsxs("div",{className:"flex flex-col h-full bg-background rounded-lg border border-border overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border bg-muted/20 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(xe,{htmlFor:"session-id",className:"text-xs text-muted-foreground flex items-center gap-1 shrink-0",children:[s.jsx(bO,{className:"h-3 w-3"}),"Session"]}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx(Re,{id:"session-id",value:t,onChange:F=>!b&&r(F.target.value),onBlur:E,placeholder:b?"Session active":"Enter session ID or leave empty...",className:"h-7 text-xs font-mono bg-background",disabled:C||b||m,readOnly:b}),t&&!b&&n.length===0&&s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>M(t),className:"h-7 w-7 p-0 shrink-0",title:"Load session history",disabled:m,children:s.jsx(Nv,{className:`h-3 w-3 ${m?"animate-pulse":""}`})}),t&&s.jsx(G,{variant:"ghost",size:"sm",onClick:$,className:"h-7 w-7 p-0 shrink-0",title:"Copy session ID",children:c?s.jsx(Fr,{className:"h-3 w-3 text-green-500"}):s.jsx(Uo,{className:"h-3 w-3"})}),s.jsxs(G,{variant:"outline",size:"sm",onClick:L,className:"h-7 shrink-0 text-xs",disabled:C,children:[s.jsx(Dr,{className:"h-3 w-3 mr-1"}),"New"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(xe,{htmlFor:"seed",className:"text-xs text-muted-foreground flex items-center gap-1 shrink-0",children:[s.jsx(MO,{className:"h-3 w-3"}),"Seed"]}),s.jsx(Re,{id:"seed",type:"number",value:f,onChange:F=>d(F.target.value),placeholder:"Optional (for determinism)",className:"h-7 text-xs font-mono bg-background max-w-[200px]",disabled:C}),s.jsx("span",{className:"text-xs text-muted-foreground",children:f?"Deterministic mode":"Random responses"})]})]}),s.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-muted/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Chat with ",e.metadata.name]}),e.spec.model&&s.jsx("span",{className:"text-xs text-muted-foreground font-mono bg-muted px-1.5 py-0.5 rounded",children:e.spec.model}),k.length>0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",k.length," messages)"]})]})}),N&&s.jsxs($o,{variant:"destructive",className:"m-4 mb-0",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Fo,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:N.includes("503")||N.includes("no endpoints")?"Agent Unavailable":"Connection Error"}),s.jsx("span",{className:"text-sm opacity-90",children:N.includes("no endpoints")?"The agent pod is not ready. Check that the pod is running and healthy.":N}),s.jsx("div",{className:"flex gap-2 mt-1",children:s.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>{var F;return k.length>1&&T(((F=k[k.length-2])==null?void 0:F.content)||"")},className:"h-7 text-xs",disabled:k.length<2,children:[s.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Retry"]})})]})})]}),s.jsx(Je,{ref:g,className:"flex-1",children:k.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-12 px-4 text-center",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-agent/10 flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Start a conversation"}),s.jsxs("p",{className:"text-sm text-muted-foreground max-w-sm",children:["Send a message to ",e.metadata.name," to begin chatting. The agent uses the ",s.jsx("span",{className:"font-mono text-agent",children:e.spec.modelAPI})," model."]})]}):s.jsx("div",{className:"divide-y divide-border/50",children:k.map(F=>s.jsxs("div",{children:[F.role==="assistant"&&F.progressSteps&&F.progressSteps.length>0&&s.jsx(Ore,{steps:F.progressSteps,isActive:!!F.isStreaming&&!F.content}),s.jsx(Lre,{role:F.role,content:F.content,isStreaming:F.isStreaming,timestamp:F.timestamp})]},F.id))})}),s.jsxs("form",{onSubmit:D,className:"p-4 border-t border-border bg-muted/20",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(mr,{ref:y,value:i,onChange:F=>l(F.target.value),onKeyDown:R,placeholder:"Type a message... (Shift+Enter for new line)",className:"min-h-[44px] max-h-32 resize-none bg-background",disabled:C,rows:1}),C?s.jsx(G,{type:"button",onClick:P,variant:"destructive",size:"icon",className:"h-11 w-11 shrink-0",children:s.jsx(xO,{className:"h-5 w-5"})}):s.jsx(G,{type:"submit",disabled:!i.trim(),size:"icon",className:"h-11 w-11 shrink-0 bg-agent hover:bg-agent/90",children:s.jsx(d2,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}var fw="Progress",mw=100,[Vre]=Xt(fw),[Bre,Ure]=Vre(fw),oI=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=Hre,...i}=e;(o||o===0)&&!sC(o)&&console.error(Wre(`${o}`,"Progress"));const l=sC(o)?o:mw;r!==null&&!oC(r,l)&&console.error(Kre(`${r}`,"Progress"));const c=oC(r,l)?r:null,u=hm(c)?a(c,l):void 0;return s.jsx(Bre,{scope:n,value:c,max:l,children:s.jsx(Pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":lI(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});oI.displayName=fw;var aI="ProgressIndicator",iI=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=Ure(aI,n);return s.jsx(Pe.div,{"data-state":lI(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});iI.displayName=aI;function Hre(e,t){return`${Math.round(e/t*100)}%`}function lI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function hm(e){return typeof e=="number"}function sC(e){return hm(e)&&!isNaN(e)&&e>0}function oC(e,t){return hm(e)&&!isNaN(e)&&e<=t&&e>=0}function Wre(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${mw}\`.`}function Kre(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${mw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cI=oI,qre=iI;const wy=x.forwardRef(({className:e,value:t,...n},r)=>s.jsx(cI,{ref:r,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(qre,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wy.displayName=cI.displayName;function hw({deployment:e,className:t}){if(!e)return null;const{replicas:n=0,readyReplicas:r=0,availableReplicas:o=0,updatedReplicas:a=0,conditions:i=[]}=e,l=n>0?Math.round(a/n*100):0,c=n>0?Math.round(r/n*100):0,u=a<n&&n>0,f=(d,m)=>d==="True"?s.jsx(Z,{variant:"success",className:"text-xs",children:m}):d==="False"?s.jsx(Z,{variant:"destructive",className:"text-xs",children:m}):s.jsx(Z,{variant:"secondary",className:"text-xs",children:m});return s.jsxs(be,{className:t,children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4 text-primary"}),"Deployment Status",u&&s.jsxs(Z,{variant:"warning",className:"ml-2 text-xs",children:[s.jsx(Ge,{className:"h-3 w-3 mr-1 animate-spin"}),"Rolling Update"]})]})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold",children:n}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold text-success",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Ready"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:o}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold text-info",children:a}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Updated"})]})]}),n>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Ready Replicas"}),s.jsxs("span",{children:[r,"/",n]})]}),s.jsx(wy,{value:c,className:"h-2"})]}),u&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Update Progress"}),s.jsxs("span",{children:[a,"/",n]})]}),s.jsx(wy,{value:l,className:"h-2"})]})]}),i&&i.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Conditions"}),s.jsx("div",{className:"space-y-2",children:i.map((d,m)=>s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/50 rounded-md",children:[d.status==="True"?s.jsx(vn,{className:"h-4 w-4 text-success mt-0.5 shrink-0"}):d.status==="False"?s.jsx(st,{className:"h-4 w-4 text-destructive mt-0.5 shrink-0"}):s.jsx(cr,{className:"h-4 w-4 text-muted-foreground mt-0.5 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f(d.status,d.type),d.reason&&s.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:d.reason})]}),d.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-words",children:d.message})]})]},m))})]})]})]})}function Yre({agent:e}){var a,i,l,c,u,f,d,m,h,y,g,b,p,v,w,C,N;const{metadata:t,spec:n,status:r}=e,o=j=>{switch(j){case"Running":case"Ready":return"success";case"Pending":case"Waiting":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}};return s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(ln,{className:"h-4 w-4 text-agent"}),"General Information"]})}),s.jsxs(je,{className:"space-y-3",children:[s.jsx(Tt,{label:"Name",value:s.jsx("span",{className:"font-mono",children:t.name})}),s.jsx(Tt,{label:"Namespace",value:s.jsx("span",{className:"font-mono",children:t.namespace||"default"})}),s.jsx(Tt,{label:"Created",value:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),t.creationTimestamp?new Date(t.creationTimestamp).toLocaleString():"Unknown"]})}),s.jsx(Tt,{label:"Status",value:s.jsx(Z,{variant:o(r==null?void 0:r.phase),children:(r==null?void 0:r.phase)||"Unknown"})}),s.jsx(Tt,{label:"Ready",value:s.jsx(Z,{variant:r!=null&&r.ready?"success":"secondary",children:r!=null&&r.ready?"Yes":"No"})}),((a=n.config)==null?void 0:a.description)&&s.jsx(Tt,{label:"Description",value:n.config.description}),t.uid&&s.jsx(Tt,{label:"UID",value:s.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate block max-w-[200px]",children:t.uid})}),t.resourceVersion&&s.jsx(Tt,{label:"Resource Version",value:s.jsx("span",{className:"font-mono text-xs",children:t.resourceVersion})})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(Tr,{className:"h-4 w-4 text-agent"}),"Status Details"]})}),s.jsxs(je,{className:"space-y-3",children:[(r==null?void 0:r.endpoint)&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Cv,{className:"h-3 w-3"}),"Endpoint"]}),s.jsx("code",{className:"font-mono text-xs bg-muted px-2 py-1 rounded mt-1 block overflow-auto",children:r.endpoint})]}),(r==null?void 0:r.message)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Message"}),s.jsx("p",{className:"text-sm mt-1",children:r.message})]}),(r==null?void 0:r.linkedResources)&&Object.keys(r.linkedResources).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground mb-2 block",children:"Linked Resources"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(r.linkedResources).map(([j,S])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[j,": ",S]},j))})]}),!(r!=null&&r.endpoint)&&!(r!=null&&r.message)&&!(r!=null&&r.linkedResources)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional status information"})]})]}),(r==null?void 0:r.deployment)&&s.jsx(hw,{deployment:r.deployment,className:"md:col-span-2"}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(kt,{className:"h-4 w-4 text-modelapi"}),"Model Configuration"]})}),s.jsxs(je,{className:"space-y-3",children:[s.jsx(Tt,{label:"Model API",value:s.jsx(Z,{variant:"modelapi",children:n.modelAPI})}),s.jsx(Tt,{label:"Model",value:s.jsx("code",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:n.model||(r==null?void 0:r.model)||"Not specified"})}),((i=n.config)==null?void 0:i.reasoningLoopMaxSteps)&&s.jsx(Tt,{label:"Max Reasoning Steps",value:s.jsx("span",{className:"font-mono",children:n.config.reasoningLoopMaxSteps})}),n.waitForDependencies!==void 0&&s.jsx(Tt,{label:"Wait for Dependencies",value:s.jsx(Z,{variant:n.waitForDependencies?"success":"secondary",children:n.waitForDependencies?"Yes":"No"})}),s.jsx(Ie,{}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Instructions"}),(l=n.config)!=null&&l.instructions?s.jsx("pre",{className:"text-xs font-mono bg-muted/50 px-2 py-1 rounded block mt-1 whitespace-pre-wrap max-h-32 overflow-auto",children:n.config.instructions}):s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not configured"})]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(Wo,{className:"h-4 w-4 text-mcpserver"}),"MCP Servers"]})}),s.jsx(je,{children:n.mcpServers&&n.mcpServers.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:n.mcpServers.map(j=>s.jsx(Z,{variant:"mcpserver",children:j},j))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No MCP servers connected"})})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(ui,{className:"h-4 w-4 text-agent"}),"Memory Configuration"]})}),s.jsxs(je,{className:"space-y-3",children:[s.jsx(Tt,{label:"Memory",value:((u=(c=n.config)==null?void 0:c.memory)==null?void 0:u.enabled)!==!1?s.jsx(Z,{variant:"success",children:"Enabled"}):s.jsx(Z,{variant:"secondary",children:"Disabled"})}),((d=(f=n.config)==null?void 0:f.memory)==null?void 0:d.enabled)!==!1&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{label:"Context Limit",value:s.jsx("span",{className:"font-mono",children:((h=(m=n.config)==null?void 0:m.memory)==null?void 0:h.contextLimit)||6})}),s.jsx(Tt,{label:"Max Sessions",value:s.jsx("span",{className:"font-mono",children:((g=(y=n.config)==null?void 0:y.memory)==null?void 0:g.maxSessions)||1e3})}),s.jsx(Tt,{label:"Max Events/Session",value:s.jsx("span",{className:"font-mono",children:((p=(b=n.config)==null?void 0:b.memory)==null?void 0:p.maxSessionEvents)||500})}),((w=(v=n.config)==null?void 0:v.memory)==null?void 0:w.type)&&s.jsx(Tt,{label:"Type",value:s.jsx(Z,{variant:"outline",children:n.config.memory.type})})]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(l2,{className:"h-4 w-4 text-primary"}),"Network Settings"]})}),s.jsxs(je,{className:"space-y-3",children:[s.jsx(Tt,{label:"Expose Agent",value:(C=n.agentNetwork)!=null&&C.expose?s.jsx(Z,{variant:"success",children:"Exposed"}):s.jsx(Z,{variant:"secondary",children:"Private"})}),((N=n.agentNetwork)==null?void 0:N.access)&&n.agentNetwork.access.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Access List"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.agentNetwork.access.map(j=>s.jsx(Z,{variant:"outline",className:"text-xs",children:j},j))})]})]})]}),n.gatewayRoute&&s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),"Gateway Route"]})}),s.jsxs(je,{className:"space-y-3",children:[n.gatewayRoute.timeout&&s.jsx(Tt,{label:"Timeout",value:s.jsx("code",{className:"font-mono",children:n.gatewayRoute.timeout})}),n.gatewayRoute.retries!==void 0&&s.jsx(Tt,{label:"Retries",value:s.jsx("code",{className:"font-mono",children:n.gatewayRoute.retries})})]})]}),(()=>{var S,P;const j=((S=n.container)==null?void 0:S.env)||((P=n.config)==null?void 0:P.env)||[];return j.length>0&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base",children:["Environment Variables (",j.length,")"]})}),s.jsx(je,{children:s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:j.map((M,E)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-3 font-mono text-xs",children:M.name}),s.jsx("td",{className:"p-3 font-mono text-xs text-muted-foreground truncate max-w-[300px]",children:M.value||(M.valueFrom?"<from secret/configmap>":"-")})]},E))})]})})})]})})(),(t.labels||t.annotations)&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(mu,{className:"h-4 w-4 text-muted-foreground"}),"Labels & Annotations"]})}),s.jsxs(je,{className:"grid gap-4 md:grid-cols-2",children:[t.labels&&Object.keys(t.labels).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Labels"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.labels).map(([j,S])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[j,": ",S]},j))})]}),t.annotations&&Object.keys(t.annotations).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Annotations"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.annotations).map(([j,S])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[j,": ",S.length>30?`${S.substring(0,30)}...`:S]},j))})]})]})]})]})}function Tt({label:e,value:t}){return s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("span",{className:"text-sm text-muted-foreground shrink-0",children:e}),s.jsx("span",{className:"text-sm font-medium text-right",children:t})]})}function _d({className:e,...t}){return s.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function Gre({agent:e}){var w,C;const[t,n]=x.useState([]),[r,o]=x.useState([]),[a,i]=x.useState(!1),[l,c]=x.useState(null),[u,f]=x.useState(null),d=((C=(w=e.spec.config)==null?void 0:w.memory)==null?void 0:C.enabled)!==!1,m=`agent-${e.metadata.name}`,h=e.metadata.namespace||"default",y=x.useCallback(async()=>{if(!ke.isConfigured()){c("Kubernetes client not configured");return}i(!0),c(null);try{const[N,j]=await Promise.all([ke.proxyServiceRequest(m,"/memory/events",{method:"GET"},h),ke.proxyServiceRequest(m,"/memory/sessions",{method:"GET"},h)]);if(!N.ok){const M=await N.text();throw new Error(`Events fetch failed: ${N.status} - ${M}`)}if(!j.ok){const M=await j.text();throw new Error(`Sessions fetch failed: ${j.status} - ${M}`)}const S=await N.json(),P=await j.json();n(S.events||[]),o(P.sessions||[]),f(new Date)}catch(N){console.error("[AgentMemory] Fetch error:",N);const j=N instanceof Error?N.message:"Failed to fetch memory";j.includes("404")||j.includes("not found")?c("Memory endpoints not available. Ensure AGENT_DEBUG_MEMORY_ENDPOINTS=true is set."):j.includes("503")||j.includes("no endpoints")?c("Agent service unavailable. Check that the pod is running."):c(j)}finally{i(!1)}},[ke,m,h]);x.useEffect(()=>{d&&y()},[y,d]);const g=N=>N.role==="user"?s.jsx(m2,{className:"h-4 w-4 text-blue-500"}):N.role==="assistant"?s.jsx(ln,{className:"h-4 w-4 text-agent"}):N.type==="tool_call"||N.tool_name?s.jsx(Do,{className:"h-4 w-4 text-mcpserver"}):s.jsx(fi,{className:"h-4 w-4 text-muted-foreground"}),b=N=>N.role==="user"?s.jsx(Z,{variant:"outline",className:"text-xs",children:"User"}):N.role==="assistant"?s.jsx(Z,{variant:"agent",className:"text-xs",children:"Assistant"}):N.type==="tool_call"||N.tool_name?s.jsx(Z,{variant:"mcpserver",className:"text-xs",children:"Tool"}):s.jsx(Z,{variant:"secondary",className:"text-xs",children:N.type||"Event"}),p=N=>{if(!N)return"";try{return new Date(N).toLocaleString()}catch{return N}},v=N=>{if(N==null)return"";if(typeof N=="string")return N;if(typeof N=="object")try{return JSON.stringify(N,null,2)}catch{return"[Object]"}return String(N)};return d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-agent"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Agent Memory"}),u&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",u.toLocaleTimeString()]})]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:y,disabled:a,children:[s.jsx(Ge,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),l&&s.jsxs($o,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Fo,{children:l})]}),s.jsxs(Ba,{defaultValue:"events",className:"space-y-4",children:[s.jsxs(Qo,{children:[s.jsxs(ct,{value:"events",className:"gap-2",children:[s.jsx(fi,{className:"h-4 w-4"}),"Events (",t.length,")"]}),s.jsxs(ct,{value:"sessions",className:"gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),"Sessions (",r.length,")"]})]}),s.jsx(xt,{value:"events",children:s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(fi,{className:"h-4 w-4"}),"Memory Events"]})}),s.jsx(je,{children:a?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx(_d,{className:"h-8 w-8 rounded"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(_d,{className:"h-4 w-24"}),s.jsx(_d,{className:"h-12 w-full"})]})]},N))}):t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ui,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No memory events recorded"}),s.jsx("p",{className:"text-xs mt-1",children:"Events will appear here after agent interactions"})]}):s.jsx(Je,{className:"h-[400px] pr-4",children:s.jsx("div",{className:"space-y-3",children:[...t].reverse().map((N,j)=>s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsx("div",{className:"shrink-0 mt-1",children:g(N)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b(N),N.session_id&&s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:["Session: ",N.session_id.slice(0,8),"..."]}),N.timestamp&&s.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:p(N.timestamp)})]}),N.content&&s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words font-mono",children:v(N.content)}),N.tool_name&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs font-mono font-medium",children:N.tool_name})]}),N.tool_input&&s.jsx("pre",{className:"text-xs bg-background/50 p-2 rounded overflow-auto max-h-24",children:typeof N.tool_input=="string"?N.tool_input:JSON.stringify(N.tool_input,null,2)}),N.tool_output&&s.jsxs("pre",{className:"text-xs bg-background/50 p-2 rounded overflow-auto max-h-24 text-muted-foreground",children:[" ",typeof N.tool_output=="string"?N.tool_output:JSON.stringify(N.tool_output,null,2)]})]})]})]},N.id||j))})})})]})}),s.jsx(xt,{value:"sessions",children:s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),"Memory Sessions"]})}),s.jsx(je,{children:a?s.jsx("div",{className:"space-y-2",children:[1,2,3].map(N=>s.jsx(_d,{className:"h-12 w-full"},N))}):r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No sessions recorded"}),s.jsx("p",{className:"text-xs mt-1",children:"Sessions will appear here after agent interactions"})]}):s.jsx(Je,{className:"h-[400px] pr-4",children:s.jsx("div",{className:"space-y-2",children:r.map((N,j)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded bg-primary/10 flex items-center justify-center",children:s.jsx(fi,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-mono font-medium",children:N}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(S=>S.session_id===N).length," events"]})]})]}),s.jsx(Z,{variant:"outline",className:"text-xs",children:"Session"})]},N||j))})})})]})})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Agent Memory"}),s.jsx(Z,{variant:"secondary",children:"Disabled"})]}),s.jsx(be,{children:s.jsx(je,{className:"py-12",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(ui,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"font-medium",children:"Memory is disabled for this agent"}),s.jsx("p",{className:"text-sm mt-1",children:"Enable memory in the agent configuration to store conversation history and events."})]})})})]})}const Wh=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:J("w-full caption-bottom text-sm",e),...t})}));Wh.displayName="Table";const Kh=x.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:J("[&_tr]:border-b",e),...t}));Kh.displayName="TableHeader";const qh=x.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:J("[&_tr:last-child]:border-0",e),...t}));qh.displayName="TableBody";const Xre=x.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Xre.displayName="TableFooter";const La=x.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:J("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));La.displayName="TableRow";const Nt=x.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Nt.displayName="TableHead";const Ct=x.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ct.displayName="TableCell";const Qre=x.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:J("mt-4 text-sm text-muted-foreground",e),...t}));Qre.displayName="TableCaption";function Jre(e){var o;const t=((o=e.status)==null?void 0:o.containerStatuses)||[],n=t.filter(a=>a.ready).length,r=t.length;return{ready:n,total:r}}function aC(e){var n;return(((n=e.status)==null?void 0:n.containerStatuses)||[]).reduce((r,o)=>r+(o.restartCount||0),0)}function Zre(e){if(!e)return"Unknown";const t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/6e4),a=Math.floor(o/60),i=Math.floor(a/24);return i>0?`${i}d`:a>0?`${a}h`:o>0?`${o}m`:"<1m"}function ese(e){var a,i,l,c;const t=((a=e.status)==null?void 0:a.phase)||"Unknown",n=e.metadata.deletionTimestamp,r=((i=e.status)==null?void 0:i.containerStatuses)||[];if(n)return{status:"Terminating",isRolling:!0,isTerminating:!0};const o=r.some(u=>!u.ready);if(t==="Running"&&o)return{status:"ContainerNotReady",isRolling:!0,isTerminating:!1};if(t==="Pending"){const u=r.find(d=>{var m;return(m=d.state)==null?void 0:m.waiting});return{status:((c=(l=u==null?void 0:u.state)==null?void 0:l.waiting)==null?void 0:c.reason)||"Pending",isRolling:!0,isTerminating:!1}}return{status:t,isRolling:!1,isTerminating:!1}}function tse(e,t,n){if(n)return s.jsx(Ls,{className:"h-4 w-4 text-orange-500"});if(t)return s.jsx(Ge,{className:"h-4 w-4 text-yellow-500 animate-spin"});switch(e==null?void 0:e.toLowerCase()){case"running":return s.jsx(vn,{className:"h-4 w-4 text-green-500"});case"pending":return s.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"succeeded":return s.jsx(vn,{className:"h-4 w-4 text-blue-500"});case"failed":return s.jsx(Ls,{className:"h-4 w-4 text-red-500"});default:return s.jsx(st,{className:"h-4 w-4 text-muted-foreground"})}}function nse(e,t,n){if(n)return"text-orange-500";if(t)return"text-yellow-500";switch(e==null?void 0:e.toLowerCase()){case"running":return"text-green-500";case"pending":return"text-yellow-500";case"succeeded":return"text-blue-500";case"failed":return"text-red-500";default:return"text-muted-foreground"}}function rse(e){switch(e){case"Agent":return s.jsx(Wt,{className:"h-4 w-4 text-agent"});case"ModelAPI":return s.jsx(_f,{className:"h-4 w-4 text-modelapi"});case"MCPServer":return s.jsx(kt,{className:"h-4 w-4 text-mcpserver"})}}function sse({agent:e}){var w,C,N,j,S;const t=Vt(),{pods:n,deployments:r,services:o,modelAPIs:a,mcpServers:i}=ot(),l=e.spec.modelAPI;a.find(P=>P.metadata.name===l);const c=e.spec.mcpServers||[];i.filter(P=>c.includes(P.metadata.name));const u=(P,M)=>n.filter(E=>{const k=E.metadata.labels||{},T=E.metadata.name.toLowerCase(),D=M.toLowerCase();return k[P.toLowerCase()]===M?!0:P==="agent"?T.includes(`agent-${D}`)||k.agent===M:P==="modelapi"?T.includes(`modelapi-${D}`)||k.modelapi===M:P==="mcpserver"?T.includes(`mcpserver-${D}`)||k.mcpserver===M:!1}),f=[],d=u("agent",e.metadata.name);if(f.push({resourceType:"Agent",resourceName:e.metadata.name,pods:d}),l){const P=u("modelapi",l);f.push({resourceType:"ModelAPI",resourceName:l,pods:P})}c.forEach(P=>{const M=u("mcpserver",P);f.push({resourceType:"MCPServer",resourceName:P,pods:M})});const m=f.flatMap(P=>P.pods),h=m.length,y=m.filter(P=>{var M;return((M=P.status)==null?void 0:M.phase)==="Running"}).length,g=m.some(P=>{var M;return((M=P.status)==null?void 0:M.phase)!=="Running"||aC(P)>0}),b=r.find(P=>{var M;return P.metadata.name.includes(`agent-${e.metadata.name}`)||((M=P.metadata.labels)==null?void 0:M.agent)===e.metadata.name}),p=o.find(P=>{var M;return P.metadata.name.includes(`agent-${e.metadata.name}`)||((M=P.metadata.labels)==null?void 0:M.agent)===e.metadata.name}),v=P=>{const M=e.metadata.namespace||"default",E=encodeURIComponent(`/agents/${M}/${e.metadata.name}?tab=pods`);t(`/pods/${P.metadata.namespace||"default"}/${P.metadata.name}?tab=logs&returnTo=${E}`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-agent"}),"Total Pods"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y," running"]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-primary"}),"Resources"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Agent + ",f.length-1," dependencies"]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ge,{className:"h-4 w-4 text-modelapi"}),"Deployment"]})}),s.jsx(je,{children:b?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((w=b.status)==null?void 0:w.readyReplicas)||0,"/",((C=b.spec)==null?void 0:C.replicas)||1]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"replicas ready"})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not found"})})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[g?s.jsx(st,{className:"h-4 w-4 text-yellow-500"}):s.jsx(vn,{className:"h-4 w-4 text-green-500"}),"Health"]})}),s.jsxs(je,{children:[s.jsx("div",{className:J("text-2xl font-bold",g?"text-yellow-500":"text-green-500"),children:g?"Warning":"Healthy"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g?"Check pod status below":"All systems operational"})]})]})]}),p&&s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Service Endpoint"}),s.jsx(Ot,{children:"Internal cluster endpoint for this agent"})]}),s.jsx(je,{children:s.jsxs("code",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:[p.metadata.name,".",p.metadata.namespace,".svc.cluster.local:",((S=(j=(N=p.spec)==null?void 0:N.ports)==null?void 0:j[0])==null?void 0:S.port)||8e3]})})]}),f.map(P=>s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[rse(P.resourceType),s.jsxs("span",{children:[P.resourceType,":"]}),s.jsx("span",{className:"font-mono",children:P.resourceName}),s.jsxs(Z,{variant:"outline",className:"ml-2",children:[P.pods.length," pod",P.pods.length!==1?"s":""]})]}),s.jsx(Ot,{children:"Click on a pod to view its logs"})]}),s.jsx(je,{children:P.pods.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(st,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["No pods found for this ",P.resourceType.toLowerCase()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The resource may not be deployed or pods are in another namespace"})]}):s.jsx(Je,{className:"max-h-[300px]",children:s.jsxs(Wh,{children:[s.jsx(Kh,{children:s.jsxs(La,{children:[s.jsx(Nt,{children:"Name"}),s.jsx(Nt,{children:"Status"}),s.jsx(Nt,{children:"Ready"}),s.jsx(Nt,{children:"Restarts"}),s.jsx(Nt,{children:"Age"}),s.jsx(Nt,{children:"Host IP"}),s.jsx(Nt,{className:"w-10"})]})}),s.jsx(qh,{children:P.pods.map(M=>{var R;const{ready:E,total:k}=Jre(M),T=aC(M),D=ese(M);return s.jsxs(La,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>v(M),children:[s.jsx(Ct,{className:"font-mono text-xs",children:M.metadata.name}),s.jsx(Ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[tse(D.status,D.isRolling,D.isTerminating),s.jsx("span",{className:J("text-sm",nse(D.status,D.isRolling,D.isTerminating)),children:D.status}),D.isRolling&&!D.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Rolling"}),D.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-orange-600 border-orange-600",children:"Terminating"})]})}),s.jsx(Ct,{children:s.jsxs(Z,{variant:E===k&&k>0?"success":"secondary",children:[E,"/",k]})}),s.jsx(Ct,{children:s.jsx("span",{className:J(T>0?"text-yellow-500":"text-muted-foreground"),children:T})}),s.jsx(Ct,{className:"text-muted-foreground",children:Zre(M.metadata.creationTimestamp)}),s.jsx(Ct,{className:"text-xs text-muted-foreground",children:((R=M.status)==null?void 0:R.hostIP)||"-"}),s.jsx(Ct,{title:"View pod details",children:s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})})]},M.metadata.uid)})})]})})})]},`${P.resourceType}-${P.resourceName}`))]})}const Sg=(e,t)=>`agent-chat-${e}-${t}`;function ose(){var T,D;const{namespace:e,name:t}=Qm(),[n]=Jm(),r=Vt(),{toast:o}=$r(),{agents:a}=ot(),{deleteAgent:i,refreshAll:l,connected:c}=Et(),[u,f]=x.useState(null),[d,m]=x.useState(!1),[h,y]=x.useState(!1),g=async()=>{m(!1),await l()},b=n.get("tab")||"overview",[p,v]=x.useState(b),[w,C]=x.useState(""),[N,j]=x.useState([]),S=x.useRef(""),P=x.useRef(!1);x.useEffect(()=>{if(e&&t&&!P.current){P.current=!0;const R=Sg(e,t);try{const $=localStorage.getItem(R);if($){const{sessionId:L,messages:F}=JSON.parse($);L&&C(L),(F==null?void 0:F.length)>0&&j(F.map(_=>({..._,timestamp:new Date(_.timestamp)}))),S.current=L||""}}catch($){console.warn("Failed to restore chat session:",$)}}},[e,t]),x.useEffect(()=>{if(e&&t&&P.current&&(N.length>0||w)){const R=Sg(e,t);try{localStorage.setItem(R,JSON.stringify({sessionId:w,messages:N}))}catch($){console.warn("Failed to persist chat session:",$)}}},[e,t,w,N]);const M=x.useCallback(()=>{if(C(""),j([]),S.current="",e&&t){const R=Sg(e,t);localStorage.removeItem(R)}},[e,t]),E=x.useCallback(R=>{C(R),S.current=R},[]);x.useEffect(()=>{const R=a.find($=>$.metadata.name===t&&($.metadata.namespace||"default")===e);f(R||null)},[a,t,e]);const k=async()=>{if(u){y(!0);try{await i(u.metadata.name,u.metadata.namespace),o({title:"Agent deleted",description:`${u.metadata.name} has been deleted.`}),r("/")}catch(R){o({variant:"destructive",title:"Failed to delete agent",description:R instanceof Error?R.message:"Unknown error"})}finally{y(!1)}}};return c?u?s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"shrink-0",children:s.jsx(du,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-agent/10 flex items-center justify-center",children:s.jsx(ln,{className:"h-6 w-6 text-agent"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:u.metadata.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-mono",children:u.metadata.namespace||"default"}),s.jsx(Z,{variant:((T=u.status)==null?void 0:T.phase)==="Running"?"success":"secondary",className:"text-xs",children:((D=u.status)==null?void 0:D.phase)||"Unknown"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Du,{children:[s.jsx(U0,{asChild:!0,children:s.jsxs(G,{variant:"destructive",size:"sm",disabled:h,children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(wl,{children:[s.jsxs(bl,{children:[s.jsx(Nl,{children:"Delete Agent?"}),s.jsxs(Cl,{children:['This will permanently delete the agent "',u.metadata.name,'". This action cannot be undone.']})]}),s.jsxs(jl,{children:[s.jsx(kl,{children:"Cancel"}),s.jsx(Sl,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),s.jsxs(Ba,{value:p,onValueChange:v,className:"space-y-6",children:[s.jsxs(Qo,{className:"grid w-full max-w-2xl grid-cols-5",children:[s.jsx(ct,{value:"overview",children:"Overview"}),s.jsx(ct,{value:"chat",children:"Chat"}),s.jsx(ct,{value:"memory",children:"Memory"}),s.jsxs(ct,{value:"pods",className:"flex items-center gap-1",children:[s.jsx(Wt,{className:"h-3 w-3"}),"Pods"]}),s.jsxs(ct,{value:"yaml",className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"}),"YAML"]})]}),s.jsx(xt,{value:"overview",className:"space-y-6",children:s.jsx(Yre,{agent:u})}),s.jsx("div",{className:p==="chat"?"h-[calc(100vh-320px)]":"hidden",children:s.jsx(zre,{agent:u,sessionId:w,messages:N,onSessionChange:E,onMessagesChange:j,onNewSession:M})}),s.jsx(xt,{value:"memory",className:"space-y-6",children:s.jsx(Gre,{agent:u})}),s.jsx(xt,{value:"pods",className:"space-y-6",children:s.jsx(sse,{agent:u})}),s.jsx(xt,{value:"yaml",className:"space-y-6",children:s.jsx(Lu,{resource:u,title:"Agent YAML",maxHeight:"calc(100vh - 380px)"})})]}),s.jsx(F0,{agent:u,open:d,onClose:g})]}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Agent Not Found"}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:['The agent "',t,'" in namespace "',e,'" could not be found.']}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(G,{variant:"outline",onClick:()=>l(),children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please connect to a Kubernetes cluster first."}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})})}function ase({json:e,className:t=""}){const n=e.replace(/"([^"]+)"(?=\s*:)/g,'<span class="text-sky-400">"$1"</span>').replace(/:\s*"([^"]*?)"/g,(r,o)=>`: <span class="text-emerald-400">"${o}"</span>`).replace(/:\s*(-?\d+\.?\d*)/g,': <span class="text-amber-400">$1</span>').replace(/:\s*(true|false)/g,': <span class="text-purple-400">$1</span>').replace(/:\s*(null)/g,': <span class="text-red-400">$1</span>');return s.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap break-all ${t}`,dangerouslySetInnerHTML:{__html:n}})}function ise(e){const t=e.split(`
`);for(const n of t)if(n.startsWith("data: ")){const r=n.slice(6).trim();if(r&&r!=="[DONE]")return JSON.parse(r)}else if(n.startsWith("data:")){const r=n.slice(5).trim();if(r&&r!=="[DONE]")return JSON.parse(r)}return JSON.parse(e.trim())}function lse(e){const t=e.headers.get("mcp-session-id");if(t)return t;let n=null;return e.headers.forEach((r,o)=>{const a=o.toLowerCase();(a==="mcp-session-id"||a==="x-mcp-session-id"||a==="session-id")&&(n=r)}),n}async function Id(e,t,n={},r=null,o=!1){const a={"Content-Type":"application/json",Accept:"application/json, text/event-stream","X-Requested-With":"XMLHttpRequest","bypass-tunnel-reminder":"1"};r!=null&&r.sessionId&&(a["Mcp-Session-Id"]=r.sessionId);const i={jsonrpc:"2.0",method:t,params:n};o||(i.id=Date.now());const l=await fetch(e,{method:"POST",headers:a,body:JSON.stringify(i)}),c=lse(l);if(!l.ok){const m=await l.text();throw new Error(`HTTP ${l.status}: ${m}`)}if(l.status===202||o)return{data:{},sessionId:c};const u=await l.text(),f=l.headers.get("content-type")||"";let d;if(f.includes("text/event-stream")||u.includes("data:")){const m=ise(u);if(m&&typeof m=="object"&&"error"in m&&m.error)throw new Error(`MCP error ${m.error.code}: ${m.error.message}`);d=m.result||m}else{const m=JSON.parse(u);if(m.error)throw new Error(`MCP error ${m.error.code}: ${m.error.message}`);d=m.result||m}return{data:d,sessionId:c}}function cse({mcpServer:e}){const[t,n]=x.useState([]),[r,o]=x.useState(!1),[a,i]=x.useState(null),[l,c]=x.useState(null),[u,f]=x.useState({}),[d,m]=x.useState(!1),[h,y]=x.useState({}),[g,b]=x.useState(!1),[p,v]=x.useState(!1),w=x.useRef(null),C=x.useCallback(()=>{var $;const k=ke.getConfig().baseUrl;if(!k)throw new Error("Kubernetes API not configured");const T=($=e.status)==null?void 0:$.endpoint,D=e.metadata.namespace||"default";if(T){const L=new URL(T),F=L.hostname.split("."),_=F[0],I=F[1]||D,A=L.port||"8000";return`${k}/api/v1/namespaces/${I}/services/${_}:${A}/proxy/mcp`}const R=`mcpserver-${e.metadata.name}`;return`${k}/api/v1/namespaces/${D}/services/${R}:8000/proxy/mcp`},[e]),N=x.useCallback(async()=>{var k;o(!0),i(null);try{const T=(k=e.status)==null?void 0:k.endpoint;if(T){const L=await ke.listMCPToolsFromEndpoint(T);n(L.tools||[]),w.current={sessionId:null,initialized:!0};return}const D=C(),R=await Id(D,"initialize",{protocolVersion:"2024-11-05",capabilities:{},clientInfo:{name:"kaos-ui",version:"1.0.0"}});w.current={sessionId:R.sessionId,initialized:!1},R.sessionId||console.warn("[MCPToolsDebug] No session ID returned from initialize  K8s proxy may strip Mcp-Session-Id header.");try{await Id(D,"notifications/initialized",{},w.current,!0),w.current.initialized=!0}catch(L){console.warn("[MCPToolsDebug] Notification failed:",L)}const{data:$}=await Id(D,"tools/list",{},w.current);n($.tools||[])}catch(T){console.error("[MCPToolsDebug] Error:",T),i(T instanceof Error?T.message:"Failed to fetch tools"),n([]),w.current=null}finally{o(!1)}},[C,e]);x.useEffect(()=>{N()},[N]);const j=k=>k.inputSchema||k.parameters,S=k=>{c(k),v(!1);const T={},D=j(k);D!=null&&D.properties&&Object.keys(D.properties).forEach(R=>{const $=D.properties[R];T[R]=$.default!==void 0?String($.default):""}),f(T)},P=async()=>{var $;if(!l)return;m(!0);const k=Date.now(),T={},D=j(l);D!=null&&D.properties&&Object.entries(u).forEach(([L,F])=>{const _=D.properties[L];if(!_){T[L]=F;return}switch(_.type){case"integer":case"number":T[L]=Number(F);break;case"boolean":T[L]=F.toLowerCase()==="true";break;case"object":case"array":try{T[L]=JSON.parse(F)}catch{T[L]=F}break;default:T[L]=F}});const R={id:`call-${Date.now()}`,toolName:l.name,args:T,result:null,error:null,timestamp:new Date,duration:0};try{const L=($=e.status)==null?void 0:$.endpoint;if(L){const F=await ke.callMCPToolFromEndpoint(L,l.name,T);R.result=F}else{const F=C(),{data:_}=await Id(F,"tools/call",{name:l.name,arguments:T},w.current);R.result=_}R.duration=Date.now()-k}catch(L){R.error=L instanceof Error?L.message:"Unknown error",R.duration=Date.now()-k}finally{m(!1),y(L=>({...L,[l.name]:R}))}},M=async k=>{await navigator.clipboard.writeText(k),b(!0),setTimeout(()=>b(!1),2e3)},E=k=>{switch(k){case"string":return"default";case"integer":case"number":return"secondary";case"boolean":return"outline";case"object":case"array":return"destructive";default:return"default"}};return s.jsxs("div",{className:"flex flex-col h-full bg-background rounded-lg border border-border overflow-hidden min-h-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{className:"h-4 w-4 text-mcpserver"}),s.jsx("span",{className:"text-sm font-medium",children:"Tools"}),t.length>0&&s.jsxs(Z,{variant:"secondary",className:"text-xs",children:[t.length," tools"]})]}),s.jsxs(G,{variant:"ghost",size:"sm",onClick:N,disabled:r,children:[s.jsx(Ge,{className:`h-4 w-4 mr-1 ${r?"animate-spin":""}`}),"Refresh"]})]}),a&&s.jsxs($o,{variant:"destructive",className:"m-4 mb-0",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Fo,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-medium",children:"Failed to load tools"}),s.jsx("span",{className:"text-sm opacity-90",children:a})]})})]}),s.jsxs("div",{className:"flex flex-1 min-h-0",children:[s.jsxs("div",{className:"w-1/3 border-r border-border flex flex-col",children:[s.jsx("div",{className:"px-3 py-2 border-b border-border bg-muted/20",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Available Tools"})}),s.jsx(Je,{className:"flex-1",children:r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Os,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):t.length===0?s.jsx("div",{className:"text-center py-8 px-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No tools available"})}):s.jsx("div",{className:"p-2 space-y-1",children:t.map(k=>{const T=j(k),D=T!=null&&T.properties?Object.entries(T.properties):[];return s.jsxs("button",{className:`w-full text-left rounded-lg border transition-colors p-2 ${(l==null?void 0:l.name)===k.name?"border-mcpserver bg-mcpserver/10":"border-border hover:border-muted-foreground/50"}`,onClick:()=>S(k),children:[s.jsx("div",{className:"font-mono text-sm font-medium truncate",children:k.name}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5",children:k.description}),D.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:D.map(([R,$])=>s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded font-mono text-[10px]",children:R}),s.jsx(Z,{variant:E($.type),className:"text-[10px]",children:$.type})]},R))}),D.length===0&&s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"No parameters"})]},k.name)})})})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border bg-muted/20 shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Z,{variant:"outline",className:"font-mono",children:l.name}),l.description&&l.description.length>80&&s.jsx(G,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>v(!p),children:p?s.jsx(bv,{className:"h-3 w-3"}):s.jsx(fu,{className:"h-3 w-3"})})]}),l.description&&s.jsx("p",{className:`text-xs text-muted-foreground mt-1 whitespace-pre-wrap ${p?"":"line-clamp-1"}`,children:l.description})]}),s.jsx(Je,{className:"flex-1 min-h-0",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Parameters"}),(()=>{const k=j(l);return k!=null&&k.properties&&Object.entries(k.properties).length>0?s.jsx("div",{className:"space-y-3",children:Object.entries(k.properties).map(([T,D])=>{var R;return s.jsxs("div",{children:[s.jsxs(xe,{htmlFor:T,className:"text-sm flex items-center gap-2 mb-1.5",children:[s.jsx("code",{className:"font-mono",children:T}),s.jsx(Z,{variant:E(D.type),className:"text-[10px]",children:D.type}),((R=k.required)==null?void 0:R.includes(T))&&s.jsx("span",{className:"text-destructive text-xs",children:"*"})]}),D.description&&s.jsx("p",{className:"text-xs text-muted-foreground mb-1.5",children:D.description}),D.type==="integer"||D.type==="number"?s.jsx(Re,{id:T,type:"number",value:u[T]||"",onChange:$=>f(L=>({...L,[T]:$.target.value})),placeholder:D.default!==void 0?String(D.default):`Enter ${T}...`,className:"font-mono"}):s.jsx(mr,{id:T,value:u[T]||"",onChange:$=>f(L=>({...L,[T]:$.target.value})),placeholder:D.default!==void 0?String(D.default):`Enter ${T}...`,className:"font-mono text-sm",rows:3})]},T)})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool has no parameters"})})()]}),s.jsx(G,{onClick:P,disabled:d,className:"w-full bg-mcpserver hover:bg-mcpserver/90",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Os,{className:"h-4 w-4 mr-2 animate-spin"}),"Calling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Call Tool"]})}),(()=>{const k=l?h[l.name]:null;if(!k)return null;const T=k.error||JSON.stringify(k.result,null,2),D=!k.error&&k.result!=null;return s.jsxs("div",{className:"rounded-lg border border-border p-3 bg-muted/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[k.error?s.jsx(st,{className:"h-4 w-4 text-destructive"}):s.jsx(jv,{className:"h-4 w-4 text-emerald-500"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.error?"Error":"Success","  ",k.duration,"ms"]})]}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>M(T),children:g?s.jsx(Fr,{className:"h-3 w-3"}):s.jsx(Uo,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"bg-background rounded p-2 overflow-auto max-h-64",children:D?s.jsx(ase,{json:T}):s.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap break-all text-destructive",children:T})})]})})()]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Do,{className:"h-12 w-12 text-muted-foreground/20 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tool to get started"})]})})})]})]})}function use({mcpServer:e}){var c,u,f,d,m,h,y,g,b,p;const t=v=>{switch(v){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}},n=(c=e.spec.config)==null?void 0:c.tools,r=n==null?void 0:n.fromPackage,o=n==null?void 0:n.fromString,a=n==null?void 0:n.fromSecretKeyRef,i=e.spec.runtime,l=e.spec.params;return s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-mcpserver"}),"General Information"]})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-mono font-medium",children:e.metadata.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Namespace"}),s.jsx("p",{className:"font-mono font-medium",children:e.metadata.namespace||"default"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type/Runtime"}),s.jsx("p",{children:s.jsx(Z,{variant:"secondary",children:e.spec.runtime||e.spec.type||"Unknown"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status"}),s.jsx("p",{children:s.jsx(Z,{variant:t((u=e.status)==null?void 0:u.phase),children:((f=e.status)==null?void 0:f.phase)||"Unknown"})})]})]}),e.metadata.creationTimestamp&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),"Created"]}),s.jsx("p",{className:"font-medium",children:new Date(e.metadata.creationTimestamp).toLocaleString()})]})]}),e.metadata.uid&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"UID"}),s.jsx("p",{className:"font-mono text-xs text-muted-foreground truncate",children:e.metadata.uid})]}),e.metadata.resourceVersion&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Resource Version"}),s.jsx("p",{className:"font-mono text-xs",children:e.metadata.resourceVersion})]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4 text-mcpserver"}),"Status Details"]})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Ready"}),s.jsx("p",{children:s.jsx(Z,{variant:(d=e.status)!=null&&d.ready?"success":"secondary",children:(m=e.status)!=null&&m.ready?"Yes":"No"})})]}),((h=e.status)==null?void 0:h.availableTools)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tools Count"}),s.jsx("p",{className:"font-medium",children:e.status.availableTools.length})]})]}),((y=e.status)==null?void 0:y.endpoint)&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(Cv,{className:"h-3 w-3"}),"Endpoint"]}),s.jsx("code",{className:"font-mono text-xs bg-muted px-2 py-1 rounded mt-1 block overflow-auto",children:e.status.endpoint})]})]}),((g=e.status)==null?void 0:g.message)&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Message"}),s.jsx("p",{className:"text-muted-foreground",children:e.status.message})]})]})]})]}),((b=e.status)==null?void 0:b.deployment)&&s.jsx(hw,{deployment:e.status.deployment,className:"md:col-span-2"}),s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(di,{className:"h-4 w-4 text-mcpserver"}),i?"Runtime Configuration":"Tools Configuration"]})}),s.jsxs(je,{className:"space-y-4",children:[i&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(kt,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Runtime"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:e.spec.runtime})]})]}),l&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(di,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Params"}),s.jsx("pre",{className:"font-mono text-xs bg-muted p-3 rounded mt-1 overflow-auto max-h-[200px]",children:e.spec.params})]})]}),r&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(c2,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"From Package"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:n.fromPackage})]})]}),o&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(di,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"From Code"}),s.jsx("pre",{className:"font-mono text-xs bg-muted p-3 rounded mt-1 overflow-auto max-h-[200px]",children:n.fromString})]})]}),a&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(di,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"From Secret"}),s.jsxs("code",{className:"font-mono text-xs block bg-muted px-2 py-1 rounded mt-1",children:[n.fromSecretKeyRef.name,":",n.fromSecretKeyRef.key]})]})]}),!i&&!l&&!r&&!o&&!a&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No configuration specified"}),((p=e.status)==null?void 0:p.availableTools)&&e.status.availableTools.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground mb-2 block",children:["Available Tools (",e.status.availableTools.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.status.availableTools.map(v=>s.jsx(Z,{variant:"outline",className:"font-mono text-xs",children:v},v))})]})]}),e.spec.gatewayRoute&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground mb-2 block",children:"Gateway Route"}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[e.spec.gatewayRoute.timeout&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Timeout:"})," ",s.jsx("code",{className:"font-mono",children:e.spec.gatewayRoute.timeout})]}),e.spec.gatewayRoute.retries!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Retries:"})," ",s.jsx("code",{className:"font-mono",children:e.spec.gatewayRoute.retries})]})]})]})]})]})]}),(()=>{var w,C;const v=((w=e.spec.container)==null?void 0:w.env)||((C=e.spec.config)==null?void 0:C.env)||[];return v.length>0&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base",children:["Environment Variables (",v.length,")"]})}),s.jsx(je,{children:s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:v.map((N,j)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-3 font-mono text-xs",children:N.name}),s.jsx("td",{className:"p-3 font-mono text-xs text-muted-foreground truncate max-w-[300px]",children:N.value||(N.valueFrom?"<from secret/configmap>":"-")})]},j))})]})})})]})})(),(e.metadata.labels||e.metadata.annotations)&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4 text-muted-foreground"}),"Labels & Annotations"]})}),s.jsxs(je,{className:"grid gap-4 md:grid-cols-2",children:[e.metadata.labels&&Object.keys(e.metadata.labels).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Labels"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.metadata.labels).map(([v,w])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[v,": ",w]},v))})]}),e.metadata.annotations&&Object.keys(e.metadata.annotations).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Annotations"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.metadata.annotations).map(([v,w])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[v,": ",w.length>30?`${w.substring(0,30)}...`:w]},v))})]})]})]})]})}function dse(e){var o;const t=((o=e.status)==null?void 0:o.containerStatuses)||[],n=t.filter(a=>a.ready).length,r=t.length;return{ready:n,total:r}}function iC(e){var n;return(((n=e.status)==null?void 0:n.containerStatuses)||[]).reduce((r,o)=>r+(o.restartCount||0),0)}function fse(e){if(!e)return"Unknown";const t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/6e4),a=Math.floor(o/60),i=Math.floor(a/24);return i>0?`${i}d`:a>0?`${a}h`:o>0?`${o}m`:"<1m"}function mse(e){var a,i,l,c;const t=((a=e.status)==null?void 0:a.phase)||"Unknown",n=e.metadata.deletionTimestamp,r=((i=e.status)==null?void 0:i.containerStatuses)||[];if(n)return{status:"Terminating",isRolling:!0,isTerminating:!0};const o=r.some(u=>!u.ready);if(t==="Running"&&o)return{status:"ContainerNotReady",isRolling:!0,isTerminating:!1};if(t==="Pending"){const u=r.find(d=>{var m;return(m=d.state)==null?void 0:m.waiting});return{status:((c=(l=u==null?void 0:u.state)==null?void 0:l.waiting)==null?void 0:c.reason)||"Pending",isRolling:!0,isTerminating:!1}}return{status:t,isRolling:!1,isTerminating:!1}}function hse(e,t,n){if(n)return s.jsx(Ls,{className:"h-4 w-4 text-orange-500"});if(t)return s.jsx(Ge,{className:"h-4 w-4 text-yellow-500 animate-spin"});switch(e==null?void 0:e.toLowerCase()){case"running":return s.jsx(vn,{className:"h-4 w-4 text-green-500"});case"pending":return s.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"succeeded":return s.jsx(vn,{className:"h-4 w-4 text-blue-500"});case"failed":return s.jsx(Ls,{className:"h-4 w-4 text-red-500"});default:return s.jsx(st,{className:"h-4 w-4 text-muted-foreground"})}}function pse(e,t,n){if(n)return"text-orange-500";if(t)return"text-yellow-500";switch(e==null?void 0:e.toLowerCase()){case"running":return"text-green-500";case"pending":return"text-yellow-500";case"succeeded":return"text-blue-500";case"failed":return"text-red-500";default:return"text-muted-foreground"}}function gse({mcpServer:e}){var m,h,y,g,b;const t=Vt(),{pods:n,deployments:r,services:o}=ot(),a=n.filter(p=>{const v=p.metadata.labels||{},w=p.metadata.name.toLowerCase(),C=e.metadata.name.toLowerCase();return w.includes(`mcpserver-${C}`)||v.mcpserver===e.metadata.name||v["app.kubernetes.io/name"]===`mcpserver-${e.metadata.name}`}),i=a.length,l=a.filter(p=>{var v;return((v=p.status)==null?void 0:v.phase)==="Running"}).length,c=a.some(p=>{var v;return((v=p.status)==null?void 0:v.phase)!=="Running"||iC(p)>0}),u=r.find(p=>{var v;return p.metadata.name.includes(`mcpserver-${e.metadata.name}`)||((v=p.metadata.labels)==null?void 0:v.mcpserver)===e.metadata.name}),f=o.find(p=>{var v;return p.metadata.name.includes(`mcpserver-${e.metadata.name}`)||((v=p.metadata.labels)==null?void 0:v.mcpserver)===e.metadata.name}),d=p=>{const v=e.metadata.namespace||"default",w=encodeURIComponent(`/mcpservers/${v}/${e.metadata.name}?tab=pods`);t(`/pods/${p.metadata.namespace||"default"}/${p.metadata.name}?tab=logs&returnTo=${w}`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-mcpserver"}),"Total Pods"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[l," running"]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-primary"}),"Type/Runtime"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.spec.runtime||e.spec.type||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"MCP Server Type"})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ge,{className:"h-4 w-4 text-mcpserver"}),"Deployment"]})}),s.jsx(je,{children:u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((m=u.status)==null?void 0:m.readyReplicas)||0,"/",((h=u.spec)==null?void 0:h.replicas)||1]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"replicas ready"})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not found"})})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[c?s.jsx(st,{className:"h-4 w-4 text-yellow-500"}):s.jsx(vn,{className:"h-4 w-4 text-green-500"}),"Health"]})}),s.jsxs(je,{children:[s.jsx("div",{className:J("text-2xl font-bold",c?"text-yellow-500":"text-green-500"),children:c?"Warning":"Healthy"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c?"Check pod status below":"All systems operational"})]})]})]}),f&&s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Service Endpoint"}),s.jsx(Ot,{children:"Internal cluster endpoint for this MCP server"})]}),s.jsx(je,{children:s.jsxs("code",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:[f.metadata.name,".",f.metadata.namespace,".svc.cluster.local:",((b=(g=(y=f.spec)==null?void 0:y.ports)==null?void 0:g[0])==null?void 0:b.port)||8e3]})})]}),s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 text-mcpserver"}),s.jsx("span",{children:"MCPServer:"}),s.jsx("span",{className:"font-mono",children:e.metadata.name}),s.jsxs(Z,{variant:"outline",className:"ml-2",children:[a.length," pod",a.length!==1?"s":""]})]}),s.jsx(Ot,{children:"Click on a pod to view its logs"})]}),s.jsx(je,{children:a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(st,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pods found for this MCP server"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The server may not be deployed or pods are in another namespace"})]}):s.jsx(Je,{className:"max-h-[400px]",children:s.jsxs(Wh,{children:[s.jsx(Kh,{children:s.jsxs(La,{children:[s.jsx(Nt,{children:"Name"}),s.jsx(Nt,{children:"Status"}),s.jsx(Nt,{children:"Ready"}),s.jsx(Nt,{children:"Restarts"}),s.jsx(Nt,{children:"Age"}),s.jsx(Nt,{children:"Host IP"}),s.jsx(Nt,{className:"w-10"})]})}),s.jsx(qh,{children:a.map(p=>{var j;const{ready:v,total:w}=dse(p),C=iC(p),N=mse(p);return s.jsxs(La,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>d(p),children:[s.jsx(Ct,{className:"font-mono text-xs",children:p.metadata.name}),s.jsx(Ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[hse(N.status,N.isRolling,N.isTerminating),s.jsx("span",{className:J("text-sm",pse(N.status,N.isRolling,N.isTerminating)),children:N.status}),N.isRolling&&!N.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Rolling"}),N.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-orange-600 border-orange-600",children:"Terminating"})]})}),s.jsx(Ct,{children:s.jsxs(Z,{variant:v===w&&w>0?"success":"secondary",children:[v,"/",w]})}),s.jsx(Ct,{children:s.jsx("span",{className:J(C>0?"text-yellow-500":"text-muted-foreground"),children:C})}),s.jsx(Ct,{className:"text-muted-foreground",children:fse(p.metadata.creationTimestamp)}),s.jsx(Ct,{className:"text-xs text-muted-foreground",children:((j=p.status)==null?void 0:j.hostIP)||"-"}),s.jsx(Ct,{title:"View pod details",children:s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})})]},p.metadata.uid)})})]})})})]})]})}function xse(){var C,N;const{namespace:e,name:t}=Qm(),[n]=Jm(),r=Vt(),{toast:o}=$r(),{mcpServers:a}=ot(),{deleteMCPServer:i,refreshAll:l,connected:c}=Et(),[u,f]=x.useState(null),[d,m]=x.useState(!1),[h,y]=x.useState(!1),g=n.get("tab")||"overview",[b,p]=x.useState(g);x.useEffect(()=>{const j=a.find(S=>S.metadata.name===t&&(S.metadata.namespace||"default")===e);f(j||null)},[a,t,e]);const v=async()=>{if(u){y(!0);try{await i(u.metadata.name,u.metadata.namespace),o({title:"MCPServer deleted",description:`${u.metadata.name} has been deleted.`}),r("/")}catch(j){o({variant:"destructive",title:"Failed to delete MCPServer",description:j instanceof Error?j.message:"Unknown error"})}finally{y(!1)}}},w=j=>{switch(j){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}};return c?u?s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"shrink-0",children:s.jsx(du,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-mcpserver/10 flex items-center justify-center",children:s.jsx(kt,{className:"h-6 w-6 text-mcpserver"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:u.metadata.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-mono",children:u.metadata.namespace||"default"}),s.jsx(Z,{variant:w((C=u.status)==null?void 0:C.phase),className:"text-xs",children:((N=u.status)==null?void 0:N.phase)||"Unknown"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Du,{children:[s.jsx(U0,{asChild:!0,children:s.jsxs(G,{variant:"destructive",size:"sm",disabled:h,children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(wl,{children:[s.jsxs(bl,{children:[s.jsx(Nl,{children:"Delete MCPServer?"}),s.jsxs(Cl,{children:['This will permanently delete the MCPServer "',u.metadata.name,'". This action cannot be undone.']})]}),s.jsxs(jl,{children:[s.jsx(kl,{children:"Cancel"}),s.jsx(Sl,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),s.jsxs(Ba,{value:b,onValueChange:p,className:"space-y-6",children:[s.jsxs(Qo,{className:"grid w-full max-w-lg grid-cols-4",children:[s.jsxs(ct,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"h-3 w-3"}),"Overview"]}),s.jsxs(ct,{value:"tools",className:"flex items-center gap-1",children:[s.jsx(Do,{className:"h-3 w-3"}),"Tools"]}),s.jsxs(ct,{value:"pods",className:"flex items-center gap-1",children:[s.jsx(os,{className:"h-3 w-3"}),"Pods"]}),s.jsxs(ct,{value:"yaml",className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"}),"YAML"]})]}),s.jsx(xt,{value:"overview",className:"space-y-6",children:s.jsx(use,{mcpServer:u})}),s.jsx(xt,{value:"tools",className:"h-[calc(100vh-280px)] min-h-[500px]",children:s.jsx(cse,{mcpServer:u})}),s.jsx(xt,{value:"pods",className:"space-y-6",children:s.jsx(gse,{mcpServer:u})}),s.jsx(xt,{value:"yaml",className:"space-y-6",children:s.jsx(Lu,{resource:u,title:"MCPServer YAML",maxHeight:"calc(100vh - 380px)"})})]}),s.jsx(z0,{mcpServer:u,open:d,onClose:()=>m(!1)})]}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"MCPServer Not Found"}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:['The MCPServer "',t,'" in namespace "',e,'" could not be found.']}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(G,{variant:"outline",onClick:()=>l(),children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please connect to a Kubernetes cluster first."}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})})}function yse({modelAPI:e}){var r,o,a,i,l,c,u,f,d,m,h,y,g,b,p,v,w,C,N,j,S;const t=P=>{switch(P){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}},n=((r=e.spec.container)==null?void 0:r.env)||(e.spec.mode==="Proxy"?(o=e.spec.proxyConfig)==null?void 0:o.env:(a=e.spec.hostedConfig)==null?void 0:a.env);return s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-modelapi"}),"General Information"]})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-mono font-medium",children:e.metadata.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Namespace"}),s.jsx("p",{className:"font-mono font-medium",children:e.metadata.namespace||"default"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Mode"}),s.jsx("p",{children:s.jsx(Z,{variant:e.spec.mode==="Proxy"?"secondary":"outline",children:e.spec.mode})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status"}),s.jsx("p",{children:s.jsx(Z,{variant:t((i=e.status)==null?void 0:i.phase),children:((l=e.status)==null?void 0:l.phase)||"Unknown"})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Models"}),s.jsx("p",{className:"font-mono font-medium",children:e.spec.mode==="Proxy"?((u=(c=e.spec.proxyConfig)==null?void 0:c.models)==null?void 0:u.join(", "))||"Not specified":((f=e.spec.hostedConfig)==null?void 0:f.model)||"Not specified"})]})]}),e.metadata.creationTimestamp&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),"Created"]}),s.jsx("p",{className:"font-medium",children:new Date(e.metadata.creationTimestamp).toLocaleString()})]})]}),e.metadata.uid&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"UID"}),s.jsx("p",{className:"font-mono text-xs text-muted-foreground truncate",children:e.metadata.uid})]}),e.metadata.resourceVersion&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Resource Version"}),s.jsx("p",{className:"font-mono text-xs",children:e.metadata.resourceVersion})]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4 text-modelapi"}),"Status Details"]})}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Ready"}),s.jsx("p",{children:s.jsx(Z,{variant:(d=e.status)!=null&&d.ready?"success":"secondary",children:(m=e.status)!=null&&m.ready?"Yes":"No"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phase"}),s.jsx("p",{children:s.jsx(Z,{variant:t((h=e.status)==null?void 0:h.phase),children:((y=e.status)==null?void 0:y.phase)||"Unknown"})})]})]}),((g=e.status)==null?void 0:g.endpoint)&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(Cv,{className:"h-3 w-3"}),"Endpoint"]}),s.jsx("code",{className:"font-mono text-xs bg-muted px-2 py-1 rounded mt-1 block overflow-auto",children:e.status.endpoint})]})]}),((b=e.status)==null?void 0:b.message)&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Message"}),s.jsx("p",{className:"text-muted-foreground",children:e.status.message})]})]})]})]}),((p=e.status)==null?void 0:p.deployment)&&s.jsx(hw,{deployment:e.status.deployment,className:"md:col-span-2"}),s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-modelapi"}),"Configuration"]})}),s.jsxs(je,{className:"space-y-4",children:[e.spec.mode==="Hosted"&&e.spec.hostedConfig&&s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Model"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:e.spec.hostedConfig.model||"Not specified"})]})}),e.spec.mode==="Proxy"&&e.spec.proxyConfig&&s.jsxs("div",{className:"space-y-3",children:[e.spec.proxyConfig.provider&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Provider"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:e.spec.proxyConfig.provider})]}),e.spec.proxyConfig.apiBase&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Base"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:e.spec.proxyConfig.apiBase})]}),((v=e.spec.proxyConfig)==null?void 0:v.models)&&e.spec.proxyConfig.models.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Models"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.spec.proxyConfig.models.map((P,M)=>s.jsx("code",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:P},M))})]}),((w=e.spec.proxyConfig)==null?void 0:w.apiKey)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Key"}),s.jsx("code",{className:"font-mono text-sm block bg-muted px-2 py-1 rounded mt-1",children:e.spec.proxyConfig.apiKey.value?"":(C=e.spec.proxyConfig.apiKey.valueFrom)!=null&&C.secretKeyRef?`From Secret: ${e.spec.proxyConfig.apiKey.valueFrom.secretKeyRef.name}/${e.spec.proxyConfig.apiKey.valueFrom.secretKeyRef.key}`:(N=e.spec.proxyConfig.apiKey.valueFrom)!=null&&N.configMapKeyRef?`From ConfigMap: ${e.spec.proxyConfig.apiKey.valueFrom.configMapKeyRef.name}/${e.spec.proxyConfig.apiKey.valueFrom.configMapKeyRef.key}`:"Not configured"})]}),((j=e.spec.proxyConfig.configYaml)==null?void 0:j.fromString)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"LiteLLM Config YAML"}),s.jsx("pre",{className:"font-mono text-xs bg-muted p-3 rounded mt-1 overflow-auto max-h-[150px]",children:e.spec.proxyConfig.configYaml.fromString})]}),((S=e.spec.proxyConfig.configYaml)==null?void 0:S.fromSecretKeyRef)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Config from Secret"}),s.jsxs("code",{className:"font-mono text-xs block bg-muted px-2 py-1 rounded mt-1",children:[e.spec.proxyConfig.configYaml.fromSecretKeyRef.name,":",e.spec.proxyConfig.configYaml.fromSecretKeyRef.key]})]}),!e.spec.proxyConfig.apiBase&&(!e.spec.proxyConfig.models||e.spec.proxyConfig.models.length===0)&&!e.spec.proxyConfig.configYaml&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Proxies requests to external LLM providers via LiteLLM"})]}),e.spec.gatewayRoute&&s.jsxs(s.Fragment,{children:[s.jsx(Ie,{}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground mb-2 block",children:"Gateway Route"}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[e.spec.gatewayRoute.timeout&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Timeout:"})," ",s.jsx("code",{className:"font-mono",children:e.spec.gatewayRoute.timeout})]}),e.spec.gatewayRoute.retries!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Retries:"})," ",s.jsx("code",{className:"font-mono",children:e.spec.gatewayRoute.retries})]})]})]})]})]})]}),n&&n.length>0&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base",children:["Environment Variables (",n.length,")"]})}),s.jsx(je,{children:s.jsx("div",{className:"bg-muted/50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Value"})]})}),s.jsx("tbody",{children:n.map((P,M)=>s.jsxs("tr",{className:"border-b border-border last:border-0",children:[s.jsx("td",{className:"p-3 font-mono text-xs",children:P.name}),s.jsx("td",{className:"p-3 font-mono text-xs text-muted-foreground truncate max-w-[300px]",children:P.value||(P.valueFrom?"<from secret/configmap>":"-")})]},M))})]})})})]}),(e.metadata.labels||e.metadata.annotations)&&s.jsxs(be,{className:"md:col-span-2",children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4 text-muted-foreground"}),"Labels & Annotations"]})}),s.jsxs(je,{className:"grid gap-4 md:grid-cols-2",children:[e.metadata.labels&&Object.keys(e.metadata.labels).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Labels"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.metadata.labels).map(([P,M])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[P,": ",M]},P))})]}),e.metadata.annotations&&Object.keys(e.metadata.annotations).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Annotations"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.metadata.annotations).map(([P,M])=>s.jsxs(Z,{variant:"outline",className:"text-xs font-mono",children:[P,": ",M.length>30?`${M.substring(0,30)}...`:M]},P))})]})]})]})]})}function vse(e){var o;const t=((o=e.status)==null?void 0:o.containerStatuses)||[],n=t.filter(a=>a.ready).length,r=t.length;return{ready:n,total:r}}function lC(e){var n;return(((n=e.status)==null?void 0:n.containerStatuses)||[]).reduce((r,o)=>r+(o.restartCount||0),0)}function wse(e){if(!e)return"Unknown";const t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/6e4),a=Math.floor(o/60),i=Math.floor(a/24);return i>0?`${i}d`:a>0?`${a}h`:o>0?`${o}m`:"<1m"}function bse(e){var a,i,l,c;const t=((a=e.status)==null?void 0:a.phase)||"Unknown",n=e.metadata.deletionTimestamp,r=((i=e.status)==null?void 0:i.containerStatuses)||[];if(n)return{status:"Terminating",isRolling:!0,isTerminating:!0};const o=r.some(u=>!u.ready);if(t==="Running"&&o)return{status:"ContainerNotReady",isRolling:!0,isTerminating:!1};if(t==="Pending"){const u=r.find(d=>{var m;return(m=d.state)==null?void 0:m.waiting});return{status:((c=(l=u==null?void 0:u.state)==null?void 0:l.waiting)==null?void 0:c.reason)||"Pending",isRolling:!0,isTerminating:!1}}return{status:t,isRolling:!1,isTerminating:!1}}function jse(e,t,n){if(n)return s.jsx(Ls,{className:"h-4 w-4 text-orange-500"});if(t)return s.jsx(Ge,{className:"h-4 w-4 text-yellow-500 animate-spin"});switch(e==null?void 0:e.toLowerCase()){case"running":return s.jsx(vn,{className:"h-4 w-4 text-green-500"});case"pending":return s.jsx(cr,{className:"h-4 w-4 text-yellow-500"});case"succeeded":return s.jsx(vn,{className:"h-4 w-4 text-blue-500"});case"failed":return s.jsx(Ls,{className:"h-4 w-4 text-red-500"});default:return s.jsx(st,{className:"h-4 w-4 text-muted-foreground"})}}function Nse(e,t,n){if(n)return"text-orange-500";if(t)return"text-yellow-500";switch(e==null?void 0:e.toLowerCase()){case"running":return"text-green-500";case"pending":return"text-yellow-500";case"succeeded":return"text-blue-500";case"failed":return"text-red-500";default:return"text-muted-foreground"}}function Cse({modelAPI:e}){var m,h,y,g,b;const t=Vt(),{pods:n,deployments:r,services:o}=ot(),a=n.filter(p=>{const v=p.metadata.labels||{},w=p.metadata.name.toLowerCase(),C=e.metadata.name.toLowerCase();return w.includes(`modelapi-${C}`)||v.modelapi===e.metadata.name||v["app.kubernetes.io/name"]===`modelapi-${e.metadata.name}`}),i=a.length,l=a.filter(p=>{var v;return((v=p.status)==null?void 0:v.phase)==="Running"}).length,c=a.some(p=>{var v;return((v=p.status)==null?void 0:v.phase)!=="Running"||lC(p)>0}),u=r.find(p=>{var v;return p.metadata.name.includes(`modelapi-${e.metadata.name}`)||((v=p.metadata.labels)==null?void 0:v.modelapi)===e.metadata.name}),f=o.find(p=>{var v;return p.metadata.name.includes(`modelapi-${e.metadata.name}`)||((v=p.metadata.labels)==null?void 0:v.modelapi)===e.metadata.name}),d=p=>{const v=e.metadata.namespace||"default",w=encodeURIComponent(`/modelapis/${v}/${e.metadata.name}?tab=pods`);t(`/pods/${p.metadata.namespace||"default"}/${p.metadata.name}?tab=logs&returnTo=${w}`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-modelapi"}),"Total Pods"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[l," running"]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(_f,{className:"h-4 w-4 text-primary"}),"Mode"]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.spec.mode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Model API Mode"})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ge,{className:"h-4 w-4 text-modelapi"}),"Deployment"]})}),s.jsx(je,{children:u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((m=u.status)==null?void 0:m.readyReplicas)||0,"/",((h=u.spec)==null?void 0:h.replicas)||1]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"replicas ready"})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not found"})})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[c?s.jsx(st,{className:"h-4 w-4 text-yellow-500"}):s.jsx(vn,{className:"h-4 w-4 text-green-500"}),"Health"]})}),s.jsxs(je,{children:[s.jsx("div",{className:J("text-2xl font-bold",c?"text-yellow-500":"text-green-500"),children:c?"Warning":"Healthy"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c?"Check pod status below":"All systems operational"})]})]})]}),f&&s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Service Endpoint"}),s.jsx(Ot,{children:"Internal cluster endpoint for this Model API"})]}),s.jsx(je,{children:s.jsxs("code",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:[f.metadata.name,".",f.metadata.namespace,".svc.cluster.local:",((b=(g=(y=f.spec)==null?void 0:y.ports)==null?void 0:g[0])==null?void 0:b.port)||8e3]})})]}),s.jsxs(be,{children:[s.jsxs(Ne,{children:[s.jsxs(Ce,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(_f,{className:"h-4 w-4 text-modelapi"}),s.jsx("span",{children:"ModelAPI:"}),s.jsx("span",{className:"font-mono",children:e.metadata.name}),s.jsxs(Z,{variant:"outline",className:"ml-2",children:[a.length," pod",a.length!==1?"s":""]})]}),s.jsx(Ot,{children:"Click on a pod to view its logs"})]}),s.jsx(je,{children:a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(st,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pods found for this Model API"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The API may not be deployed or pods are in another namespace"})]}):s.jsx(Je,{className:"max-h-[400px]",children:s.jsxs(Wh,{children:[s.jsx(Kh,{children:s.jsxs(La,{children:[s.jsx(Nt,{children:"Name"}),s.jsx(Nt,{children:"Status"}),s.jsx(Nt,{children:"Ready"}),s.jsx(Nt,{children:"Restarts"}),s.jsx(Nt,{children:"Age"}),s.jsx(Nt,{children:"Host IP"}),s.jsx(Nt,{className:"w-10"})]})}),s.jsx(qh,{children:a.map(p=>{var j;const{ready:v,total:w}=vse(p),C=lC(p),N=bse(p);return s.jsxs(La,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>d(p),children:[s.jsx(Ct,{className:"font-mono text-xs",children:p.metadata.name}),s.jsx(Ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[jse(N.status,N.isRolling,N.isTerminating),s.jsx("span",{className:J("text-sm",Nse(N.status,N.isRolling,N.isTerminating)),children:N.status}),N.isRolling&&!N.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Rolling"}),N.isTerminating&&s.jsx(Z,{variant:"outline",className:"text-xs text-orange-600 border-orange-600",children:"Terminating"})]})}),s.jsx(Ct,{children:s.jsxs(Z,{variant:v===w&&w>0?"success":"secondary",children:[v,"/",w]})}),s.jsx(Ct,{children:s.jsx("span",{className:J(C>0?"text-yellow-500":"text-muted-foreground"),children:C})}),s.jsx(Ct,{className:"text-muted-foreground",children:wse(p.metadata.creationTimestamp)}),s.jsx(Ct,{className:"text-xs text-muted-foreground",children:((j=p.status)==null?void 0:j.hostIP)||"-"}),s.jsx(Ct,{title:"View pod details",children:s.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})})]},p.metadata.uid)})})]})})})]})]})}function Sse({modelAPI:e}){var C,N,j,S,P,M,E;const[t,n]=x.useState("Hello, can you tell me a short joke?"),[r,o]=x.useState(""),[a,i]=x.useState(""),[l,c]=x.useState(!1),[u,f]=x.useState([]),[d,m]=x.useState(null),h=`modelapi-${e.metadata.name}`,y=e.metadata.namespace||"default",g=e.spec.mode==="Proxy"?((N=(C=e.spec.proxyConfig)==null?void 0:C.models)==null?void 0:N[0])||"gpt-3.5-turbo":((j=e.spec.hostedConfig)==null?void 0:j.model)||"llama2",b=x.useCallback(async()=>{if(!ke.isConfigured()){f(R=>[{timestamp:new Date,request:{model:r||g,messages:[{role:"user",content:t}]},error:"Kubernetes client not configured"},...R]);return}c(!0);const k=Date.now();let T;if(a.trim()){const R=parseInt(a.trim(),10);isNaN(R)||(T=R)}const D={model:r||g,messages:[{role:"user",content:t}],max_tokens:256,...T!==void 0&&{seed:T}};try{const R=await ke.proxyServiceRequest(h,"/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)},y),$=Date.now()-k,L=await R.json();f(F=>[{timestamp:new Date,request:D,response:{status:R.status,data:L,latency:$}},...F])}catch(R){const $=Date.now()-k,L=R instanceof Error?R.message:"Failed to send request";f(F=>[{timestamp:new Date,request:D,error:`${L} (after ${$}ms)`},...F])}finally{c(!1)}},[t,r,a,g,h,y]),p=k=>{const T=u[k],D=JSON.stringify(T,null,2);navigator.clipboard.writeText(D),m(k),setTimeout(()=>m(null),2e3)},v=()=>{f([])},w=k=>{var D,R,$,L,F;if(k.error)return k.error;if(!((D=k.response)!=null&&D.data))return"No response data";const T=k.response.data;return(L=($=(R=T.choices)==null?void 0:R[0])==null?void 0:$.message)!=null&&L.content?T.choices[0].message.content:(F=T.error)!=null&&F.message?`Error: ${T.error.message}`:JSON.stringify(T,null,2)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(be,{children:[s.jsxs(Ne,{className:"pb-3",children:[s.jsx(Ce,{className:"text-base",children:"Send Test Request"}),s.jsx(Ot,{children:"Send a stateless request to test the ModelAPI endpoint"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"model",children:"Model (optional)"}),s.jsx(Re,{id:"model",placeholder:g,value:r,onChange:k=>o(k.target.value)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Leave empty to use: ",g]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"seed",children:"Seed (optional)"}),s.jsx(Re,{id:"seed",type:"number",placeholder:"e.g., 12345",value:a,onChange:k=>i(k.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"For deterministic responses"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{children:"Endpoint"}),s.jsx("div",{className:"flex items-center h-10 px-3 rounded-md bg-muted text-sm font-mono overflow-hidden",children:s.jsx("span",{className:"truncate",children:((S=e.status)==null?void 0:S.endpoint)||`http://${h}.${y}.svc.cluster.local:8000`})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xe,{htmlFor:"prompt",children:"Prompt"}),s.jsx(mr,{id:"prompt",placeholder:"Enter your test prompt...",value:t,onChange:k=>n(k.target.value),rows:3})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(G,{onClick:b,disabled:l||!t.trim(),className:"gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(d2,{className:"h-4 w-4"}),"Send Request"]})}),u.length>0&&s.jsxs(G,{variant:"ghost",size:"sm",onClick:v,className:"gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Clear History"]})]})]})]}),u.length>0&&s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(Ce,{className:"text-base flex items-center justify-between",children:["Response History",s.jsxs(Z,{variant:"secondary",children:[u.length," request",u.length!==1?"s":""]})]})}),s.jsx(je,{children:s.jsx(Je,{className:"h-[400px] pr-4",children:s.jsx("div",{className:"space-y-4",children:u.map((k,T)=>{var D;return s.jsxs("div",{className:`p-4 rounded-lg border ${k.error?"border-destructive/50 bg-destructive/5":"border-border bg-muted/30"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[k.error?s.jsx(st,{className:"h-4 w-4 text-destructive"}):s.jsx(vn,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:k.timestamp.toLocaleTimeString()}),k.response&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{variant:k.response.status>=200&&k.response.status<300?"success":"destructive",className:"text-xs",children:k.response.status}),s.jsxs(Z,{variant:"outline",className:"text-xs",children:[k.response.latency,"ms"]})]})]}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(T),children:d===T?s.jsx(Fr,{className:"h-3 w-3 text-success"}):s.jsx(Uo,{className:"h-3 w-3"})})]}),s.jsxs(Ba,{defaultValue:"response",className:"w-full",children:[s.jsxs(Qo,{className:"h-8",children:[s.jsx(ct,{value:"response",className:"text-xs h-7",children:"Response"}),s.jsx(ct,{value:"request",className:"text-xs h-7",children:"Request"}),s.jsx(ct,{value:"raw",className:"text-xs h-7",children:"Raw"})]}),s.jsx(xt,{value:"response",className:"mt-2",children:s.jsx("div",{className:`text-sm whitespace-pre-wrap ${k.error?"text-destructive":""}`,children:w(k)})}),s.jsx(xt,{value:"request",className:"mt-2",children:s.jsx("pre",{className:"text-xs font-mono bg-background/50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(k.request,null,2)})}),s.jsx(xt,{value:"raw",className:"mt-2",children:s.jsx("pre",{className:"text-xs font-mono bg-background/50 p-2 rounded overflow-auto max-h-48",children:JSON.stringify(((D=k.response)==null?void 0:D.data)||k.error,null,2)})})]})]},T)})})})})]}),s.jsxs(be,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsx(Ce,{className:"text-base",children:"Diagnostics Info"})}),s.jsxs(je,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),s.jsx("p",{className:"font-medium",children:e.spec.mode})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("p",{className:"font-medium",children:s.jsx(Z,{variant:(P=e.status)!=null&&P.ready?"success":"warning",children:((M=e.status)==null?void 0:M.phase)||"Unknown"})})]})]}),!((E=e.status)!=null&&E.ready)&&s.jsxs($o,{variant:"destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx(Fo,{children:"ModelAPI is not ready. Requests may fail until the service is available."})]})]})]})]})}function kse(){var C,N;const{namespace:e,name:t}=Qm(),[n]=Jm(),r=Vt(),{toast:o}=$r(),{modelAPIs:a}=ot(),{deleteModelAPI:i,refreshAll:l,connected:c}=Et(),[u,f]=x.useState(null),[d,m]=x.useState(!1),[h,y]=x.useState(!1),g=n.get("tab")||"overview",[b,p]=x.useState(g);x.useEffect(()=>{const j=a.find(S=>S.metadata.name===t&&(S.metadata.namespace||"default")===e);f(j||null)},[a,t,e]);const v=async()=>{if(u){y(!0);try{await i(u.metadata.name,u.metadata.namespace),o({title:"ModelAPI deleted",description:`${u.metadata.name} has been deleted.`}),r("/")}catch(j){o({variant:"destructive",title:"Failed to delete ModelAPI",description:j instanceof Error?j.message:"Unknown error"})}finally{y(!1)}}},w=j=>{switch(j){case"Running":case"Ready":return"success";case"Pending":return"warning";case"Error":case"Failed":return"destructive";default:return"secondary"}};return c?u?s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"shrink-0",children:s.jsx(du,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-modelapi/10 flex items-center justify-center",children:s.jsx(Wt,{className:"h-6 w-6 text-modelapi"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:u.metadata.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-mono",children:u.metadata.namespace||"default"}),s.jsx(Z,{variant:w((C=u.status)==null?void 0:C.phase),className:"text-xs",children:((N=u.status)==null?void 0:N.phase)||"Unknown"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Du,{children:[s.jsx(U0,{asChild:!0,children:s.jsxs(G,{variant:"destructive",size:"sm",disabled:h,children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(wl,{children:[s.jsxs(bl,{children:[s.jsx(Nl,{children:"Delete ModelAPI?"}),s.jsxs(Cl,{children:['This will permanently delete the ModelAPI "',u.metadata.name,'". This action cannot be undone.']})]}),s.jsxs(jl,{children:[s.jsx(kl,{children:"Cancel"}),s.jsx(Sl,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),s.jsxs(Ba,{value:b,onValueChange:p,className:"space-y-6",children:[s.jsxs(Qo,{className:"grid w-full max-w-lg grid-cols-4",children:[s.jsxs(ct,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"h-3 w-3"}),"Overview"]}),s.jsxs(ct,{value:"diagnostics",className:"flex items-center gap-1",children:[s.jsx(Sv,{className:"h-3 w-3"}),"Diagnostics"]}),s.jsxs(ct,{value:"pods",className:"flex items-center gap-1",children:[s.jsx(os,{className:"h-3 w-3"}),"Pods"]}),s.jsxs(ct,{value:"yaml",className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"}),"YAML"]})]}),s.jsx(xt,{value:"overview",className:"space-y-6",children:s.jsx(yse,{modelAPI:u})}),s.jsx(xt,{value:"diagnostics",className:"space-y-6",children:s.jsx(Sse,{modelAPI:u})}),s.jsx(xt,{value:"pods",className:"space-y-6",children:s.jsx(Cse,{modelAPI:u})}),s.jsx(xt,{value:"yaml",className:"space-y-6",children:s.jsx(Lu,{resource:u,title:"ModelAPI YAML",maxHeight:"calc(100vh - 380px)"})})]}),s.jsx(V0,{modelAPI:u,open:d,onClose:()=>m(!1)})]}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"ModelAPI Not Found"}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:['The ModelAPI "',t,'" in namespace "',e,'" could not be found.']}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(G,{variant:"outline",onClick:()=>l(),children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please connect to a Kubernetes cluster first."}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})})}function Ese(){var F,_,I,A,B,U,O,q,ne,se;const{namespace:e,name:t}=Qm(),[n]=Jm(),r=Vt(),o=n.get("returnTo"),a=n.get("tab")||"overview",{pods:i}=ot(),{connected:l,refreshAll:c}=Et(),[u,f]=x.useState(a),[d,m]=x.useState(""),[h,y]=x.useState(!1),[g,b]=x.useState(null),[p,v]=x.useState(""),[w,C]=x.useState(200),[N,j]=x.useState(!1),[S,P]=x.useState(!1),M=x.useRef(null),E=i.find(z=>z.metadata.name===t&&z.metadata.namespace===e),k=((_=(F=E==null?void 0:E.spec)==null?void 0:F.containers)==null?void 0:_.map(z=>z.name))||[];x.useEffect(()=>{k.length>0&&!p&&v(k[0])},[k,p]);const T=x.useCallback(async()=>{if(!(!e||!t)){y(!0),b(null);try{const z=await ke.getPodLogs(t,e,{container:p||void 0,tailLines:w});m(z),M.current&&(M.current.scrollTop=M.current.scrollHeight)}catch(z){b(z instanceof Error?z.message:"Failed to fetch logs"),m("")}finally{y(!1)}}},[e,t,p,w]);x.useEffect(()=>{u==="logs"&&T()},[u,T]),x.useEffect(()=>{if(!N||u!=="logs")return;const z=setInterval(T,5e3);return()=>clearInterval(z)},[N,u,T]);const D=()=>{const z=new Blob([d],{type:"text/plain"}),W=URL.createObjectURL(z),Q=document.createElement("a");Q.href=W,Q.download=`${t}-${p||"logs"}.txt`,Q.click(),URL.revokeObjectURL(W)},R=(z,W)=>{const Q=/error|fatal|panic/i.test(z),ie=/warn|warning/i.test(z),ae=/info/i.test(z),oe=/debug|trace/i.test(z);let Y="text-foreground/80";return Q?Y="text-red-400":ie?Y="text-yellow-400":ae?Y="text-blue-400":oe&&(Y="text-muted-foreground"),s.jsx("div",{className:`font-mono text-xs whitespace-pre-wrap break-all ${Y}`,children:z},W)},$=()=>{const z=p||k[0],W=z?`kubectl exec -it -n ${e} ${t} -c ${z} -- /bin/sh`:`kubectl exec -it -n ${e} ${t} -- /bin/sh`;navigator.clipboard.writeText(W),P(!0),setTimeout(()=>P(!1),2e3)},L=()=>{r(o?decodeURIComponent(o):"/")};return l?E?s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{variant:"ghost",size:"icon",onClick:L,className:"shrink-0",children:s.jsx(du,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-pod/10 flex items-center justify-center",children:s.jsx(os,{className:"h-6 w-6 text-pod"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:E.metadata.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-mono",children:E.metadata.namespace||"default"}),s.jsx(Z,{variant:((I=E.status)==null?void 0:I.phase)==="Running"?"success":((A=E.status)==null?void 0:A.phase)==="Pending"?"warning":"destructive",className:"text-xs",children:((B=E.status)==null?void 0:B.phase)||"Unknown"})]})]})]})]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>c(),children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs(Ba,{value:u,onValueChange:f,className:"space-y-6",children:[s.jsxs(Qo,{className:"grid w-full max-w-md grid-cols-3",children:[s.jsxs(ct,{value:"overview",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"h-3 w-3"}),"Overview"]}),s.jsxs(ct,{value:"logs",className:"flex items-center gap-1",children:[s.jsx(Df,{className:"h-3 w-3"}),"Logs"]}),s.jsxs(ct,{value:"yaml",className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"}),"YAML"]})]}),s.jsx(xt,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(be,{children:[s.jsx(Ne,{children:s.jsx(Ce,{className:"text-base",children:"Pod Information"})}),s.jsxs(je,{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-mono font-medium",children:E.metadata.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Namespace"}),s.jsx("p",{className:"font-mono font-medium",children:E.metadata.namespace||"default"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status"}),s.jsx("p",{className:"font-medium",children:s.jsx(Z,{variant:((U=E.status)==null?void 0:U.phase)==="Running"?"success":((O=E.status)==null?void 0:O.phase)==="Pending"?"warning":"destructive",children:((q=E.status)==null?void 0:q.phase)||"Unknown"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Pod IP"}),s.jsx("p",{className:"font-mono font-medium",children:((ne=E.status)==null?void 0:ne.podIP)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Host IP"}),s.jsx("p",{className:"font-mono font-medium",children:((se=E.status)==null?void 0:se.hostIP)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Node"}),s.jsx("p",{className:"font-mono font-medium",children:E.spec.nodeName||"N/A"})]}),E.metadata.creationTimestamp&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Created"}),s.jsx("p",{className:"font-medium",children:new Date(E.metadata.creationTimestamp).toLocaleString()})]})]})]}),s.jsxs(be,{children:[s.jsx(Ne,{children:s.jsx(Ce,{className:"text-base",children:"Container Command & Args"})}),s.jsxs(je,{className:"space-y-4",children:[E.spec.containers.map(z=>s.jsxs("div",{className:"space-y-2",children:[k.length>1&&s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:z.name}),s.jsxs("div",{className:"space-y-2",children:[z.command&&z.command.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Command:"}),s.jsx("code",{className:"block bg-muted p-2 rounded-md font-mono text-xs break-all mt-1",children:z.command.join(" ")})]}),z.args&&z.args.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Args:"}),s.jsx("code",{className:"block bg-muted p-2 rounded-md font-mono text-xs break-all mt-1",children:z.args.join(" ")})]}),(!z.command||z.command.length===0)&&(!z.args||z.args.length===0)&&s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Using image default entrypoint"})]})]},z.name)),s.jsxs("div",{className:"pt-2 border-t border-border",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Exec into pod:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("code",{className:"flex-1 bg-muted p-2 rounded-md font-mono text-xs break-all",children:["kubectl exec -it -n ",e," ",t," ",p?`-c ${p}`:""," -- /bin/sh"]}),s.jsx(G,{variant:"outline",size:"icon",onClick:$,children:S?s.jsx(Fr,{className:"h-4 w-4 text-success"}):s.jsx(Uo,{className:"h-4 w-4"})})]})]})]})]}),s.jsxs(be,{className:"lg:col-span-2",children:[s.jsx(Ne,{children:s.jsxs(Ce,{className:"text-base",children:["Containers (",k.length,")"]})}),s.jsx(je,{children:s.jsx("div",{className:"space-y-4",children:E.spec.containers.map(z=>{var W;return s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:z.name}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:z.image})]}),s.jsxs(Z,{variant:"outline",children:[((W=z.ports)==null?void 0:W.length)||0," ports"]})]}),z.ports&&z.ports.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Ports:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z.ports.map((Q,ie)=>s.jsx(Z,{variant:"secondary",className:"text-xs",children:Q.containerPort},ie))})]})]},z.name)})})})]}),s.jsxs(be,{className:"lg:col-span-2",children:[s.jsx(Ne,{children:s.jsx(Ce,{className:"text-base",children:"Environment Variables"})}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-4",children:[E.spec.containers.map(z=>{const W=z.env||[];return W.length===0?null:s.jsxs("div",{className:"space-y-2",children:[k.length>1&&s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:z.name}),s.jsx("div",{className:"bg-muted/30 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground w-1/3",children:"Name"}),s.jsx("th",{className:"text-left p-2 font-medium text-muted-foreground",children:"Value / Source"})]})}),s.jsx("tbody",{children:W.map((Q,ie)=>{var ae,oe;return s.jsxs("tr",{className:"border-b border-border/50 last:border-0",children:[s.jsx("td",{className:"p-2 font-mono font-medium",children:Q.name}),s.jsx("td",{className:"p-2 font-mono text-muted-foreground break-all",children:Q.value?s.jsx("span",{className:"text-foreground",children:Q.value.length>100?Q.value.substring(0,100)+"...":Q.value}):(ae=Q.valueFrom)!=null&&ae.secretKeyRef?s.jsxs(Z,{variant:"outline",className:"text-xs",children:["Secret: ",Q.valueFrom.secretKeyRef.name,"/",Q.valueFrom.secretKeyRef.key]}):(oe=Q.valueFrom)!=null&&oe.configMapKeyRef?s.jsxs(Z,{variant:"secondary",className:"text-xs",children:["ConfigMap: ",Q.valueFrom.configMapKeyRef.name,"/",Q.valueFrom.configMapKeyRef.key]}):s.jsx("span",{className:"italic text-muted-foreground",children:"-"})})]},ie)})})]})})]},z.name)}),E.spec.containers.every(z=>!z.env||z.env.length===0)&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No environment variables configured"})]})})]}),(E.metadata.labels||E.metadata.annotations)&&s.jsxs(be,{className:"lg:col-span-2",children:[s.jsx(Ne,{children:s.jsx(Ce,{className:"text-base",children:"Labels & Annotations"})}),s.jsxs(je,{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.metadata.labels&&Object.keys(E.metadata.labels).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Labels"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(E.metadata.labels).map(([z,W])=>s.jsxs(Z,{variant:"secondary",className:"text-xs font-mono",children:[z,"=",W]},z))})]}),E.metadata.annotations&&Object.keys(E.metadata.annotations).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Annotations"}),s.jsxs("div",{className:"space-y-1 text-xs",children:[Object.entries(E.metadata.annotations).slice(0,5).map(([z,W])=>s.jsxs("div",{className:"font-mono bg-muted/50 p-2 rounded",children:[s.jsxs("span",{className:"text-muted-foreground",children:[z,":"]})," ",String(W).substring(0,100)]},z)),Object.keys(E.metadata.annotations).length>5&&s.jsxs("p",{className:"text-muted-foreground",children:["+",Object.keys(E.metadata.annotations).length-5," more"]})]})]})]})]})]})}),s.jsxs(xt,{value:"logs",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[k.length>1&&s.jsxs(xn,{value:p,onValueChange:v,children:[s.jsx(sn,{className:"w-[180px]",children:s.jsx(yn,{placeholder:"Select container"})}),s.jsx(on,{children:k.map(z=>s.jsx(ze,{value:z,children:z},z))})]}),s.jsxs(xn,{value:String(w),onValueChange:z=>C(Number(z)),children:[s.jsx(sn,{className:"w-[120px]",children:s.jsx(yn,{})}),s.jsxs(on,{children:[s.jsx(ze,{value:"50",children:"Last 50"}),s.jsx(ze,{value:"100",children:"Last 100"}),s.jsx(ze,{value:"200",children:"Last 200"}),s.jsx(ze,{value:"500",children:"Last 500"}),s.jsx(ze,{value:"1000",children:"Last 1000"})]})]}),s.jsxs(G,{variant:N?"default":"outline",size:"sm",onClick:()=>j(!N),children:[s.jsx(Ge,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),"Auto"]}),s.jsx(G,{variant:"outline",size:"sm",onClick:T,disabled:h,children:s.jsx(Ge,{className:`h-4 w-4 ${h?"animate-spin":""}`})}),s.jsx(G,{variant:"outline",size:"sm",onClick:D,disabled:!d,children:s.jsx(Nv,{className:"h-4 w-4"})})]}),s.jsxs(be,{className:"border-border",children:[s.jsx(Ne,{className:"py-3 border-b border-border",children:s.jsxs(Ce,{className:"text-sm font-medium flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Df,{className:"h-4 w-4"}),"Container Logs",p&&s.jsx(Z,{variant:"outline",className:"text-xs font-mono",children:p})]}),h&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})]})}),s.jsx(je,{className:"p-0",children:s.jsx(Je,{ref:M,className:"h-[calc(100vh-420px)] bg-muted/30",children:s.jsx("div",{className:"p-4 space-y-0.5",children:g?s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(st,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:g})]}):d?d.split(`
`).map((z,W)=>R(z,W)):s.jsx("p",{className:"text-muted-foreground text-sm",children:h?"Loading logs...":"No logs available"})})})})]})]}),s.jsx(xt,{value:"yaml",className:"space-y-6",children:s.jsx(Lu,{resource:E,title:"Pod YAML",maxHeight:"calc(100vh - 380px)"})})]})]}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Pod Not Found"}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:['The pod "',t,'" in namespace "',e,'" could not be found.']}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(G,{variant:"outline",onClick:()=>c(),children:[s.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Not Connected"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please connect to a Kubernetes cluster first."}),s.jsx(G,{onClick:()=>r("/"),children:"Go to Dashboard"})]})})}const Pse=new rz,Mse="/kaos-ui/v0.2.4/",Rse=()=>s.jsx(J8,{children:s.jsx(oz,{client:Pse,children:s.jsx(_6,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:s.jsxs(Vf,{children:[s.jsx(h5,{}),s.jsx(G5,{}),s.jsx(T6,{children:s.jsx(s6,{basename:Mse,children:s.jsxs(e6,{children:[s.jsxs(no,{element:s.jsx(x9,{}),children:[s.jsx(no,{path:"/",element:s.jsx(VX,{})}),s.jsx(no,{path:"/agents/:namespace/:name",element:s.jsx(ose,{})}),s.jsx(no,{path:"/mcpservers/:namespace/:name",element:s.jsx(xse,{})}),s.jsx(no,{path:"/modelapis/:namespace/:name",element:s.jsx(kse,{})}),s.jsx(no,{path:"/pods/:namespace/:name",element:s.jsx(Ese,{})})]}),s.jsx(no,{path:"*",element:s.jsx(BX,{})})]})})})]})})})});Rk(document.getElementById("root")).render(s.jsx(Rse,{}));
